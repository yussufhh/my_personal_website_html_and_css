/*! For license information please see graun.standalone.commercial.js.LICENSE.txt */
(()=>{"use strict";var e,t,n,r,o={9396:(e,t,n)=>{n.d(t,{r2:()=>he,gS:()=>ye,GD:()=>be,Ym:()=>we});var r,o,i="16.1.0",a=n(5872),s=()=>r,c=e=>{var t,n;null===(t=window.performance)||void 0===t||null===(n=t.mark)||void 0===n||n.call(t,e),(0,a.Rm)("cmp","[event]",e)},l="undefined"==typeof window,u=()=>{console.warn("This is a server-side version of the @guardian/consent-management-platform","No consent signals will be received.")},d=e=>()=>(u(),e),f={__disable:u,__enable:d(!1),__isDisabled:d(!1),hasInitialised:d(!1),init:u,showPrivacyManager:u,version:"n/a",willShowPrivacyMessage:d(Promise.resolve(!1)),willShowPrivacyMessageSync:d(!1)},p=()=>(void 0===o&&(o=!!l||window.location.host.endsWith(".theguardian.com")),o),m=p()?"https://sourcepoint.theguardian.com":"https://cdn.privacy-mgmt.com",v=()=>{return e="getUSPData",new Promise(((t,n)=>{window.__uspapi?window.__uspapi(e,1,((r,o)=>o?t(r):n(new Error("Unable to get ".concat(e," data"))))):n(new Error("No __uspapi found on window"))}));var e};function g(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}var h=function(){var e,t=(e=function*(){return{personalisedAdvertising:!("Y"===(yield v()).uspString.charAt(2))}},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){g(i,r,o,a,s,"next",e)}function s(e){g(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}(),b=()=>{return e="getUSPData",new Promise(((t,n)=>{window.__uspapi?window.__uspapi(e,1,((r,o)=>o?t(r):n(new Error("Unable to get ".concat(e," data"))))):n(new Error("No __uspapi found on window"))}));var e};function w(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}var y=function(){var e,t=(e=function*(){return{doNotSell:"Y"===(yield b()).uspString.charAt(2)}},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){w(i,r,o,a,s,"next",e)}function s(e){w(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}(),E=e=>new Promise(((t,n)=>{window.__tcfapi?window.__tcfapi(e,2,((r,o)=>o?t(r):n(new Error("Unable to get ".concat(e," data"))))):n(new Error("No __tcfapi found on window"))}));function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}var k={1:!1,2:!1,3:!1,4:!1,5:!1,6:!1,7:!1,8:!1,9:!1,10:!1},A=function(){var e,t=(e=function*(){var[e,t]=yield Promise.all([E("addEventListener"),E("getCustomVendorConsents")]);if(void 0===e){var n,r=null!==(n=s())&&void 0!==n?n:"undefined";throw new Error("No TC Data found with current framework: ".concat(r))}var o=_(_({},k),e.purpose.consents),{eventStatus:i,gdprApplies:a,tcString:c,addtlConsent:l}=e,{grants:u}=t;return{consents:o,eventStatus:i,vendorConsents:Object.keys(u).sort().reduce(((e,t)=>{var n;return _(_({},e),{},{[t]:null===(n=u[t])||void 0===n?void 0:n.vendorGrant})}),{}),addtlConsent:l,gdprApplies:a,tcString:c}},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){O(i,r,o,a,s,"next",e)}function s(e){O(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();function j(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D,R=[],B=[],L=e=>{var t;return"cmpuishown"===(null===(t=e.tcfv2)||void 0===t?void 0:t.eventStatus)},M=(e,t)=>{if(!L(t)){var n=JSON.stringify(t);n!==e.lastState&&(e.fn(t),e.lastState=n)}},I=e=>{var t=l?void 0:navigator.globalPrivacyControl;if(e.tcfv2){var n=e.tcfv2.consents;return x(x({},e),{},{canTarget:Object.keys(n).length>0&&Object.values(n).every(Boolean),framework:"tcfv2",gpcSignal:t})}return e.ccpa?x(x({},e),{},{canTarget:!e.ccpa.doNotSell,framework:"ccpa",gpcSignal:t}):e.aus?x(x({},e),{},{canTarget:e.aus.personalisedAdvertising,framework:"aus",gpcSignal:t}):x(x({},e),{},{canTarget:!1,framework:null,gpcSignal:t})},F=function(){var e,t=(e=function*(){switch(s()){case"aus":return I({aus:yield h()});case"ccpa":return I({ccpa:yield y()});case"tcfv2":return I({tcfv2:yield A()});default:throw new Error("no IAB consent framework found on the page")}},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){j(i,r,o,a,s,"next",e)}function s(e){j(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}(),N=()=>{var e=R.concat(B);0!==e.length&&F().then((t=>{L(t)||e.forEach((e=>M(e,t)))}))},z=function(e){var t={fn:e};arguments.length>1&&void 0!==arguments[1]&&arguments[1]?B.push(t):R.push(t),F().then((e=>{M(t,e)})).catch((()=>{}))},U=()=>{!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){var r=n(2);e.exports=!r((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){n(4),function(){if("function"!=typeof window.__tcfapi){var e,t=[],n=window,r=n.document;!n.__tcfapi&&function e(){var t=!!n.frames.__tcfapiLocator;if(!t)if(r.body){var o=r.createElement("iframe");o.style.cssText="display:none",o.name="__tcfapiLocator",r.body.appendChild(o)}else setTimeout(e,5);return!t}()&&(n.__tcfapi=function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];if(!r.length)return t;if("setGdprApplies"===r[0])r.length>3&&2===parseInt(r[1],10)&&"boolean"==typeof r[3]&&(e=r[3],"function"==typeof r[2]&&r[2]("set",!0));else if("ping"===r[0]){var i={gdprApplies:e,cmpLoaded:!1,apiVersion:"2.0"};"function"==typeof r[2]&&r[2](i,!0)}else t.push(r)},n.addEventListener("message",(function(e){var t="string"==typeof e.data,r={};try{r=t?JSON.parse(e.data):e.data}catch(e){}var o=r.__tcfapiCall;o&&n.__tcfapi(o.command,o.version,(function(n,r){var i={__tcfapiReturn:{returnValue:n,success:r,callId:o.callId}};t&&(i=JSON.stringify(i)),e.source.postMessage(i,"*")}),o.parameter)}),!1))}}()},function(e,t,n){var r=n(0),o=n(5).f,i=Function.prototype,a=i.toString,s=/^s*function ([^ (]*)/;r&&!("name"in i)&&o(i,"name",{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(e){return""}}})},function(e,t,n){var r=n(0),o=n(6),i=n(10),a=n(11),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(i(e),t=a(t,!0),i(n),o)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(0),o=n(2),i=n(7);e.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(8),o=n(1),i=r.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")()}).call(this,n(9))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(1);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){var r=n(1);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}}])},q=()=>{!function(){var e=window,t=document;function n(t){var n="string"==typeof t.data;try{var r=n?JSON.parse(t.data):t.data;if(r.__cmpCall){var o=r.__cmpCall;e.__uspapi(o.command,o.parameter,(function(e,r){var i={__cmpReturn:{returnValue:e,success:r,callId:o.callId}};t.source.postMessage(n?JSON.stringify(i):i,"*")}))}}catch(r){}}!function n(){if(!e.frames.__uspapiLocator)if(t.body){var r=t.body,o=t.createElement("iframe");o.style.cssText="display:none",o.name="__uspapiLocator",r.appendChild(o)}else setTimeout(n,5)}(),"function"!=typeof __uspapi&&(e.__uspapi=function(){var e=arguments;if(__uspapi.a=__uspapi.a||[],!e.length)return __uspapi.a;"ping"===e[0]?e[2]({gdprAppliesGlobally:!1,cmpLoaded:!1},!0):__uspapi.a.push([].slice.apply(e))},__uspapi.msgHandler=n,e.addEventListener("message",n,!1))}()};function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $=new Promise((e=>{D=e})),V=e=>"aus"==e?"https://au.theguardian.com":p()?null:"https://test.theguardian.com",J=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((e=>{switch(e){case"tcfv2":U();break;case"ccpa":case"aus":q()}})(e),window._sp_)throw new Error("Sourcepoint global (window._sp_) is already defined!");(e=>{(0,a.Rm)("cmp","Framework set to ".concat(e)),r=e})(e),N();var n="tcfv2"==e?"gdpr":"ccpa";switch((0,a.Rm)("cmp","framework: ".concat(e)),(0,a.Rm)("cmp","frameworkMessageType: ".concat(n)),window._sp_queue=[],window._sp_={config:{baseEndpoint:m,accountId:1257,propertyHref:V(e),targetingParams:{framework:e},pubData:W(W({},t),{},{cmpInitTimeUtc:(new Date).getTime()}),events:{onConsentReady:(e,t,r)=>{(0,a.Rm)("cmp","onConsentReady ".concat(e)),e==n&&((0,a.Rm)("cmp","consentUUID ".concat(t)),(0,a.Rm)("cmp","euconsent ".concat(r)),c("cmp-got-consent"),setTimeout(N,0))},onMessageReady:e=>{(0,a.Rm)("cmp","onMessageReady ".concat(e)),e==n&&c("cmp-ui-displayed")},onMessageReceiveData:(e,t)=>{(0,a.Rm)("cmp","onMessageReceiveData ".concat(e)),e==n&&((0,a.Rm)("cmp","onMessageReceiveData ",t),D(0!==t.messageId))},onMessageChoiceSelect:(e,t,r)=>{(0,a.Rm)("cmp","onMessageChoiceSelect message_type: ".concat(e)),console.log(),e==n&&((0,a.Rm)("cmp","onMessageChoiceSelect choice_id: ".concat(t)),(0,a.Rm)("cmp","onMessageChoiceSelect choice_type_id: ".concat(r)),11!==r&&13!==r&&15!==r||setTimeout(N,0))},onPrivacyManagerAction:function(e,t){(0,a.Rm)("cmp","onPrivacyManagerAction message_type: ".concat(e)),e==n&&(0,a.Rm)("cmp","onPrivacyManagerAction ".concat(t))},onMessageChoiceError:function(e,t){(0,a.Rm)("cmp","onMessageChoiceError ".concat(e)),e==n&&(0,a.Rm)("cmp","onMessageChoiceError ".concat(t))},onPMCancel:function(e){(0,a.Rm)("cmp","onPMCancel ".concat(e))},onSPPMObjectReady:function(){(0,a.Rm)("cmp","onSPPMObjectReady")},onError:function(e,t,r,o){(0,a.Rm)("cmp","errorCode: ".concat(e)),e==n&&((0,a.Rm)("cmp","errorCode: ".concat(t)),(0,a.Rm)("cmp",r),(0,a.Rm)("cmp","userReset: ".concat(o)))}}}},e){case"tcfv2":window._sp_.config.gdpr={targetingParams:{framework:e}};break;case"ccpa":case"aus":window._sp_.config.ccpa={targetingParams:{framework:e}}}var o=document.createElement("script");o.id="sourcepoint-lib",o.src="".concat(m,"/unified/wrapperMessagingWithoutDetection.js"),document.body.appendChild(o)};var K=(e,t)=>{c("cmp-init"),J(e,t)},X=()=>$,Y=function(){var e,t,n,r,o,i;switch(s()){case"tcfv2":null===(e=window._sp_)||void 0===e||null===(e=e.gdpr)||void 0===e||null===(t=e.loadPrivacyManagerModal)||void 0===t||t.call(e,106842);break;case"ccpa":null===(n=window._sp_)||void 0===n||null===(n=n.ccpa)||void 0===n||null===(r=n.loadPrivacyManagerModal)||void 0===r||r.call(n,540252);break;case"aus":null===(o=window._sp_)||void 0===o||null===(o=o.ccpa)||void 0===o||null===(i=o.loadPrivacyManagerModal)||void 0===i||i.call(o,540341)}},Z="gu-cmp-disabled",Q=()=>new RegExp("".concat(Z,"=true(\\W+|$)")).test(document.cookie);function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ne(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var re,oe,ie,ae,se,ce=te(te(te({},{a9:["5f369a02b8e05c308701f829"],acast:["5f203dcb1f0dea790562e20f"],braze:["5ed8c49c4b8ce4571c7ad801"],comscore:["5efefe25b8e05c06542b2a77"],criteo:["5e98e7f1b8e05c111d01b462"],"google-analytics":["5e542b3a4cd8884eb41b5a72"],"google-mobile-ads":["5f1aada6b8e05c306c0597d7"],"google-tag-manager":["5e952f6107d9d20c88e7c975"],googletag:["5f1aada6b8e05c306c0597d7"],ias:["5e7ced57b8e05c485246ccf3"],inizio:["5e37fc3e56a5e6615502f9c9"],ipsos:["5fa51b29a228638b4a1980e4"],magnite:["5e7ced57b8e05c485246cce5"],nielsen:["5ef5c3a5b8e05c69980eaa5b"],ophan:["5f203dbeeaaaa8768fd3226a"],permutive:["5f369a02b8e05c2f2d546a40"],prebidCustom:["5f22bfd82a6b6c1afd1181a9"],qm:["5f295fa4b8e05c76a44c3149"],remarketing:["5ed0eb688a76503f1016578f"],sentry:["5f0f39014effda6e8bbd2006"],teads:["5eab3d5ab8e05c2bbe33f399"],twitter:["5e71760b69966540e4554f01"],"youtube-player":["5e7ac3fae30e7d1bc1ebf5e8"]}),{redplanet:["not-tcfv2-vendor"]}),{prebid:["5f92a62aa22863685f4daa4c"]}),le=(e,t)=>{var n,r=ce[e];if(void 0===r||Array.isArray(r)&&0===r.length)throw new Error("Vendor '".concat(e,"' not found, or with no Sourcepoint ID. ")+"If it should be added, raise an issue at https://github.com/guardian/consent-management-platform/issues");if(t.ccpa)return!t.ccpa.doNotSell;if(t.aus)return t.aus.personalisedAdvertising;var o=r.find((e=>{var n;return void 0!==(null===(n=t.tcfv2)||void 0===n?void 0:n.vendorConsents[e])}));if(void 0===o)return console.warn("No consent returned from Sourcepoint for vendor: '".concat(e,"'")),!1;var i=null===(n=t.tcfv2)||void 0===n?void 0:n.vendorConsents[o];return void 0===i?(console.warn("No consent returned from Sourcepoint for vendor: '".concat(e,"'")),!1):i},ue=n(5818),de=n(4965),fe={a9:{localStorage:["apstagUserAgentClientHints","apstagCxMEnabled"]},inizio:{localStorage:["__bm_s","__bm_m"]},criteo:{cookies:["cto_bundle"],localStorage:["criteo_fast_bid_expires","cto_bundle","criteo_fast_bid","criteo_pt_cdb_mngr_metrics","__ansync3rdp_criteo"]},comscore:{cookies:["comScore","_scor_uid"]},ipsos:{cookies:["DM_SitId1073","DM_SitId1073SecId5802","DotMetrics.AmpCookie"],localStorage:["DotmetricsSiteData","DotMetricsTimeOnPage","DotMetricsUserId","DotMetricsDeviceGuidId"]},permutive:{cookies:["permutive-id"],localStorage:["permutive-data-queries","_pubcid","permutive-pvc","permutive-data-enrichers","permutive-session","permutive-data-misc","permutive-unprocessed-pba","permutive-app","permutive-data-models","permutive-id","permutive-consent","permutive-events-cache","permutive-data-queries","permutive-events-for-page","__permutiveConfigQueryParams"],sessionStorage:["__permutiveConfigQueryParams"]},prebid:{localStorage:["_psegs","_pubcid_exp"]},googletag:{cookies:["__gpi","__gads"]},"google-analytics":{cookies:["_gid","_ga"]}},pe=e=>Object.keys(fe).forEach((t=>{var n=le(t,e),r=fe[t];n||("cookies"in r&&r.cookies.forEach((e=>{(0,ue.z)({name:e})})),"localStorage"in r&&r.localStorage.forEach((e=>{de.I.local.remove(e)})),"sessionStorage"in r&&r.sessionStorage.forEach((e=>{de.I.session.remove(e)})))}));l||void 0===window.guCmpHotFix&&(window.guCmpHotFix={});var me,ve=!1,ge=new Promise((e=>{me=e})),he=l?f:(re=window.guCmpHotFix).cmp||(re.cmp={init:e=>{var{pubData:t,country:n}=e;if(!Q()&&!l)if(window.guCmpHotFix.initialised){var r,o;(null===(r=window.guCmpHotFix.cmp)||void 0===r?void 0:r.version)!==i&&console.warn("Two different versions of the CMP are running:",[i,null===(o=window.guCmpHotFix.cmp)||void 0===o?void 0:o.version])}else{if(window.guCmpHotFix.initialised=!0,void 0===n)throw new Error("CMP initialised without `country` property. A 2-letter, ISO ISO_3166-1 country code is required.");var s=(e=>{var t;switch(e){case"US":t="ccpa";break;case"AU":t="aus";break;default:t="tcfv2"}return t})(n);K(s,null!=t?t:{}),X().then((e=>{se=e,ve=!0,(0,a.Rm)("cmp","initComplete")})),me(),z((e=>{"requestIdleCallback"in window?requestIdleCallback((()=>{pe(e)}),{timeout:2e3}):pe(e)}))}},willShowPrivacyMessage:()=>ge.then((()=>X())),willShowPrivacyMessageSync:()=>{if(void 0!==se)return se;throw new Error("CMP has not been initialised. Use the async willShowPrivacyMessage() instead.")},hasInitialised:()=>ve,showPrivacyManager:()=>{ge.then(Y)},version:i,__isDisabled:Q,__enable:()=>{document.cookie="".concat(Z,"=false")},__disable:()=>{document.cookie="".concat(Z,"=true")}}),be=l?()=>(u(),Promise.resolve({canTarget:!1,framework:null})):(oe=window.guCmpHotFix).onConsent||(oe.onConsent=()=>new Promise(((e,t)=>{z((n=>{var r,o;(null!==(r=null!==(o=n.tcfv2)&&void 0!==o?o:n.ccpa)&&void 0!==r?r:n.aus)&&e(n),t("Unknown framework")}))}))),we=l?()=>u():(ie=window.guCmpHotFix).onConsentChange||(ie.onConsentChange=z),ye=l?(e,t)=>(console.log("Server-side call for getConsentFor(".concat(e,", ").concat(JSON.stringify(t),")"),"getConsentFor will always return false server-side"),u(),!1):(ae=window.guCmpHotFix).getConsentFor||(ae.getConsentFor=le)},7802:(e,t,n)=>{n.d(t,{d:()=>r});var r="Cookie must not contain invalid characters (space, tab and the following characters: '()<>@,;\"/[]?={}')"},5148:(e,t,n)=>{n.d(t,{R:()=>i});var r=n(5478),o=n(829),i=e=>{var{name:t,shouldMemoize:n=!1}=e,i=o.G.get(t);if(i)return i;var[a]=(0,r.x)(t);return a?(n&&o.G.set(t,a),a):null}},5478:(e,t,n)=>{n.d(t,{x:()=>r});var r=e=>{var t="".concat(e,"=");return document.cookie.split(";").reduce(((e,n)=>{var r=n.trim();return r.startsWith(t)&&e.push(r.substring(t.length,r.length)),e}),[])}},4760:(e,t,n)=>{n.d(t,{z:()=>o});var r=n(5834),o=function(){var{isCrossSubdomain:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,r.Z)({isCrossSubdomain:e});return"localhost"===t?"":" domain=".concat(t,";")}},5834:(e,t,n)=>{n.d(t,{Z:()=>r});var r=function(){var e,{isCrossSubdomain:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=document.domain||"";return"localhost"===n||null!==(e=window.guardian)&&void 0!==e&&null!==(e=e.config)&&void 0!==e&&null!==(e=e.page)&&void 0!==e&&e.isPreview?n:t?["",...n.split(".").slice(-2)].join("."):n.replace(/^(www|m\.code|dev|m)\./,".")}},9750:(e,t,n)=>{n.d(t,{t:()=>i});var r=/[()<>@,;"\\/[\]?={} \t]/g,o=e=>!r.test(e),i=(e,t)=>o(e)&&o(t)},829:(e,t,n)=>{n.d(t,{G:()=>r});var r=new Map},5818:(e,t,n)=>{n.d(t,{z:()=>o});var r=n(5834),o=e=>{var{name:t,currentDomainOnly:n=!1}=e,o="expires=Thu, 01 Jan 1970 00:00:01 GMT;",i="path=/;";document.cookie="".concat(t,"=;").concat(i).concat(o),n||(document.cookie="".concat(t,"=;").concat(i).concat(o," domain=").concat((0,r.Z)(),";"))}},7544:(e,t,n)=>{n.d(t,{T:()=>c});var r=n(7802),o=n(5478),i=n(4760),a=n(9750),s=n(829),c=e=>{var{name:t,value:n,daysToLive:c,isCrossSubdomain:l=!1}=e,u=new Date;if(!(0,a.t)(t,n))throw new Error("".concat(r.d," ").concat(t,"=").concat(n));if(c?u.setUTCDate(u.getUTCDate()+c):(u.setUTCMonth(u.getUTCMonth()+5),u.setUTCDate(1)),document.cookie="".concat(t,"=").concat(n,"; path=/; expires=").concat(u.toUTCString(),";").concat((0,i.z)({isCrossSubdomain:l})),s.G.has(t)){var[d]=(0,o.x)(t);d&&s.G.set(t,d)}}},2285:(e,t,n)=>{n.d(t,{R:()=>r});var r=e=>null!=e},5781:(e,t,n)=>{n.d(t,{G:()=>r});var r=e=>{if("[object Object]"!==Object.prototype.toString.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}},1445:(e,t,n)=>{n.d(t,{K:()=>r});var r=e=>"[object String]"===Object.prototype.toString.call(e)},205:(e,t,n)=>{n.d(t,{b:()=>r});var r=e=>void 0===e},8001:(e,t,n)=>{n.d(t,{k:()=>r});var r=(e,t)=>new Promise(((n,r)=>{var o,i=document.createElement("script");if(i.src=e,Array.from(document.scripts).some((e=>{var{src:t}=e;return i.src===t})))return n(void 0);Object.assign(i,t),i.onload=n,i.onerror=(t,n,o,i,a)=>{if(a)r(a);else if("string"!=typeof t)if(t instanceof Event){var s,c=null!==(s=t.target.getAttribute("src"))&&void 0!==s?s:"";r(new Error("Error loading script: src: ".concat(e," targetSrc: ").concat(c)))}else r(new Error("Error loading script: src: ".concat(e)));else r(new Error("Error loading script: src: ".concat(e," event: ").concat(t)))};var a=document.scripts[0];null==a||null===(o=a.parentNode)||void 0===o||o.insertBefore(i,a)}))},5872:(e,t,n)=>{n.d(t,{Rm:()=>h});var r,o=n(1445),i=n(205),a=n(4965),s="gu.logger",c=n(6673);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f,p,m=()=>{if((0,i.b)(r)){var e=a.I.local.get(s);r=(0,o.K)(e)?new Set(e.split(",").filter(c.Uv)):new Set}return r},v=u(u({},c.wU),c.FI),g=e=>{var{background:t,font:n}=v[e];return"background: ".concat(t,"; color: ").concat(n,"; padding: 2px 6px; border-radius:20px")},h=function(e){if((e=>m().has(e))(e)){for(var t=[g("common"),"",g(e),""],n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];console.log("%c@guardian%c %c".concat(e,"%c"),...t,...r)}};"undefined"!=typeof window&&((f=window).guardian||(f.guardian={}),(p=window.guardian).logger||(p.logger={subscribeTo:e=>{var t=m();t.add(e),a.I.local.set(s,Array.from(t).join(",")),h(e,"🔔 Subscribed, hello!")},unsubscribeFrom:e=>{var t=m();t.delete(e),a.I.local.set(s,Array.from(t).join(",")),h(e,"🔕 Unsubscribed, good-bye!")},teams:()=>(console.warn("guardian.logger.teams() is deprecated - use subscriptions()"),Object.keys(c.wU)),subscriptions:()=>Object.keys(c.wU)}))},6673:(e,t,n)=>{n.d(t,{FI:()=>r,Uv:()=>i,wU:()=>o});var r={common:{background:"#C1D8FC",font:"#052962"}},o={commercial:{background:"#77EEAA",font:"#004400"},cmp:{background:"#FF6BB5",font:"#2F0404"},dotcom:{background:"#000000",font:"#ff7300"},design:{background:"#185E36",font:"#FFF4F2"},tx:{background:"#2F4F4F",font:"#FFFFFF"},supporterRevenue:{background:"#0F70B7",font:"#ffffff"},identity:{background:"#6F5F8F",font:"#ffffff"},openJournalism:{background:"#C74600",font:"#FEF9F5"},perf:{background:"#FFD700",font:"#000000"}},i=e=>Object.keys(o).includes(e)},4965:(e,t,n)=>{n.d(t,{I:()=>m});var r,o,i=n(5781),a=n(1445);function s(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function l(e,t){return e.get(d(e,t))}function u(e,t,n){return e.set(d(e,t),n),n}function d(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var f=new WeakMap;class p{constructor(e){c(this,f,void 0),s(this,"isAvailable",(()=>Boolean(l(f,this)))),s(this,"get",(e=>{try{var t,n,r=JSON.parse(null!==(t=null===(n=l(f,this))||void 0===n?void 0:n.getItem(e))&&void 0!==t?t:"");if(!(0,i.G)(r))return null;var{value:o,expires:s}=r;return((0,a.K)(s)||"number"==typeof s)&&new Date>new Date(s)?(this.remove(e),null):o}catch(e){return null}})),s(this,"set",((e,t,n)=>{var r;return null===(r=l(f,this))||void 0===r?void 0:r.setItem(e,JSON.stringify({value:t,expires:n?new Date(n):void 0}))})),s(this,"remove",(e=>{var t;return null===(t=l(f,this))||void 0===t?void 0:t.removeItem(e)})),s(this,"clear",(()=>{var e;return null===(e=l(f,this))||void 0===e?void 0:e.clear()})),s(this,"getRaw",(e=>{var t,n;return null!==(t=null===(n=l(f,this))||void 0===n?void 0:n.getItem(e))&&void 0!==t?t:null})),s(this,"setRaw",((e,t)=>{var n;return null===(n=l(f,this))||void 0===n?void 0:n.setItem(e,t)})),s(this,"key",(e=>{var t,n;return null!==(t=null===(n=l(f,this))||void 0===n?void 0:n.key(e))&&void 0!==t?t:null})),s(this,"length",(()=>{var e,t;return null!==(e=null===(t=l(f,this))||void 0===t?void 0:t.length)&&void 0!==e?e:null}));try{var t=window[e],n=(new Date).toString();t.setItem(n,n);var r=t.getItem(n)==n;t.removeItem(n),r&&u(f,this,t)}catch(e){}}}var m=new(r=new WeakMap,o=new WeakMap,class{constructor(){c(this,r,void 0),c(this,o,void 0)}get local(){return l(r,this)||u(r,this,new p("localStorage"))}get session(){return l(o,this)||u(o,this,new p("sessionStorage"))}})},1684:(e,t,n)=>{n.d(t,{f:()=>i});var r={desktop:"980px",leftCol:"1140px",mobile:"320px",mobileLandscape:"480px",mobileMedium:"375px",phablet:"660px",tablet:"740px",wide:"1300px"},o=e=>Number(e.slice(0,-2)),i={mobile:o(r.mobile),mobileMedium:o(r.mobileMedium),mobileLandscape:o(r.mobileLandscape),phablet:o(r.phablet),tablet:o(r.tablet),desktop:o(r.desktop),leftCol:o(r.leftCol),wide:o(r.wide)}},9333:(e,t,n)=>{var r;!function(){var t={initialize:function(){this._tasks=new Map},mutate:function(e,t){return o(this,"mutate",e,t)},measure:function(e,t){return o(this,"measure",e,t)},clear:function(e){var t=this._tasks,n=t.get(e);this.fastdom.clear(n),t.delete(e)}};function o(e,t,n,r){var o,i=e._tasks,a=e.fastdom,s=new Promise((function(e,c){o=a[t]((function(){i.delete(s);try{e(r?n.call(r):n())}catch(e){c(e)}}),r)}));return i.set(s,o),s}"f"=="function"[0]?void 0===(r=function(){return t}.call(t,n,t,e))||(e.exports=r):"o"=="object"[0]?e.exports=t:window.fastdomPromised=t}()},2946:function(e,t,n){var r;!function(t){var o=function(){},i=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||function(e){return setTimeout(e,16)};function a(){var e=this;e.reads=[],e.writes=[],e.raf=i.bind(t),o("initialized",e)}function s(e){e.scheduled||(e.scheduled=!0,e.raf(c.bind(null,e)),o("flush scheduled"))}function c(e){o("flush");var t,n=e.writes,r=e.reads;try{o("flushing reads",r.length),e.runTasks(r),o("flushing writes",n.length),e.runTasks(n)}catch(e){t=e}if(e.scheduled=!1,(r.length||n.length)&&s(e),t){if(o("task errored",t.message),!e.catch)throw t;e.catch(t)}}function l(e,t){var n=e.indexOf(t);return!!~n&&!!e.splice(n,1)}a.prototype={constructor:a,runTasks:function(e){var t;for(o("run tasks");t=e.shift();)t()},measure:function(e,t){o("measure");var n=t?e.bind(t):e;return this.reads.push(n),s(this),n},mutate:function(e,t){o("mutate");var n=t?e.bind(t):e;return this.writes.push(n),s(this),n},clear:function(e){return o("clear",e),l(this.reads,e)||l(this.writes,e)},extend:function(e){if(o("extend",e),"object"!=typeof e)throw new Error("expected object");var t=Object.create(this);return function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}(t,e),t.fastdom=this,t.initialize&&t.initialize(),t},catch:null};var u=t.fastdom=t.fastdom||new a;void 0===(r=function(){return u}.call(u,n,u,e))||(e.exports=r)}("undefined"!=typeof window?window:void 0!==this?this:globalThis)},4817:e=>{function t(e){this.name="RavenConfigError",this.message=e}t.prototype=new Error,t.prototype.constructor=t,e.exports=t},1140:(e,t,n)=>{var r=n(5264);e.exports={wrapMethod:function(e,t,n){var o=e[t],i=e;if(t in e){var a="warn"===t?"warning":t;e[t]=function(){var e=[].slice.call(arguments),s=r.safeJoin(e," "),c={level:a,logger:"console",extra:{arguments:e}};"assert"===t?!1===e[0]&&(s="Assertion failed: "+(r.safeJoin(e.slice(1)," ")||"console.assert"),c.extra.arguments=e.slice(1),n&&n(s,c)):n&&n(s,c),o&&Function.prototype.apply.call(o,i,e)}}}}},7011:(e,t,n)=>{var r=n(6588),o=n(1189),i=n(2956),a=n(4817),s=n(5264),c=s.isErrorEvent,l=s.isDOMError,u=s.isDOMException,d=s.isError,f=s.isObject,p=s.isPlainObject,m=s.isUndefined,v=s.isFunction,g=s.isString,h=s.isArray,b=s.isEmptyObject,w=s.each,y=s.objectMerge,E=s.truncate,S=s.objectFrozen,_=s.hasKey,P=s.joinRegExp,O=s.urlencode,k=s.uuid4,A=s.htmlTreeAsString,j=s.isSameException,C=s.isSameStacktrace,x=s.parseUrl,T=s.fill,D=s.supportsFetch,R=s.supportsReferrerPolicy,B=s.serializeKeysForMessage,L=s.serializeException,M=s.sanitize,I=n(1140).wrapMethod,F="source protocol user pass host port path".split(" "),N=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/;function z(){return+new Date}var U="undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},q=U.document,H=U.navigator;function W(e,t){return v(t)?function(n){return t(n,e)}:t}function G(){for(var e in this._hasJSON=!("object"!=typeof JSON||!JSON.stringify),this._hasDocument=!m(q),this._hasNavigator=!m(H),this._lastCapturedException=null,this._lastData=null,this._lastEventId=null,this._globalServer=null,this._globalKey=null,this._globalProject=null,this._globalContext={},this._globalOptions={release:U.SENTRY_RELEASE&&U.SENTRY_RELEASE.id,logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],headers:null,collectWindowErrors:!0,captureUnhandledRejections:!0,maxMessageLength:0,maxUrlLength:250,stackTraceLimit:50,autoBreadcrumbs:!0,instrument:!0,sampleRate:1,sanitizeKeys:[]},this._fetchDefaults={method:"POST",referrerPolicy:R()?"origin":""},this._ignoreOnError=0,this._isRavenInstalled=!1,this._originalErrorStackTraceLimit=Error.stackTraceLimit,this._originalConsole=U.console||{},this._originalConsoleMethods={},this._plugins=[],this._startTime=z(),this._wrappedBuiltIns=[],this._breadcrumbs=[],this._lastCapturedEvent=null,this._keypressTimeout,this._location=U.location,this._lastHref=this._location&&this._location.href,this._resetBackoff(),this._originalConsole)this._originalConsoleMethods[e]=this._originalConsole[e]}G.prototype={VERSION:"3.27.2",debug:!1,TraceKit:r,config:function(e,t){var n=this;if(n._globalServer)return this._logDebug("error","Error: Raven has already been configured"),n;if(!e)return n;var o=n._globalOptions;t&&w(t,(function(e,t){"tags"===e||"extra"===e||"user"===e?n._globalContext[e]=t:o[e]=t})),n.setDSN(e),o.ignoreErrors.push(/^Script error\.?$/),o.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),o.ignoreErrors=P(o.ignoreErrors),o.ignoreUrls=!!o.ignoreUrls.length&&P(o.ignoreUrls),o.whitelistUrls=!!o.whitelistUrls.length&&P(o.whitelistUrls),o.includePaths=P(o.includePaths),o.maxBreadcrumbs=Math.max(0,Math.min(o.maxBreadcrumbs||100,100));var i={xhr:!0,console:!0,dom:!0,location:!0,sentry:!0},a=o.autoBreadcrumbs;"[object Object]"==={}.toString.call(a)?a=y(i,a):!1!==a&&(a=i),o.autoBreadcrumbs=a;var s={tryCatch:!0},c=o.instrument;return"[object Object]"==={}.toString.call(c)?c=y(s,c):!1!==c&&(c=s),o.instrument=c,r.collectWindowErrors=!!o.collectWindowErrors,n},install:function(){var e=this;return e.isSetup()&&!e._isRavenInstalled&&(r.report.subscribe((function(){e._handleOnErrorStackInfo.apply(e,arguments)})),e._globalOptions.captureUnhandledRejections&&e._attachPromiseRejectionHandler(),e._patchFunctionToString(),e._globalOptions.instrument&&e._globalOptions.instrument.tryCatch&&e._instrumentTryCatch(),e._globalOptions.autoBreadcrumbs&&e._instrumentBreadcrumbs(),e._drainPlugins(),e._isRavenInstalled=!0),Error.stackTraceLimit=e._globalOptions.stackTraceLimit,this},setDSN:function(e){var t=this,n=t._parseDSN(e),r=n.path.lastIndexOf("/"),o=n.path.substr(1,r);t._dsn=e,t._globalKey=n.user,t._globalSecret=n.pass&&n.pass.substr(1),t._globalProject=n.path.substr(r+1),t._globalServer=t._getGlobalServer(n),t._globalEndpoint=t._globalServer+"/"+o+"api/"+t._globalProject+"/store/",this._resetBackoff()},context:function(e,t,n){return v(e)&&(n=t||[],t=e,e={}),this.wrap(e,t).apply(this,n)},wrap:function(e,t,n){var r=this;if(m(t)&&!v(e))return e;if(v(e)&&(t=e,e=void 0),!v(t))return t;try{if(t.__raven__)return t;if(t.__raven_wrapper__)return t.__raven_wrapper__}catch(e){return t}function o(){var o=[],i=arguments.length,a=!e||e&&!1!==e.deep;for(n&&v(n)&&n.apply(this,arguments);i--;)o[i]=a?r.wrap(e,arguments[i]):arguments[i];try{return t.apply(this,o)}catch(t){throw r._ignoreNextOnError(),r.captureException(t,e),t}}for(var i in t)_(t,i)&&(o[i]=t[i]);return o.prototype=t.prototype,t.__raven_wrapper__=o,o.__raven__=!0,o.__orig__=t,o},uninstall:function(){return r.report.uninstall(),this._detachPromiseRejectionHandler(),this._unpatchFunctionToString(),this._restoreBuiltIns(),this._restoreConsole(),Error.stackTraceLimit=this._originalErrorStackTraceLimit,this._isRavenInstalled=!1,this},_promiseRejectionHandler:function(e){this._logDebug("debug","Raven caught unhandled promise rejection:",e),this.captureException(e.reason,{mechanism:{type:"onunhandledrejection",handled:!1}})},_attachPromiseRejectionHandler:function(){return this._promiseRejectionHandler=this._promiseRejectionHandler.bind(this),U.addEventListener&&U.addEventListener("unhandledrejection",this._promiseRejectionHandler),this},_detachPromiseRejectionHandler:function(){return U.removeEventListener&&U.removeEventListener("unhandledrejection",this._promiseRejectionHandler),this},captureException:function(e,t){if(t=y({trimHeadFrames:0},t||{}),c(e)&&e.error)e=e.error;else{if(l(e)||u(e)){var n=e.name||(l(e)?"DOMError":"DOMException"),o=e.message?n+": "+e.message:n;return this.captureMessage(o,y(t,{stacktrace:!0,trimHeadFrames:t.trimHeadFrames+1}))}if(d(e));else{if(!p(e))return this.captureMessage(e,y(t,{stacktrace:!0,trimHeadFrames:t.trimHeadFrames+1}));t=this._getCaptureExceptionOptionsFromPlainObject(t,e),e=new Error(t.message)}}this._lastCapturedException=e;try{var i=r.computeStackTrace(e);this._handleStackInfo(i,t)}catch(t){if(e!==t)throw t}return this},_getCaptureExceptionOptionsFromPlainObject:function(e,t){var n=Object.keys(t).sort(),r=y(e,{message:"Non-Error exception captured with keys: "+B(n),fingerprint:[i(n)],extra:e.extra||{}});return r.extra.__serialized__=L(t),r},captureMessage:function(e,t){if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(e)){var n,o=y({message:e+=""},t=t||{});try{throw new Error(e)}catch(e){n=e}n.name=null;var i=r.computeStackTrace(n),a=h(i.stack)&&i.stack[1];a&&"Raven.captureException"===a.func&&(a=i.stack[2]);var s=a&&a.url||"";if((!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(s))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(s))){if(this._globalOptions.stacktrace||t.stacktrace||""===o.message){o.fingerprint=null==o.fingerprint?e:o.fingerprint,(t=y({trimHeadFrames:0},t)).trimHeadFrames+=1;var c=this._prepareFrames(i,t);o.stacktrace={frames:c.reverse()}}return o.fingerprint&&(o.fingerprint=h(o.fingerprint)?o.fingerprint:[o.fingerprint]),this._send(o),this}}},captureBreadcrumb:function(e){var t=y({timestamp:z()/1e3},e);if(v(this._globalOptions.breadcrumbCallback)){var n=this._globalOptions.breadcrumbCallback(t);if(f(n)&&!b(n))t=n;else if(!1===n)return this}return this._breadcrumbs.push(t),this._breadcrumbs.length>this._globalOptions.maxBreadcrumbs&&this._breadcrumbs.shift(),this},addPlugin:function(e){var t=[].slice.call(arguments,1);return this._plugins.push([e,t]),this._isRavenInstalled&&this._drainPlugins(),this},setUserContext:function(e){return this._globalContext.user=e,this},setExtraContext:function(e){return this._mergeContext("extra",e),this},setTagsContext:function(e){return this._mergeContext("tags",e),this},clearContext:function(){return this._globalContext={},this},getContext:function(){return JSON.parse(o(this._globalContext))},setEnvironment:function(e){return this._globalOptions.environment=e,this},setRelease:function(e){return this._globalOptions.release=e,this},setDataCallback:function(e){var t=this._globalOptions.dataCallback;return this._globalOptions.dataCallback=W(t,e),this},setBreadcrumbCallback:function(e){var t=this._globalOptions.breadcrumbCallback;return this._globalOptions.breadcrumbCallback=W(t,e),this},setShouldSendCallback:function(e){var t=this._globalOptions.shouldSendCallback;return this._globalOptions.shouldSendCallback=W(t,e),this},setTransport:function(e){return this._globalOptions.transport=e,this},lastException:function(){return this._lastCapturedException},lastEventId:function(){return this._lastEventId},isSetup:function(){return!!this._hasJSON&&(!!this._globalServer||(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this._logDebug("error","Error: Raven has not been configured.")),!1))},afterLoad:function(){var e=U.RavenConfig;e&&this.config(e.dsn,e.config).install()},showReportDialog:function(e){if(q){if(!(e=y({eventId:this.lastEventId(),dsn:this._dsn,user:this._globalContext.user||{}},e)).eventId)throw new a("Missing eventId");if(!e.dsn)throw new a("Missing DSN");var t=encodeURIComponent,n=[];for(var r in e)if("user"===r){var o=e.user;o.name&&n.push("name="+t(o.name)),o.email&&n.push("email="+t(o.email))}else n.push(t(r)+"="+t(e[r]));var i=this._getGlobalServer(this._parseDSN(e.dsn)),s=q.createElement("script");s.async=!0,s.src=i+"/api/embed/error-page/?"+n.join("&"),(q.head||q.body).appendChild(s)}},_ignoreNextOnError:function(){var e=this;this._ignoreOnError+=1,setTimeout((function(){e._ignoreOnError-=1}))},_triggerEvent:function(e,t){var n,r;if(this._hasDocument){for(r in t=t||{},e="raven"+e.substr(0,1).toUpperCase()+e.substr(1),q.createEvent?(n=q.createEvent("HTMLEvents")).initEvent(e,!0,!0):(n=q.createEventObject()).eventType=e,t)_(t,r)&&(n[r]=t[r]);if(q.createEvent)q.dispatchEvent(n);else try{q.fireEvent("on"+n.eventType.toLowerCase(),n)}catch(e){}}},_breadcrumbEventHandler:function(e){var t=this;return function(n){if(t._keypressTimeout=null,t._lastCapturedEvent!==n){var r;t._lastCapturedEvent=n;try{r=A(n.target)}catch(e){r="<unknown>"}t.captureBreadcrumb({category:"ui."+e,message:r})}}},_keypressEventHandler:function(){var e=this;return function(t){var n;try{n=t.target}catch(e){return}var r=n&&n.tagName;if(r&&("INPUT"===r||"TEXTAREA"===r||n.isContentEditable)){var o=e._keypressTimeout;o||e._breadcrumbEventHandler("input")(t),clearTimeout(o),e._keypressTimeout=setTimeout((function(){e._keypressTimeout=null}),1e3)}}},_captureUrlChange:function(e,t){var n=x(this._location.href),r=x(t),o=x(e);this._lastHref=t,n.protocol===r.protocol&&n.host===r.host&&(t=r.relative),n.protocol===o.protocol&&n.host===o.host&&(e=o.relative),this.captureBreadcrumb({category:"navigation",data:{to:t,from:e}})},_patchFunctionToString:function(){var e=this;e._originalFunctionToString=Function.prototype.toString,Function.prototype.toString=function(){return"function"==typeof this&&this.__raven__?e._originalFunctionToString.apply(this.__orig__,arguments):e._originalFunctionToString.apply(this,arguments)}},_unpatchFunctionToString:function(){this._originalFunctionToString&&(Function.prototype.toString=this._originalFunctionToString)},_instrumentTryCatch:function(){var e=this,t=e._wrappedBuiltIns;function n(t){return function(n,r){for(var o=new Array(arguments.length),i=0;i<o.length;++i)o[i]=arguments[i];var a=o[0];return v(a)&&(o[0]=e.wrap({mechanism:{type:"instrument",data:{function:t.name||"<anonymous>"}}},a)),t.apply?t.apply(this,o):t(o[0],o[1])}}var r=this._globalOptions.autoBreadcrumbs;function o(n){var o=U[n]&&U[n].prototype;o&&o.hasOwnProperty&&o.hasOwnProperty("addEventListener")&&(T(o,"addEventListener",(function(t){return function(o,i,a,s){try{i&&i.handleEvent&&(i.handleEvent=e.wrap({mechanism:{type:"instrument",data:{target:n,function:"handleEvent",handler:i&&i.name||"<anonymous>"}}},i.handleEvent))}catch(e){}var c,l,u;return r&&r.dom&&("EventTarget"===n||"Node"===n)&&(l=e._breadcrumbEventHandler("click"),u=e._keypressEventHandler(),c=function(e){if(e){var t;try{t=e.type}catch(e){return}return"click"===t?l(e):"keypress"===t?u(e):void 0}}),t.call(this,o,e.wrap({mechanism:{type:"instrument",data:{target:n,function:"addEventListener",handler:i&&i.name||"<anonymous>"}}},i,c),a,s)}}),t),T(o,"removeEventListener",(function(e){return function(t,n,r,o){try{n=n&&(n.__raven_wrapper__?n.__raven_wrapper__:n)}catch(e){}return e.call(this,t,n,r,o)}}),t))}T(U,"setTimeout",n,t),T(U,"setInterval",n,t),U.requestAnimationFrame&&T(U,"requestAnimationFrame",(function(t){return function(n){return t(e.wrap({mechanism:{type:"instrument",data:{function:"requestAnimationFrame",handler:t&&t.name||"<anonymous>"}}},n))}}),t);for(var i=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],a=0;a<i.length;a++)o(i[a])},_instrumentBreadcrumbs:function(){var e=this,t=this._globalOptions.autoBreadcrumbs,n=e._wrappedBuiltIns;function r(t,n){t in n&&v(n[t])&&T(n,t,(function(n){return e.wrap({mechanism:{type:"instrument",data:{function:t,handler:n&&n.name||"<anonymous>"}}},n)}))}if(t.xhr&&"XMLHttpRequest"in U){var o=U.XMLHttpRequest&&U.XMLHttpRequest.prototype;T(o,"open",(function(t){return function(n,r){return g(r)&&-1===r.indexOf(e._globalKey)&&(this.__raven_xhr={method:n,url:r,status_code:null}),t.apply(this,arguments)}}),n),T(o,"send",(function(t){return function(){var n=this;function o(){if(n.__raven_xhr&&4===n.readyState){try{n.__raven_xhr.status_code=n.status}catch(e){}e.captureBreadcrumb({type:"http",category:"xhr",data:n.__raven_xhr})}}for(var i=["onload","onerror","onprogress"],a=0;a<i.length;a++)r(i[a],n);return"onreadystatechange"in n&&v(n.onreadystatechange)?T(n,"onreadystatechange",(function(t){return e.wrap({mechanism:{type:"instrument",data:{function:"onreadystatechange",handler:t&&t.name||"<anonymous>"}}},t,o)})):n.onreadystatechange=o,t.apply(this,arguments)}}),n)}t.xhr&&D()&&T(U,"fetch",(function(t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;++r)n[r]=arguments[r];var o,i=n[0],a="GET";if("string"==typeof i?o=i:"Request"in U&&i instanceof U.Request?(o=i.url,i.method&&(a=i.method)):o=""+i,-1!==o.indexOf(e._globalKey))return t.apply(this,n);n[1]&&n[1].method&&(a=n[1].method);var s={method:a,url:o,status_code:null};return t.apply(this,n).then((function(t){return s.status_code=t.status,e.captureBreadcrumb({type:"http",category:"fetch",data:s}),t})).catch((function(t){throw e.captureBreadcrumb({type:"http",category:"fetch",data:s,level:"error"}),t}))}}),n),t.dom&&this._hasDocument&&(q.addEventListener?(q.addEventListener("click",e._breadcrumbEventHandler("click"),!1),q.addEventListener("keypress",e._keypressEventHandler(),!1)):q.attachEvent&&(q.attachEvent("onclick",e._breadcrumbEventHandler("click")),q.attachEvent("onkeypress",e._keypressEventHandler())));var i=U.chrome,a=!(i&&i.app&&i.app.runtime)&&U.history&&U.history.pushState&&U.history.replaceState;if(t.location&&a){var s=U.onpopstate;U.onpopstate=function(){var t=e._location.href;if(e._captureUrlChange(e._lastHref,t),s)return s.apply(this,arguments)};var c=function(t){return function(){var n=arguments.length>2?arguments[2]:void 0;return n&&e._captureUrlChange(e._lastHref,n+""),t.apply(this,arguments)}};T(U.history,"pushState",c,n),T(U.history,"replaceState",c,n)}if(t.console&&"console"in U&&console.log){var l=function(t,n){e.captureBreadcrumb({message:t,level:n.level,category:"console"})};w(["debug","info","warn","error","log"],(function(e,t){I(console,t,l)}))}},_restoreBuiltIns:function(){for(var e;this._wrappedBuiltIns.length;){var t=(e=this._wrappedBuiltIns.shift())[0],n=e[1],r=e[2];t[n]=r}},_restoreConsole:function(){for(var e in this._originalConsoleMethods)this._originalConsole[e]=this._originalConsoleMethods[e]},_drainPlugins:function(){var e=this;w(this._plugins,(function(t,n){var r=n[0],o=n[1];r.apply(e,[e].concat(o))}))},_parseDSN:function(e){var t=N.exec(e),n={},r=7;try{for(;r--;)n[F[r]]=t[r]||""}catch(t){throw new a("Invalid DSN: "+e)}if(n.pass&&!this._globalOptions.allowSecretKey)throw new a("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");return n},_getGlobalServer:function(e){var t="//"+e.host+(e.port?":"+e.port:"");return e.protocol&&(t=e.protocol+":"+t),t},_handleOnErrorStackInfo:function(e,t){(t=t||{}).mechanism=t.mechanism||{type:"onerror",handled:!1},this._ignoreOnError||this._handleStackInfo(e,t)},_handleStackInfo:function(e,t){var n=this._prepareFrames(e,t);this._triggerEvent("handle",{stackInfo:e,options:t}),this._processException(e.name,e.message,e.url,e.lineno,n,t)},_prepareFrames:function(e,t){var n=this,r=[];if(e.stack&&e.stack.length&&(w(e.stack,(function(t,o){var i=n._normalizeFrame(o,e.url);i&&r.push(i)})),t&&t.trimHeadFrames))for(var o=0;o<t.trimHeadFrames&&o<r.length;o++)r[o].in_app=!1;return r=r.slice(0,this._globalOptions.stackTraceLimit)},_normalizeFrame:function(e,t){var n={filename:e.url,lineno:e.line,colno:e.column,function:e.func||"?"};return e.url||(n.filename=t),n.in_app=!(this._globalOptions.includePaths.test&&!this._globalOptions.includePaths.test(n.filename)||/(Raven|TraceKit)\./.test(n.function)||/raven\.(min\.)?js$/.test(n.filename)),n},_processException:function(e,t,n,r,o,i){var a,s=(e?e+": ":"")+(t||"");if((!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(t)&&!this._globalOptions.ignoreErrors.test(s))&&(o&&o.length?(n=o[0].filename||n,o.reverse(),a={frames:o}):n&&(a={frames:[{filename:n,lineno:r,in_app:!0}]}),(!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(n))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(n)))){var c=y({exception:{values:[{type:e,value:t,stacktrace:a}]},transaction:n},i),l=c.exception.values[0];null==l.type&&""===l.value&&(l.value="Unrecoverable error caught"),!c.exception.mechanism&&c.mechanism&&(c.exception.mechanism=c.mechanism,delete c.mechanism),c.exception.mechanism=y({type:"generic",handled:!0},c.exception.mechanism||{}),this._send(c)}},_trimPacket:function(e){var t=this._globalOptions.maxMessageLength;if(e.message&&(e.message=E(e.message,t)),e.exception){var n=e.exception.values[0];n.value=E(n.value,t)}var r=e.request;return r&&(r.url&&(r.url=E(r.url,this._globalOptions.maxUrlLength)),r.Referer&&(r.Referer=E(r.Referer,this._globalOptions.maxUrlLength))),e.breadcrumbs&&e.breadcrumbs.values&&this._trimBreadcrumbs(e.breadcrumbs),e},_trimBreadcrumbs:function(e){for(var t,n,r,o=["to","from","url"],i=0;i<e.values.length;++i)if((n=e.values[i]).hasOwnProperty("data")&&f(n.data)&&!S(n.data)){r=y({},n.data);for(var a=0;a<o.length;++a)t=o[a],r.hasOwnProperty(t)&&r[t]&&(r[t]=E(r[t],this._globalOptions.maxUrlLength));e.values[i].data=r}},_getHttpData:function(){if(this._hasNavigator||this._hasDocument){var e={};return this._hasNavigator&&H.userAgent&&(e.headers={"User-Agent":H.userAgent}),U.location&&U.location.href&&(e.url=U.location.href),this._hasDocument&&q.referrer&&(e.headers||(e.headers={}),e.headers.Referer=q.referrer),e}},_resetBackoff:function(){this._backoffDuration=0,this._backoffStart=null},_shouldBackoff:function(){return this._backoffDuration&&z()-this._backoffStart<this._backoffDuration},_isRepeatData:function(e){var t=this._lastData;return!(!t||e.message!==t.message||e.transaction!==t.transaction)&&(e.stacktrace||t.stacktrace?C(e.stacktrace,t.stacktrace):e.exception||t.exception?j(e.exception,t.exception):!e.fingerprint&&!t.fingerprint||Boolean(e.fingerprint&&t.fingerprint)&&JSON.stringify(e.fingerprint)===JSON.stringify(t.fingerprint))},_setBackoffState:function(e){if(!this._shouldBackoff()){var t=e.status;if(400===t||401===t||429===t){var n;try{n=D()?e.headers.get("Retry-After"):e.getResponseHeader("Retry-After"),n=1e3*parseInt(n,10)}catch(e){}this._backoffDuration=n||(2*this._backoffDuration||1e3),this._backoffStart=z()}}},_send:function(e){var t=this._globalOptions,n={project:this._globalProject,logger:t.logger,platform:"javascript"},r=this._getHttpData();r&&(n.request=r),e.trimHeadFrames&&delete e.trimHeadFrames,(e=y(n,e)).tags=y(y({},this._globalContext.tags),e.tags),e.extra=y(y({},this._globalContext.extra),e.extra),e.extra["session:duration"]=z()-this._startTime,this._breadcrumbs&&this._breadcrumbs.length>0&&(e.breadcrumbs={values:[].slice.call(this._breadcrumbs,0)}),this._globalContext.user&&(e.user=this._globalContext.user),t.environment&&(e.environment=t.environment),t.release&&(e.release=t.release),t.serverName&&(e.server_name=t.serverName),e=this._sanitizeData(e),Object.keys(e).forEach((function(t){(null==e[t]||""===e[t]||b(e[t]))&&delete e[t]})),v(t.dataCallback)&&(e=t.dataCallback(e)||e),e&&!b(e)&&(v(t.shouldSendCallback)&&!t.shouldSendCallback(e)||(this._shouldBackoff()?this._logDebug("warn","Raven dropped error due to backoff: ",e):"number"==typeof t.sampleRate?Math.random()<t.sampleRate&&this._sendProcessedPayload(e):this._sendProcessedPayload(e)))},_sanitizeData:function(e){return M(e,this._globalOptions.sanitizeKeys)},_getUuid:function(){return k()},_sendProcessedPayload:function(e,t){var n=this,r=this._globalOptions;if(this.isSetup())if(e=this._trimPacket(e),this._globalOptions.allowDuplicates||!this._isRepeatData(e)){this._lastEventId=e.event_id||(e.event_id=this._getUuid()),this._lastData=e,this._logDebug("debug","Raven about to send:",e);var o={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this._globalKey};this._globalSecret&&(o.sentry_secret=this._globalSecret);var i=e.exception&&e.exception.values[0];this._globalOptions.autoBreadcrumbs&&this._globalOptions.autoBreadcrumbs.sentry&&this.captureBreadcrumb({category:"sentry",message:i?(i.type?i.type+": ":"")+i.value:e.message,event_id:e.event_id,level:e.level||"error"});var a=this._globalEndpoint;(r.transport||this._makeRequest).call(this,{url:a,auth:o,data:e,options:r,onSuccess:function(){n._resetBackoff(),n._triggerEvent("success",{data:e,src:a}),t&&t()},onError:function(r){n._logDebug("error","Raven transport failed to send: ",r),r.request&&n._setBackoffState(r.request),n._triggerEvent("failure",{data:e,src:a}),r=r||new Error("Raven send failed (no additional details provided)"),t&&t(r)}})}else this._logDebug("warn","Raven dropped repeat event: ",e)},_makeRequest:function(e){var t=e.url+"?"+O(e.auth),n=null,r={};if(e.options.headers&&(n=this._evaluateHash(e.options.headers)),e.options.fetchParameters&&(r=this._evaluateHash(e.options.fetchParameters)),D()){r.body=o(e.data);var i=y({},this._fetchDefaults),a=y(i,r);return n&&(a.headers=n),U.fetch(t,a).then((function(t){if(t.ok)e.onSuccess&&e.onSuccess();else{var n=new Error("Sentry error code: "+t.status);n.request=t,e.onError&&e.onError(n)}})).catch((function(){e.onError&&e.onError(new Error("Sentry error code: network unavailable"))}))}var s=U.XMLHttpRequest&&new U.XMLHttpRequest;s&&(("withCredentials"in s||"undefined"!=typeof XDomainRequest)&&("withCredentials"in s?s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status)e.onSuccess&&e.onSuccess();else if(e.onError){var t=new Error("Sentry error code: "+s.status);t.request=s,e.onError(t)}}:(s=new XDomainRequest,t=t.replace(/^https?:/,""),e.onSuccess&&(s.onload=e.onSuccess),e.onError&&(s.onerror=function(){var t=new Error("Sentry error code: XDomainRequest");t.request=s,e.onError(t)})),s.open("POST",t),n&&w(n,(function(e,t){s.setRequestHeader(e,t)})),s.send(o(e.data))))},_evaluateHash:function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];t[n]="function"==typeof r?r():r}return t},_logDebug:function(e){this._originalConsoleMethods[e]&&(this.debug||this._globalOptions.debug)&&Function.prototype.apply.call(this._originalConsoleMethods[e],this._originalConsole,[].slice.call(arguments,1))},_mergeContext:function(e,t){m(t)?delete this._globalContext[e]:this._globalContext[e]=y(this._globalContext[e]||{},t)}},G.prototype.setUser=G.prototype.setUserContext,G.prototype.setReleaseContext=G.prototype.setRelease,e.exports=G},1772:(e,t,n)=>{var r=n(7011),o="undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},i=o.Raven,a=new r;a.noConflict=function(){return o.Raven=i,a},a.afterLoad(),e.exports=a,e.exports.Client=r},5264:(e,t,n)=>{var r=n(1189),o="undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function i(e){return void 0===e}function a(e){return"[object Object]"===Object.prototype.toString.call(e)}function s(e){return"[object String]"===Object.prototype.toString.call(e)}function c(e){return"[object Array]"===Object.prototype.toString.call(e)}function l(){if(!("fetch"in o))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function u(e,t){var n,r;if(i(e.length))for(n in e)f(e,n)&&t.call(null,n,e[n]);else if(r=e.length)for(n=0;n<r;n++)t.call(null,n,e[n])}function d(e,t){if("number"!=typeof t)throw new Error("2nd argument to `truncate` function should be a number");return"string"!=typeof e||0===t||e.length<=t?e:e.substr(0,t)+"…"}function f(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function p(e){for(var t,n=[],r=0,o=e.length;r<o;r++)s(t=e[r])?n.push(t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):t&&t.source&&n.push(t.source);return new RegExp(n.join("|"),"i")}function m(e){var t,n,r,o,i,a=[];if(!e||!e.tagName)return"";if(a.push(e.tagName.toLowerCase()),e.id&&a.push("#"+e.id),(t=e.className)&&s(t))for(n=t.split(/\s+/),i=0;i<n.length;i++)a.push("."+n[i]);var c=["type","name","title","alt"];for(i=0;i<c.length;i++)r=c[i],(o=e.getAttribute(r))&&a.push("["+r+'="'+o+'"]');return a.join("")}function v(e,t){return!!(!!e^!!t)}function g(e,t){if(v(e,t))return!1;var n,r,o=e.frames,i=t.frames;if(void 0===o||void 0===i)return!1;if(o.length!==i.length)return!1;for(var a=0;a<o.length;a++)if(n=o[a],r=i[a],n.filename!==r.filename||n.lineno!==r.lineno||n.colno!==r.colno||n.function!==r.function)return!1;return!0}function h(e){return function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(e))}function b(e){if("string"==typeof e){return d(e,40)}if("number"==typeof e||"boolean"==typeof e||void 0===e)return e;var t=Object.prototype.toString.call(e);return"[object Object]"===t?"[Object]":"[object Array]"===t?"[Array]":"[object Function]"===t?e.name?"[Function: "+e.name+"]":"[Function]":e}function w(e,t){return 0===t?b(e):a(e)?Object.keys(e).reduce((function(n,r){return n[r]=w(e[r],t-1),n}),{}):Array.isArray(e)?e.map((function(e){return w(e,t-1)})):b(e)}e.exports={isObject:function(e){return"object"==typeof e&&null!==e},isError:function(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}},isErrorEvent:function(e){return"[object ErrorEvent]"===Object.prototype.toString.call(e)},isDOMError:function(e){return"[object DOMError]"===Object.prototype.toString.call(e)},isDOMException:function(e){return"[object DOMException]"===Object.prototype.toString.call(e)},isUndefined:i,isFunction:function(e){return"function"==typeof e},isPlainObject:a,isString:s,isArray:c,isEmptyObject:function(e){if(!a(e))return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},supportsErrorEvent:function(){try{return new ErrorEvent(""),!0}catch(e){return!1}},supportsDOMError:function(){try{return new DOMError(""),!0}catch(e){return!1}},supportsDOMException:function(){try{return new DOMException(""),!0}catch(e){return!1}},supportsFetch:l,supportsReferrerPolicy:function(){if(!l())return!1;try{return new Request("pickleRick",{referrerPolicy:"origin"}),!0}catch(e){return!1}},supportsPromiseRejectionEvent:function(){return"function"==typeof PromiseRejectionEvent},wrappedCallback:function(e){return function(t,n){var r=e(t)||t;return n&&n(r)||r}},each:u,objectMerge:function(e,t){return t?(u(t,(function(t,n){e[t]=n})),e):e},truncate:d,objectFrozen:function(e){return!!Object.isFrozen&&Object.isFrozen(e)},hasKey:f,joinRegExp:p,urlencode:function(e){var t=[];return u(e,(function(e,n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})),t.join("&")},uuid4:function(){var e=o.crypto||o.msCrypto;if(!i(e)&&e.getRandomValues){var t=new Uint16Array(8);e.getRandomValues(t),t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768;var n=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return n(t[0])+n(t[1])+n(t[2])+n(t[3])+n(t[4])+n(t[5])+n(t[6])+n(t[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},htmlTreeAsString:function(e){for(var t,n=[],r=0,o=0;e&&r++<5&&!("html"===(t=m(e))||r>1&&o+3*n.length+t.length>=80);)n.push(t),o+=t.length,e=e.parentNode;return n.reverse().join(" > ")},htmlElementAsString:m,isSameException:function(e,t){return!v(e,t)&&(e=e.values[0],t=t.values[0],e.type===t.type&&e.value===t.value&&(n=e.stacktrace,r=t.stacktrace,(!i(n)||!i(r))&&g(e.stacktrace,t.stacktrace)));var n,r},isSameStacktrace:g,parseUrl:function(e){if("string"!=typeof e)return{};var t=e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/),n=t[6]||"",r=t[8]||"";return{protocol:t[2],host:t[4],path:t[5],relative:t[5]+n+r}},fill:function(e,t,n,r){if(null!=e){var o=e[t];e[t]=n(o),e[t].__raven__=!0,e[t].__orig__=o,r&&r.push([e,t,o])}},safeJoin:function(e,t){if(!c(e))return"";for(var n=[],r=0;r<e.length;r++)try{n.push(String(e[r]))}catch(e){n.push("[value cannot be serialized]")}return n.join(t)},serializeException:function e(t,n,o){if(!a(t))return t;o="number"!=typeof(n="number"!=typeof n?3:n)?51200:o;var i=w(t,n);return h(r(i))>o?e(t,n-1):i},serializeKeysForMessage:function(e,t){if("number"==typeof e||"string"==typeof e)return e.toString();if(!Array.isArray(e))return"";if(0===(e=e.filter((function(e){return"string"==typeof e}))).length)return"[object has no keys]";if(t="number"!=typeof t?40:t,e[0].length>=t)return e[0];for(var n=e.length;n>0;n--){var r=e.slice(0,n).join(", ");if(!(r.length>t))return n===e.length?r:r+"…"}return""},sanitize:function(e,t){if(!c(t)||c(t)&&0===t.length)return e;var n,o=p(t);try{n=JSON.parse(r(e))}catch(t){return e}return function e(t){return c(t)?t.map((function(t){return e(t)})):a(t)?Object.keys(t).reduce((function(n,r){return o.test(r)?n[r]="********":n[r]=e(t[r]),n}),{}):t}(n)}}},6588:(e,t,n)=>{var r=n(5264),o={collectWindowErrors:!0,debug:!1},i="undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},a=[].slice,s="?",c=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function l(){return"undefined"==typeof document||null==document.location?"":document.location.href}o.report=function(){var e,t,n=[],u=null,d=null,f=null;function p(e,t){var r=null;if(!t||o.collectWindowErrors){for(var i in n)if(n.hasOwnProperty(i))try{n[i].apply(null,[e].concat(a.call(arguments,2)))}catch(e){r=e}if(r)throw r}}function m(t,n,i,a,u){var d=r.isErrorEvent(u)?u.error:u,m=r.isErrorEvent(t)?t.message:t;if(f)o.computeStackTrace.augmentStackTraceWithInitialElement(f,n,i,m),v();else if(d&&r.isError(d))p(o.computeStackTrace(d),!0);else{var g,h={url:n,line:i,column:a},b=void 0;if("[object String]"==={}.toString.call(m))(g=m.match(c))&&(b=g[1],m=g[2]);h.func=s,p({name:b,message:m,url:l(),stack:[h]},!0)}return!!e&&e.apply(this,arguments)}function v(){var e=f,t=u;u=null,f=null,d=null,p.apply(null,[e,!1].concat(t))}function g(e,t){var n=a.call(arguments,1);if(f){if(d===e)return;v()}var r=o.computeStackTrace(e);if(f=r,d=e,u=n,setTimeout((function(){d===e&&v()}),r.incomplete?2e3:0),!1!==t)throw e}return g.subscribe=function(r){!function(){if(t)return;e=i.onerror,i.onerror=m,t=!0}(),n.push(r)},g.unsubscribe=function(e){for(var t=n.length-1;t>=0;--t)n[t]===e&&n.splice(t,1)},g.uninstall=function(){!function(){if(!t)return;i.onerror=e,t=!1,e=void 0}(),n=[]},g}(),o.computeStackTrace=function(){function e(e){if(void 0!==e.stack&&e.stack){for(var t,n,r,o=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,i=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx(?:-web)|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,a=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,c=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,u=/\((\S*)(?::(\d+))(?::(\d+))\)/,d=e.stack.split("\n"),f=[],p=(/^(.*) is undefined$/.exec(e.message),0),m=d.length;p<m;++p){if(n=o.exec(d[p])){var v=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(t=u.exec(n[2]))&&(n[2]=t[1],n[3]=t[2],n[4]=t[3]),r={url:v?null:n[2],func:n[1]||s,args:v?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=i.exec(d[p]))r={url:n[2],func:n[1]||s,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=a.exec(d[p])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(t=c.exec(n[3]))?(n[3]=t[1],n[4]=t[2],n[5]=null):0!==p||n[5]||void 0===e.columnNumber||(f[0].column=e.columnNumber+1),r={url:n[3],func:n[1]||s,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}if(!r.func&&r.line&&(r.func=s),r.url&&"blob:"===r.url.substr(0,5)){var g=new XMLHttpRequest;if(g.open("GET",r.url,!1),g.send(null),200===g.status){var h=g.responseText||"",b=(h=h.slice(-300)).match(/\/\/# sourceMappingURL=(.*)$/);if(b){var w=b[1];"~"===w.charAt(0)&&(w=("undefined"==typeof document||null==document.location?"":document.location.origin?document.location.origin:document.location.protocol+"//"+document.location.hostname+(document.location.port?":"+document.location.port:""))+w.slice(1)),r.url=w.slice(0,-4)}}}f.push(r)}return f.length?{name:e.name,message:e.message,url:l(),stack:f}:null}}function t(e,t,n,r){var o={url:t,line:n};if(o.url&&o.line){if(e.incomplete=!1,o.func||(o.func=s),e.stack.length>0&&e.stack[0].url===o.url){if(e.stack[0].line===o.line)return!1;if(!e.stack[0].line&&e.stack[0].func===o.func)return e.stack[0].line=o.line,!1}return e.stack.unshift(o),e.partial=!0,!0}return e.incomplete=!0,!1}function n(e,i){for(var a,c,u=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,d=[],f={},p=!1,m=n.caller;m&&!p;m=m.caller)if(m!==r&&m!==o.report){if(c={url:null,func:s,line:null,column:null},m.name?c.func=m.name:(a=u.exec(m.toString()))&&(c.func=a[1]),void 0===c.func)try{c.func=a.input.substring(0,a.input.indexOf("{"))}catch(e){}f[""+m]?p=!0:f[""+m]=!0,d.push(c)}i&&d.splice(0,i);var v={name:e.name,message:e.message,url:l(),stack:d};return t(v,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),v}function r(t,r){var i=null;r=null==r?0:+r;try{if(i=e(t))return i}catch(e){if(o.debug)throw e}try{if(i=n(t,r+1))return i}catch(e){if(o.debug)throw e}return{name:t.name,message:t.message,url:l()}}return r.augmentStackTraceWithInitialElement=t,r.computeStackTraceFromStackProp=e,r}(),e.exports=o},1189:(e,t)=>{function n(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}function r(e,t){var r=[],o=[];return null==t&&(t=function(e,t){return r[0]===t?"[Circular ~]":"[Circular ~."+o.slice(0,n(r,t)).join(".")+"]"}),function(i,a){if(r.length>0){var s=n(r,this);~s?r.splice(s+1):r.push(this),~s?o.splice(s,1/0,i):o.push(i),~n(r,a)&&(a=t.call(this,i,a))}else r.push(a);return null==e?a instanceof Error?function(e){var t={stack:e.stack,message:e.message,name:e.name};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}(a):a:e.call(this,i,a)}}(e.exports=function(e,t,n,o){return JSON.stringify(e,r(t,o),n)}).getSerialize=r},2956:e=>{function t(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function n(e,n,r,o,i,a){return t((s=t(t(n,e),t(o,a)))<<(c=i)|s>>>32-c,r);var s,c}function r(e,t,r,o,i,a,s){return n(t&r|~t&o,e,t,i,a,s)}function o(e,t,r,o,i,a,s){return n(t&o|r&~o,e,t,i,a,s)}function i(e,t,r,o,i,a,s){return n(t^r^o,e,t,i,a,s)}function a(e,t,r,o,i,a,s){return n(r^(t|~o),e,t,i,a,s)}function s(e,n){var s,c,l,u,d;e[n>>5]|=128<<n%32,e[14+(n+64>>>9<<4)]=n;var f=1732584193,p=-271733879,m=-1732584194,v=271733878;for(s=0;s<e.length;s+=16)c=f,l=p,u=m,d=v,f=r(f,p,m,v,e[s],7,-680876936),v=r(v,f,p,m,e[s+1],12,-389564586),m=r(m,v,f,p,e[s+2],17,606105819),p=r(p,m,v,f,e[s+3],22,-1044525330),f=r(f,p,m,v,e[s+4],7,-176418897),v=r(v,f,p,m,e[s+5],12,1200080426),m=r(m,v,f,p,e[s+6],17,-1473231341),p=r(p,m,v,f,e[s+7],22,-45705983),f=r(f,p,m,v,e[s+8],7,1770035416),v=r(v,f,p,m,e[s+9],12,-1958414417),m=r(m,v,f,p,e[s+10],17,-42063),p=r(p,m,v,f,e[s+11],22,-1990404162),f=r(f,p,m,v,e[s+12],7,1804603682),v=r(v,f,p,m,e[s+13],12,-40341101),m=r(m,v,f,p,e[s+14],17,-1502002290),f=o(f,p=r(p,m,v,f,e[s+15],22,1236535329),m,v,e[s+1],5,-165796510),v=o(v,f,p,m,e[s+6],9,-1069501632),m=o(m,v,f,p,e[s+11],14,643717713),p=o(p,m,v,f,e[s],20,-373897302),f=o(f,p,m,v,e[s+5],5,-701558691),v=o(v,f,p,m,e[s+10],9,38016083),m=o(m,v,f,p,e[s+15],14,-660478335),p=o(p,m,v,f,e[s+4],20,-405537848),f=o(f,p,m,v,e[s+9],5,568446438),v=o(v,f,p,m,e[s+14],9,-1019803690),m=o(m,v,f,p,e[s+3],14,-187363961),p=o(p,m,v,f,e[s+8],20,1163531501),f=o(f,p,m,v,e[s+13],5,-1444681467),v=o(v,f,p,m,e[s+2],9,-51403784),m=o(m,v,f,p,e[s+7],14,1735328473),f=i(f,p=o(p,m,v,f,e[s+12],20,-1926607734),m,v,e[s+5],4,-378558),v=i(v,f,p,m,e[s+8],11,-2022574463),m=i(m,v,f,p,e[s+11],16,1839030562),p=i(p,m,v,f,e[s+14],23,-35309556),f=i(f,p,m,v,e[s+1],4,-1530992060),v=i(v,f,p,m,e[s+4],11,1272893353),m=i(m,v,f,p,e[s+7],16,-155497632),p=i(p,m,v,f,e[s+10],23,-1094730640),f=i(f,p,m,v,e[s+13],4,681279174),v=i(v,f,p,m,e[s],11,-358537222),m=i(m,v,f,p,e[s+3],16,-722521979),p=i(p,m,v,f,e[s+6],23,76029189),f=i(f,p,m,v,e[s+9],4,-640364487),v=i(v,f,p,m,e[s+12],11,-421815835),m=i(m,v,f,p,e[s+15],16,530742520),f=a(f,p=i(p,m,v,f,e[s+2],23,-995338651),m,v,e[s],6,-198630844),v=a(v,f,p,m,e[s+7],10,1126891415),m=a(m,v,f,p,e[s+14],15,-1416354905),p=a(p,m,v,f,e[s+5],21,-57434055),f=a(f,p,m,v,e[s+12],6,1700485571),v=a(v,f,p,m,e[s+3],10,-1894986606),m=a(m,v,f,p,e[s+10],15,-1051523),p=a(p,m,v,f,e[s+1],21,-2054922799),f=a(f,p,m,v,e[s+8],6,1873313359),v=a(v,f,p,m,e[s+15],10,-30611744),m=a(m,v,f,p,e[s+6],15,-1560198380),p=a(p,m,v,f,e[s+13],21,1309151649),f=a(f,p,m,v,e[s+4],6,-145523070),v=a(v,f,p,m,e[s+11],10,-1120210379),m=a(m,v,f,p,e[s+2],15,718787259),p=a(p,m,v,f,e[s+9],21,-343485551),f=t(f,c),p=t(p,l),m=t(m,u),v=t(v,d);return[f,p,m,v]}function c(e){var t,n="",r=32*e.length;for(t=0;t<r;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function l(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var r=8*e.length;for(t=0;t<r;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function u(e){var t,n,r="0123456789abcdef",o="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),o+=r.charAt(t>>>4&15)+r.charAt(15&t);return o}function d(e){return unescape(encodeURIComponent(e))}function f(e){return function(e){return c(s(l(e),8*e.length))}(d(e))}function p(e,t){return function(e,t){var n,r,o=l(e),i=[],a=[];for(i[15]=a[15]=void 0,o.length>16&&(o=s(o,8*e.length)),n=0;n<16;n+=1)i[n]=909522486^o[n],a[n]=1549556828^o[n];return r=s(i.concat(l(t)),512+8*t.length),c(s(a.concat(r),640))}(d(e),d(t))}e.exports=function(e,t,n){return t?n?p(t,e):u(p(t,e)):n?f(e):u(f(e))}},5664:function(e,t,n){var r;!function(t){function o(){}var i=o.prototype,a=t.EventEmitter;function s(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function c(e){return function(){return this[e].apply(this,arguments)}}function l(e){return"function"==typeof e||e instanceof RegExp||!(!e||"object"!=typeof e)&&l(e.listener)}i.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp)for(n in t={},r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n]);else t=r[e]||(r[e]=[]);return t},i.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},i.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&((t={})[e]=n),t||n},i.addListener=function(e,t){if(!l(t))throw new TypeError("listener must be a function");var n,r=this.getListenersAsObject(e),o="object"==typeof t;for(n in r)r.hasOwnProperty(n)&&-1===s(r[n],t)&&r[n].push(o?t:{listener:t,once:!1});return this},i.on=c("addListener"),i.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},i.once=c("addOnceListener"),i.defineEvent=function(e){return this.getListeners(e),this},i.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},i.removeListener=function(e,t){var n,r,o=this.getListenersAsObject(e);for(r in o)o.hasOwnProperty(r)&&-1!==(n=s(o[r],t))&&o[r].splice(n,1);return this},i.off=c("removeListener"),i.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},i.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},i.manipulateListeners=function(e,t,n){var r,o,i=e?this.removeListener:this.addListener,a=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)i.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(o=t[r])&&("function"==typeof o?i.call(this,r,o):a.call(this,r,o));return this},i.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},i.removeAllListeners=c("removeEvent"),i.emitEvent=function(e,t){var n,r,o,i,a=this.getListenersAsObject(e);for(i in a)if(a.hasOwnProperty(i))for(n=a[i].slice(0),o=0;o<n.length;o++)!0===(r=n[o]).once&&this.removeListener(e,r.listener),r.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,r.listener);return this},i.trigger=c("emitEvent"),i.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},i.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},i._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},i._getEvents=function(){return this._events||(this._events={})},o.noConflict=function(){return t.EventEmitter=a,o},void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}("undefined"!=typeof window?window:this||{})},1307:(e,t,n)=>{n.d(t,{$b:()=>g,EA:()=>m,HA:()=>d,vL:()=>c,x9:()=>v});var r=n(7130);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s extends Array{constructor(e){var[t,n]=e;super(),a(this,0,void 0),a(this,1,void 0),this[0]=t,this[1]=n}toString(){return 0===this.width&&0===this.height?"fluid":"".concat(this.width,",").concat(this.height)}toArray(){return[this[0],this[1]]}isProxy(){var e=1===this.width&&1===this.height,t=2===this.width&&2===this.height,n="fluid"===this.toString(),r=88===this.width,o=3===this.width&&3===this.height;return e||t||n||r||o}get width(){return this[0]}get height(){return this[1]}}var c=(e,t)=>new s([e,t]),l={billboard:c(970,250),halfPage:c(300,600),leaderboard:c(728,90),mobilesticky:c(320,50),mpu:c(300,250),portrait:c(300,1050),skyscraper:c(160,600),cascade:c(940,230),portraitInterstitial:c(320,480)},u={"970x250":l.billboard,"300x600":l.halfPage,"728x90":l.leaderboard,"300x250":l.mpu,"300x1050":l.portrait,"160x600":l.skyscraper},d={outstreamDesktop:c(620,350),outstreamGoogleDesktop:c(550,310),outstreamMobile:c(300,197)},f={fluid:c(0,0),googleCard:c(300,274),outOfPage:c(1,1)},p={empty:c(2,2),fabric:c(88,71),inlineMerchandising:c(88,85),merchandising:c(88,88),merchandisingHigh:c(88,87),merchandisingHighAdFeature:c(88,89),sponsorLogo:c(3,3)},m=i(i(i(i(i({},l),u),d),f),p),v={inline:{mobile:[m.outOfPage,m.empty,m.outstreamMobile,m.mpu,m.googleCard,m.fluid],desktop:[m.outOfPage,m.empty,m.mpu,m.googleCard,m.fluid]},right:{mobile:[m.outOfPage,m.empty,m.mpu,m.googleCard,m.halfPage,m.fluid]},comments:{mobile:[m.outOfPage,m.empty,m.outstreamMobile,m.mpu,m.googleCard,m.fluid],desktop:[m.outOfPage,m.empty,m.mpu,m.googleCard,m.fluid]},"comments-expanded":{mobile:[m.mpu,m.empty],desktop:[m.outOfPage,m.empty,m.mpu,m.googleCard,m.fluid,m.skyscraper,m.halfPage]},"top-above-nav":{mobile:[m.outOfPage,m.empty,m.fabric,m.outstreamMobile,m.mpu,m.fluid],tablet:[m.outOfPage,m.empty,m.fabric,m.fluid,m.leaderboard],desktop:[m.outOfPage,m.empty,m.leaderboard,c(940,230),c(900,250),m.billboard,m.fabric,m.fluid]},"fronts-banner":{tablet:[m.empty,m.leaderboard],desktop:[m.outOfPage,m.empty,m.billboard,m.merchandisingHigh,m.fluid]},mostpop:{mobile:[m.outOfPage,m.empty,m.mpu,m.googleCard,m.fluid],phablet:[m.outOfPage,m.empty,m.outstreamMobile,m.mpu,m.googleCard,m.halfPage,m.fluid],tablet:[m.outOfPage,m.empty,m.mpu,m.googleCard,m.halfPage,m.fluid],desktop:[m.outOfPage,m.empty,m.mpu,m.googleCard,m.halfPage,m.fluid]},im:{mobile:[m.outOfPage,m.empty,m.inlineMerchandising,m.fluid]},"merchandising-high":{mobile:[m.outOfPage,m.empty,m.merchandisingHigh,m.fluid,m.mpu],tablet:[m.outOfPage,m.empty,m.merchandisingHigh,m.fluid],desktop:[m.outOfPage,m.empty,m.merchandisingHigh,m.fluid,m.billboard]},merchandising:{mobile:[m.outOfPage,m.empty,m.merchandising,m.fluid,m.mpu],tablet:[m.outOfPage,m.empty,m.merchandising,m.fluid],desktop:[m.outOfPage,m.empty,m.merchandising,m.fluid,m.billboard]},survey:{desktop:[m.outOfPage]},carrot:{mobile:[m.fluid]},"mobile-sticky":{mobile:[m.mobilesticky,m.empty]},"crossword-banner-mobile":{mobile:[m.mobilesticky]},"crossword-banner":{phablet:[m.outOfPage,m.empty,m.leaderboard]},"article-end":{mobile:[]},exclusion:{mobile:[m.empty]},external:{mobile:[m.outOfPage,m.empty,m.fluid,m.mpu]},"sponsor-logo":{mobile:[m.outOfPage,m.empty,m.fluid,m.sponsorLogo]}},g=(e,t)=>{if(!(0,r.m)(t))return[];for(var n=r.f.findIndex((e=>e===t));n>=0;){var o=e[r.f[n]];if(null!=o&&o.length)return o;n--}return[]}},6984:(e,t,n)=>{n.d(t,{Rm:()=>d,k3:()=>f,pm:()=>u,t5:()=>l});var r=n(5872),o=n(1307),i=n(7130);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={im:{label:!1,refresh:!1},"merchandising-high":{refresh:!1},carrot:{label:!1,refresh:!1,name:"carrot"},"mobile-sticky":{label:!0,refresh:!0,name:"mobile-sticky"}},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.entries(t).reduce(((e,t)=>{var[n,r]=t;if((0,i.m)(n)){var a=(0,o.$b)(e,n);e[n]=a.concat(r)}return e}),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))},u="ad-slot-container",d=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=document.createElement("div");return r.className="".concat(u," ").concat(null!==(t=n.className)&&void 0!==t?t:""),r.appendChild(e),r},f=function(e){var t,n,o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=null!==(t=c[e])&&void 0!==t?t:{},s=null!==(n=null!==(o=i.name)&&void 0!==o?o:a.name)&&void 0!==n?n:e,l={};return!1===a.label&&(l.label="false"),!1===a.refresh&&(l.refresh="false"),((e,t,n)=>{var o="".concat("dfp-ad--").concat(e);if(window.guardian.config.isDotcomRendering&&"top-above-nav"===e){var i=document.getElementById(o);null!=i&&i.parentNode&&((0,r.Rm)("commercial","warning: cleaning up dom node id: dfp-ad--".concat(e)),i.parentNode.removeChild(i))}var a=document.createElement("div");return a.id=o,a.className="js-ad-slot ad-slot ".concat(n.join(" ")),a.dataset.linkName="ad slot ".concat(e),a.dataset.name=e,a.setAttribute("aria-hidden","true"),Object.entries(t).forEach((e=>{var[t,n]=e;return a.dataset[t]=n})),a})(s,l,((e,t)=>{var n;return[...null!==(n=null==t?void 0:t.split(" "))&&void 0!==n?n:[],e].map((e=>"ad-slot--".concat(e)))})(s,i.classes))}},9041:(e,t,n)=>{n.d(t,{W:()=>m,x:()=>i});var r=n(5872);function o(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=()=>"undefined"!=typeof window&&void 0!==window.performance&&"function"==typeof window.performance.mark,a=["top-above-nav","inline1","inline2","fronts-banner-1","fronts-banner-2"],s=["slotReady","adRenderStart","prebidStart","adOnPage","viewable"],c=["adRender","defineSlot","prepareSlot","prebid","fetchAd"],l=["commercialStart","commercialModulesLoaded"],u=["commercialBoot","googletagInit"],d=[...s,...c.map((e=>"".concat(e,"Start"))),...c.map((e=>"".concat(e,"End")))],f=["cmp-init","cmp-ui-displayed","cmp-got-consent"],p=e=>{var[t,n]=e.split("_");n||(n=t,t="page");var r=a.includes(t)&&s.includes(n)||"page"===t&&l.includes(n),o=a.includes(t)&&c.includes(n)||"page"===t&&u.includes(n);return r||o};class m{static init(){var e;return(e=window.guardian).commercialTimer||(e.commercialTimer=new m)}static get(){return this.init()}get _externalMarks(){return i()?f.reduce(((e,t)=>{var n=window.performance.getEntriesByName(t);return n.length&&n[0]&&e.set(t,n[0]),e}),new Map):new Map}get marks(){return[...this._marks,...this._externalMarks].map((e=>{var[t,n]=e;return{name:t,ts:n.startTime}}))}get measures(){return[...this._measures].map((e=>{var[t,n]=e;return{name:t,duration:n.duration}}))}constructor(){o(this,"_marks",void 0),o(this,"_measures",void 0),o(this,"properties",void 0),this._marks=new Map,this._measures=new Map,this.properties={},window.navigator.connection&&(this.properties.type=window.navigator.connection.type,this.properties.downlink=window.navigator.connection.downlink,this.properties.effectiveType=window.navigator.connection.effectiveType)}setProperty(e,t){this.properties[e]=t}mark(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page",n=e;if(d.includes(e)&&"page"!==t&&(n="".concat(t,"_").concat(n)),!this._marks.get(n)&&i()){var r=window.performance.mark(n);"number"==typeof(null==r?void 0:r.startTime)&&p(n)&&this._marks.set(n,r),n.endsWith("End")&&this.measure(n)}}measure(e){var t=e.replace("End","Start"),n=e.replace("End","");if(window.performance.getEntriesByName(t).length>0)try{var o=window.performance.measure(n,t,e);o&&p(n)&&this._measures.set(n,o)}catch(e){(0,r.Rm)("commercial","error measuring ".concat(n),e)}}}},8995:(e,t,n)=>{n.d(t,{W6:()=>r.W,_h:()=>y});n(2803),n(2506);var r=n(9041);n(8154),n(1307),n(9830),n(2922),n(7304),n(1912);n(6984),n(7996),n(8361),n(2311);var o=n(7785);function i(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}var a={},s=0,c=()=>{},l={code:405,message:"Service %% not implemented"},u={code:500,message:"Internal server error\n\n%%"},d=(e,t)=>{if(e.slotId){var n,r=document.getElementById("dfp-ad--".concat(e.slotId));return null!==(n=null==r?void 0:r.querySelector("iframe"))&&void 0!==n?n:void 0}if(e.iframeId){var o=document.getElementById(e.iframeId);return o instanceof HTMLIFrameElement?o:void 0}if(t){var i=document.querySelectorAll("iframe");return Array.from(i).find((e=>e.contentWindow===t))}},f=/^[a-f0-9]{8}-([a-f0-9]{4}-){3}[a-f0-9]{12}$/,p=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce(((e,t)=>(e.message=e.message.replace("%%",t),e)),e)},m=e=>{try{var t=JSON.parse(e.data),n="set-ad-height"===(r=t).type&&("id"in r.value||"slotId"in r.value)&&"height"in r.value?(e=>({id:"aaaa0000-bb11-cc22-dd33-eeeeee444444",type:"resize",iframeId:e.value.id,slotId:e.value.slotId,value:{height:e.value.height,width:e.value.width}}))(t):t;if((e=>{var t=e;return"type"in t&&"value"in t&&"id"in t&&t.type in a&&f.test(t.id)})(n))return n}catch(e){}var r},v=(e,t,n,r)=>{(0,o.u)({id:e,error:n,result:r},null!=t?t:window)},g=function(){var e,t=(e=function*(e){var t=m(e);if(t){var n=a[t.type];if(Array.isArray(n)&&n.length){var r=n.reduce(((n,r)=>n.then((n=>{var o=r(t.value,n,d(t,e.source));return void 0===o?n:o}))),Promise.resolve());return r.then((n=>{v(t.id,e.source,null,n)})).catch((n=>{c(n,{feature:"native-ads"}),v(t.id,e.source,p(u,n.toString()),null)}))}"function"==typeof n?n(((n,r)=>v(t.id,e.source,n,r)),t.value,d(t,e.source)):v(t.id,e.source,p(l,t.type),null)}},function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function s(e){i(a,r,o,s,c,"next",e)}function c(e){i(a,r,o,s,c,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}(),h=e=>{e.addEventListener("message",(e=>{g(e)}))},b=(e,t,n)=>{var r,o;0===s&&h(null!==(o=null==n?void 0:n.window)&&void 0!==o?o:window);var i=null!==(r=a[e])&&void 0!==r?r:[];Array.isArray(i)&&!i.includes(t)&&(a[e]=[...i,t],s+=1)},w=(e,t,n)=>{var r;0===s&&h(null!==(r=null==n?void 0:n.window)&&void 0!==r?r:window);a[e]=t,s+=1},y=(e,t,n)=>{c=n,e.forEach((e=>e(b,n))),t.forEach((e=>e(w,n)))};n(4757)},7130:(e,t,n)=>{n.d(t,{f:()=>r,m:()=>o});var r=["mobile","phablet","tablet","desktop"],o=e=>r.includes(e)},7785:(e,t,n)=>{n.d(t,{u:()=>r});var r=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"*";t.postMessage(JSON.stringify(e),{targetOrigin:n})}},9830:(e,t,n)=>{n.d(t,{MO:()=>c,MT:()=>s,dj:()=>l});var r=n(4965),o="_papns",i="_pdfps",a=e=>{try{var t=r.I.local.getRaw(e),n=t?JSON.parse(t):null;return Array.isArray(n)?n.slice(0,250).map((e=>Number.parseInt(e,10))).filter((e=>"number"==typeof e&&!Number.isNaN(e))).map(String):[]}catch(e){return[]}},s=()=>a(o),c=()=>a(i),l=()=>{r.I.local.remove(o),r.I.local.remove(i)}},8154:(e,t,n)=>{n.d(t,{X:()=>k});var r,o=n(5872),i=n(1445),a=n(6673),s=e=>{var[t,n,r]=e.split(":");return(0,i.K)(t)&&(0,a.Uv)(t)&&(0,i.K)(n)?{subscription:t,name:n,action:r}:void 0},c=n(2285),l=n(9396),u=n(9041);function d(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){d(i,r,o,a,s,"next",e)}function s(e){d(i,r,o,a,s,"throw",e)}a(void 0)}))}}!function(e){e.CODE="//performance-events.code.dev-guardianapis.com/commercial-metrics",e.PROD="//performance-events.guardianapis.com/commercial-metrics"}(r||(r={}));var p,m={page_view_id:void 0,browser_id:void 0,platform:"NEXT_GEN",metrics:[],properties:[]},v=[],g=[],h=!1,b=e=>Object.entries(e),w=e=>e.map((e=>{var[t,n]=e;return{name:String(t),value:String(n)}})),y=(e,t)=>[...e.map((e=>{var{name:t,ts:n}=e;return{name:t,value:Math.ceil(n)}})),...t.map((e=>{var{name:t,duration:n}=e;return{name:t,value:Math.ceil(n)}}))];var E=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(e=>"getEntriesByType"in window.performance?window.performance.getEntriesByType("measure").flatMap((t=>{var{entryType:n,name:r,duration:o,startTime:i}=t,a=s(r);return"measure"===n&&a&&e.includes(a.subscription)?{name:r,detail:a,duration:o,entryType:n,startTime:i,toJson:()=>JSON.stringify(void 0)}:[]})):[])(t).map((e=>{var{detail:{subscription:t,name:n,action:r},duration:o}=e;return{name:[t,n,r].filter(c.R).join("_"),value:o}}))};function S(){var e=u.W.get(),t=b(e.properties).filter((e=>void 0!==e[1])),n=w(t).concat(v).concat(g);m.properties=n;var r=y(e.marks,e.measures).concat("number"==typeof window.guardian.offlineCount?[{name:"offlineCount",value:window.guardian.offlineCount}]:[]).concat(E("dotcom"));m.metrics=r,(0,o.Rm)("commercial","About to send commercial metrics",m),navigator.sendBeacon(p,JSON.stringify(m))}var _=e=>{switch(e.type){case"visibilitychange":return void("hidden"===document.visibilityState&&S());case"pagehide":return void S()}},P=()=>{window.addEventListener("visibilitychange",_,{once:!0}),window.addEventListener("pagehide",_,{once:!0})},O=function(){var e=f((function*(){var e=yield(0,l.GD)();if(e.tcfv2){var t=e.tcfv2.consents;return[7,8].every((e=>t[e]))}return!0}));return function(){return e.apply(this,arguments)}}();function k(){return A.apply(this,arguments)}function A(){return(A=f((function*(){h?(yield O())?P():(0,o.Rm)("commercial","Metrics won't be sent because consent wasn't given"):console.warn("initCommercialMetrics not yet initialised")}))).apply(this,arguments)}},4757:(e,t,n)=>{n.d(t,{K:()=>i});var r=n(1912),o=["ab","at","bl","bp","br","cc","ct","dcre","edition","firstvisit","k","rc","rp","s","se","sens","sh","si","skinsize","su","tn","url","urlkw"],i=(e,t,n)=>{var i=(0,r.x)({adFree:t,consentState:e,clientSideParticipations:{},isSignedIn:n});return Object.fromEntries(Object.entries(i).filter((e=>{var t,[n]=e;return t=n,o.includes(t)})))}},1912:(e,t,n)=>{n.d(t,{x:()=>P});var r,o=n(1445),i=n(5148),a=n(9396),s=n(9041),c=n(4965),l=/^[A-Z]{2}$/,u=e=>(0,o.K)(e)&&l.test(e),d={UK:"GB",US:"US",AU:"AU"},f=()=>{if(r)return r;var e=c.I.local.get("gu.geo.override");if(u(e))return r=e;var t=(0,i.R)({name:"GU_geo_country"});if(t&&u(t))return r=t;var n,o=(n=window.guardian.config.page.edition,d[n]);return r=o},p=["25","30","60","90","120","150","180","210","240","270","300"],m=e=>{var t,n=Math.min(Math.ceil(e/30),10);return null!==(t=p[n])&&void 0!==t?t:null},v=e=>{var t=(Date.now()-e)/1e3/60/60,n=t/24,r=n/30;return t<2?"0":t<24?"1":n<3?"2":n<7?"3":n<30?"4":r<10?"5":r<14?"6":"7"},g=e=>{var t,n,r,{eligibleForDCR:i,path:a,renderingPlatform:s,section:c,sensitive:l,videoLength:u,webPublicationDate:d,keywords:f}=e,p=(t=a.split("/").filter(Boolean).slice(-1)[0],(0,o.K)(t)?t.split("-").filter(Boolean):[]);return{dcre:i?"t":"f",rc:v(d),rp:s,s:c,sens:l?"t":"f",urlkw:p,vl:u?m(u):null,allkw:(n=p,r=f,[...new Set([...n,...r])])}},h=n(7996),b=n(8361),w=n(2311);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=e=>(!(0,s.x)()||"navigate"===(()=>{if((0,s.x)()){var e=performance.getEntriesByType("navigation"),t=e[e.length-1];return null==t?void 0:t.type}})())&&!(e=>!!e&&new URL(e).hostname===window.location.hostname)(e),P=e=>{var t,n,{adFree:r,clientSideParticipations:s,consentState:c,isSignedIn:l=!1,youtube:u=!1}=e,{page:d,isDotcomRendering:p}=window.guardian.config,m=r?{af:"t"}:{},v=d.sharedAdTargeting?(0,w.p)(d.sharedAdTargeting):{},y=g({webPublicationDate:d.webPublicationDate,eligibleForDCR:d.dcrCouldRender,path:"/".concat(d.pageId),renderingPlatform:p?"dotcom-rendering":"dotcom-platform",section:d.section,sensitive:d.isSensitive,videoLength:d.videoDuration,keywords:null!==(t=v.k)&&void 0!==t?t:[]}),S=document.referrer||"",P=(0,b._)({adTest:(0,i.R)({name:"adtest",shouldMemoize:!0}),countryCode:f(),isSignedIn:l,pageViewId:window.guardian.config.ophan.pageViewId,participations:{clientSideParticipations:s,serverSideParticipations:null!==(n=window.guardian.config.tests)&&void 0!==n?n:{}},referrer:S}),O=(e=>{var t,{viewPortWidth:n,cmpBannerWillShow:r}=e,o=window.guardian.config.page.isPreview;return{bp:(t=n,t>=980?"desktop":t>=660?"tablet":"mobile"),skinsize:n>=1560?"l":"s",inskin:r||o?"f":"t"}})({viewPortWidth:[window.innerWidth||document.body.clientWidth||0,window.innerHeight||document.body.clientHeight][0],cmpBannerWillShow:!a.r2.hasInitialised()||a.r2.willShowPrivacyMessageSync()}),k=(0,h.h)({state:c,youtube:u}),A={};c.canTarget||(A.firstvisit=_(S)?"t":"f");var j=(e=>{var t={};for(var n in e){var r=e[n];((0,o.K)(r)||Array.isArray(r)&&r.length>0&&r.every(o.K))&&(t[n]=r)}return t})(E(E(E(E(E(E(E({},k),v),m),y),P),O),A));return j}},7996:(e,t,n)=>{n.d(t,{h:()=>p});var r=n(4965),o=n(9830);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=["0","1","2","3","4","5","6-9","10-15","16-19","20-29","30plus"],c="gu.adManagerGroup",l=["1","2","3","4","5","6","7","8","9","10","11","12"],u=e=>{var t=((e,t)=>t.tcfv2&&t.tcfv2.consents[1]||t.ccpa&&!t.ccpa.doNotSell||t.aus&&t.aus.personalisedAdvertising?r.I.local.getRaw(e):null)("gu.alreadyVisited",e);if(!t)return"0";var n,o=parseInt(t,10);return o<=5?null!==(n=s[o])&&void 0!==n?n:"0":o>=6&&o<=9?"6-9":o>=10&&o<=15?"10-15":o>=16&&o<=19?"16-19":o>=20&&o<=29?"20-29":o>=30?"30plus":"0"},d=e=>{if(!e.framework)return r.I.local.remove(c),null;if(e.tcfv2&&!e.canTarget)return r.I.local.remove(c),null;var t,n,o,i,a=r.I.local.getRaw(c);return i=a,l.some((e=>e===i))?a:(n=Math.floor(Math.random()*l.length),o=null!==(t=l[n])&&void 0!==t?t:"12",r.I.local.setRaw(c,o),o)},f=(e,t)=>e.canTarget?t?(0,o.MO)():(0,o.MT)():((0,o.dj)(),[]),p=e=>{var{state:t,youtube:n}=e;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({amtgrp:d(t),fr:u(t),permutive:f(t,n)},(e=>e.tcfv2?{cmp_interaction:e.tcfv2.eventStatus,pa:e.canTarget?"t":"f",consent_tcfv2:e.canTarget?"t":"f",rdp:"na"}:e.ccpa?{consent_tcfv2:"na",rdp:e.canTarget?"f":"t",pa:e.canTarget?"t":"f"}:e.aus?{consent_tcfv2:"na",rdp:"na",pa:e.canTarget?"t":"f"}:{cmp_interaction:"na",consent_tcfv2:"na",rdp:"na",pa:"f"})(t))}},8361:(e,t,n)=>{n.d(t,{_:()=>s});var r=n(1445),o=[{id:"facebook",match:"facebook.com"},{id:"google",match:"www.google"},{id:"twitter",match:"/t.co/"},{id:"reddit",match:"reddit.com"}],i=e=>{var t;if(""===e)return null;var n=null!==(t=o.find((t=>e.includes(t.match))))&&void 0!==t?t:null;return n?n.id:null},a=e=>{var{clientSideParticipations:t,serverSideParticipations:n}=e,o=(e,t)=>"notintest"===t?null:"".concat(e,"-").concat(t).substring(0,40),i=Object.entries(t).map((e=>{var[t,n]=e;return o(t,n.variant)})).filter(r.K),a=Object.entries(n).map((e=>o(...e))).filter(r.K);return i.length+a.length===0?null:[...i,...a]},s=e=>{var{adTest:t,countryCode:n,isSignedIn:r,pageViewId:o,participations:s,referrer:c}=e;return{ab:a(s),at:t,cc:n,pv:o,ref:i(c),si:r?"t":"f"}}},2311:(e,t,n)=>{n.d(t,{p:()=>a});var r=n(1445),o=e=>(0,r.K)(e)&&""!==e,i=e=>{return!!o(e)||(t=e,!!(Array.isArray(t)&&t.filter(o).length>0));var t},a=e=>{return t=e,Object.entries(t).reduce(((e,t)=>{var[n,r]=t;return i(r)&&(e[n]=Array.isArray(r)?r.filter(o):r),e}),{});var t}},2803:(e,t,n)=>{n.d(t,{c:()=>r});var r={shouldRun:!0,url:"//cdn.adsafeprotected.com/iasPET.1.js",name:"ias"}},2506:(e,t,n)=>{n.d(t,{L:()=>i});var r=(e,t)=>{e&&(window.googletag&&window.googletag.cmd.push((()=>{window.googletag.pubads().setTargeting("inizio","t")})),console.log("surveyAvailable: ".concat(t.measurementId)))},o=()=>{var e;(e=window)._brandmetrics||(e._brandmetrics=[]),window._brandmetrics.push({cmd:"_querySurvey",val:{callback:r}})},i=e=>{var{shouldRun:t}=e;return{shouldRun:t,url:"//cdn.brandmetrics.com/survey/script/e96d04c832084488a841a06b49b8fb2d.js",name:"inizio",onLoad:o}}},7304:(e,t,n)=>{n.d(t,{W:()=>i});var r=n(5872),o=n(9041),i=e=>{var t=void 0===e.gpcSignal?-1:+e.gpcSignal,n=o.W.get();(0,r.Rm)("commercial","gpcSignal ".concat(t)),n.setProperty("gpcSignal",t)}},2922:(e,t,n)=>{n.d(t,{m:()=>i});var r=n(5872),o=n(9041),i=()=>{var e=document.body.offsetHeight,t=window.innerHeight,n=Math.floor(e/t),i=o.W.get();i.setProperty("pageHeightVH",n);for(var a=new IntersectionObserver((e=>{e.forEach((e=>{if(e.isIntersecting){var t=String(e.target.getAttribute("data-depth"));(0,r.Rm)("commercial","current scroll depth ".concat(t)),i.mark("scroll-depth-vh-".concat(t)),a.unobserve(e.target)}}))})),s=1;s<=n;s++){var c=document.createElement("div");c.dataset.depth=String(s),c.style.top=String(100*s)+"%",c.style.position="absolute",c.className="scroll-depth-marker",document.body.appendChild(c),a.observe(c)}}},6304:(e,t,n)=>{n.d(t,{vs:()=>k,Fs:()=>A});var r=n(1684),o=n(1307),i=n(6984),a=n(6873),s=/([a-z])([A-Z])/g,c=n(262),l=n(8995),u=e=>0===e[0]&&0===e[1]?"fluid":[e[0],e[1]],d=n(8562);function f(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}var p=(0,c.A)((()=>{var e=(0,d.S)();return e["ad-unit"]?"/".concat(window.guardian.config.page.dfpAccountId,"/").concat(String(e["ad-unit"])):window.guardian.config.page.adUnit})),m=function(){var e,t=(e=function*(e,t){var n;return Promise.race([e,new Promise((e=>{n=window.setTimeout(e,t)}))]).then((e=>(window.clearTimeout(n),e)))},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){f(i,r,o,a,s,"next",e)}function s(e){f(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),v={mobile:[0,0],phablet:[r.f.phablet,0],tablet:[r.f.tablet,0],desktop:[r.f.desktop,0]},g=(0,c.A)((()=>{var e=(0,d.S)();return e["ad-unit"]?"/".concat(window.guardian.config.page.dfpAccountId,"/").concat(String(e["ad-unit"])):window.guardian.config.page.adUnit})),h=e=>{var t=window.googletag.sizeMapping();return Object.entries(e).forEach((e=>{var[n,r]=e;(e=>e in v)(n)&&t.addSize(v[n],r.map(u))})),t.build()},b=e=>{var t=[];return null==e||e.forEach((e=>{var n,[,r]=e;n=r,Array.isArray(n)&&n.length&&r.forEach((e=>{((e,t)=>"fluid"===e?t.includes("fluid"):!!Array.isArray(e)&&!!t.find((t=>t[0]===e[0]&&t[1]===e[1])))(e,t)||t.push(e)}))})),t},w=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.getAttribute("data-name");l.W6.get().mark("defineSlotStart",r);var o=e.id,i=h(t);if(!i)throw new Error("Could not define slot for ".concat(o,". A googletag size mapping could not be created."));var a,s,c,u=b(i);e.getAttribute("data-out-of-page")?null===(s=a=window.googletag.defineOutOfPageSlot(g(),o))||void 0===s||s.defineSizeMapping(i):(null===(c=a=window.googletag.defineSlot(g(),u,o))||void 0===c||c.defineSizeMapping(i),a&&(e=>"string"==typeof e&&("inline1"===e||"top-above-nav"===e))(r)&&(e=>{e.setSafeFrameConfig({allowOverlayExpansion:!1,allowPushExpansion:!0,sandbox:!0})})(a));if(!a)throw new Error("Could not define slot for ".concat(o));var d=((e,t)=>m(new Promise((n=>{var r,o;window.__iasPET=null!==(r=window.__iasPET)&&void 0!==r?r:{};var i=window.__iasPET;i.queue=null!==(o=i.queue)&&void 0!==o?o:[],i.pubId="10249";var a=t.getSizes(),s=[{adSlotId:e,size:a.filter((e=>"fluid"!==e)).map((e=>[e.getWidth(),e.getHeight()])),adUnitPath:p()}];i.queue.push({adSlots:s,dataHandler:r=>{var o,i=JSON.parse(r);Object.keys(i.brandSafety).forEach((e=>{var t=i.brandSafety[e];t&&window.googletag.pubads().setTargeting(e,t)})),i.fr&&window.googletag.pubads().setTargeting("fra",i.fr),null!==(o=i.custom)&&void 0!==o&&o["ias-kw"]&&window.googletag.pubads().setTargeting("ias-kw",i.custom["ias-kw"]);var a=["pub"],s=i.slots[e];s&&Object.keys(s).filter((e=>!a.includes(e))).forEach((n=>{var r=i.slots[e];if(r){var o=r[n];o&&t.setTargeting(n,o)}})),n()}})})),1e3))(o,a);d.then((()=>{l.W6.get().mark("defineSlotEnd",r),l.W6.get().mark("slotReady",r)}));var f=window.guardian.config.page.isbn;"im"===r&&f&&a.setTargeting("isbn",f);var v=new Map([["top-above-nav","fabric1"],["merchandising-high","fabric2"],["merchandising","fabric3"]]).get(r);return v&&a.setTargeting("slot-fabric",v),Object.entries(n).forEach((e=>{var t,[n,r]=e;null===(t=a)||void 0===t||t.setTargeting(n,r)})),a.addService(window.googletag.pubads()).setTargeting("slot",r).setTargeting("testgroup",String(Math.floor(100*Math.random()))),{slot:a,slotReady:d}};function y(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function E(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=e=>e.split("|").map((e=>(0,o.vL)(...(e=>{var t=e.split(",",2).map(Number);return 2===t.length&&t[0]&&t[1]&&!t.some((e=>isNaN(e)))?[t[0],t[1]]:[0,0]})(e)))),_=e=>Object.entries(r.f).reduce(((t,n)=>{var[r]=n,o=e.getAttribute("data-".concat((e=>e.replace(s,"$1-$2").toLowerCase())(r)));return o&&(t[r]=S(o)),t}),{}),P=e=>{var t;return(e=>e in o.x9)(t=e.includes("inline")?"inline":e.includes("fronts-banner")?"fronts-banner":e.includes("external")?"external":e.includes("comments-expanded")?"comments-expanded":e)?o.x9[t]:{}},O=e=>0===Object.keys(e).length||Object.entries(e).every((e=>{var[,t]=e;return 0===t.length}));class k{constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};E(this,"id",void 0),E(this,"node",void 0),E(this,"sizes",void 0),E(this,"headerBiddingSizes",null),E(this,"size",null),E(this,"slot",void 0),E(this,"isEmpty",null),E(this,"isRendered",!1),E(this,"shouldRefresh",!1),E(this,"whenSlotReady",void 0),E(this,"extraNodeClasses",[]),E(this,"hasPrebidSize",!1),E(this,"headerBiddingBidRequest",null),E(this,"lineItemId",null),E(this,"testgroup",void 0),this.id=e.id,this.node=e,this.sizes=this.generateSizeMapping(t);var r=w(e,this.sizes,n);this.slot=r.slot,this.whenSlotReady=r.slotReady,this.testgroup=r.slot.getTargeting("testgroup")[0]}finishedRendering(e){this.isRendered=e}updateExtraSlotClasses(){var e,t=arguments,n=this;return(e=function*(){for(var e=t.length,r=new Array(e),o=0;o<e;o++)r[o]=t[o];var i=n.extraNodeClasses.filter((e=>!r.includes(e)));yield a.A.mutate((()=>{n.node.classList.remove(...i),n.node.classList.add(...r)})),n.extraNodeClasses=r},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){y(i,r,o,a,s,"next",e)}function s(e){y(i,r,o,a,s,"throw",e)}a(void 0)}))})()}generateSizeMapping(e){var t,n=this.node.dataset.name?P(this.node.dataset.name):{},r=(0,i.t5)(n,e);if(O(r)&&(r=_(this.node),O(r)))throw new Error("Tried to render ad slot '".concat(null!==(t=this.node.dataset.name)&&void 0!==t?t:"","' without any size mappings"));return r}updateSizeMapping(e){var t=this.generateSizeMapping(e);this.sizes=t;var n=h(t);n&&this.slot.defineSizeMapping(n)}}var A=e=>null!==e&&"fluid"!==e},568:(e,t,n)=>{n.d(t,{p:()=>a});var r=n(5872),o=n(8630),i=n(6304),a=(e,t,n)=>{try{return new i.vs(e,t,n)}catch(n){var a="Could not create advert. Ad slot: ".concat(e.id,". Additional Sizes: ").concat(JSON.stringify(t),". Error: ").concat(n instanceof Error?n.message:"Unknown error");return(0,r.Rm)("commercial",a),navigator.userAgent.includes("DuckDuckGo")||(0,o.N)(new Error(a),{feature:"commercial"},!1,.01),null}}},2629:(e,t,n)=>{n.d(t,{E:()=>v});var r=n(5872),o=n(262),i=n(4450),a=n(8764),s=n(4540),c=n(4519),l=n(5953),u=e=>{var t=(0,c.$)(e);t&&(t.isRendered?(0,l.M)(t):(0,l.b)(t))},d=(e,t)=>{var n=[];e.filter((e=>!("isIntersecting"in e)||e.isIntersecting)).forEach((e=>{(0,r.Rm)("commercial","display observer triggered for: ",e.target.id),t.unobserve(e.target),u(e.target.id),n.push(e.target.id)})),s.W.advertsToLoad=s.W.advertsToLoad.filter((e=>!n.includes(e.id)))},f=(e,t)=>{var n=[];e.filter((e=>!("isIntersecting"in e)||e.isIntersecting)).forEach((e=>{var o,a;(0,r.Rm)("commercial","prebid observer triggered for: ",e.target.id),t.unobserve(e.target),o=e.target.id,(a=(0,c.$)(o))&&(0,i.ac)(a),n.push(e.target.id)}))},p=(0,o.A)((e=>new window.IntersectionObserver(d,{rootMargin:e?"10% 0px":"20% 0px"}))),m=(0,o.A)((()=>new window.IntersectionObserver(f,{rootMargin:"50% 0px"}))),v=e=>{if(s.W.lazyLoadObserve){var t=["desktop","wide"].includes((0,a.D)());p(t).observe(e.node),t&&m().observe(e.node)}else u(e.id)}},5953:(e,t,n)=>{n.d(t,{M:()=>u,b:()=>l});var r=n(2946),o=n.n(r),i=n(9041),a=n(3804),s=n(4450),c=i.W.get(),l=e=>{var t=(0,a.qm)(e.id);c.mark("adRenderStart",t),e.whenSlotReady.catch((()=>{})).then((()=>(c.mark("prepareSlotStart",t),e.headerBiddingBidRequest?e.headerBiddingBidRequest:(0,s.ac)(e)))).then((()=>{c.mark("prepareSlotEnd",t),c.mark("fetchAdStart",t),window.googletag.display(e.id)}))},u=e=>{e.whenSlotReady.then((()=>o().mutate((()=>{var t;e.id.includes("fronts-banner")&&(null===(t=e.node.closest(".ad-slot-container"))||void 0===t||t.classList.remove("ad-slot--full-width"))})))).then((()=>(0,s.oI)(e))).then((()=>{if(e.slot.setTargeting("refreshed","true"),"dfp-ad--top-above-nav"===e.id&&Array.isArray(e.size)){var t=window.googletag.sizeMapping();t.addSize([0,0],e.size),e.slot.defineSizeMapping(t.build())}window.googletag.pubads().refresh([e.slot])}))}},4450:(e,t,n)=>{n.d(t,{ac:()=>f,oI:()=>p});var r=n(8083),o=n(4603);function i(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function s(e){i(a,r,o,s,c,"next",e)}function c(e){i(a,r,o,s,c,"throw",e)}s(void 0)}))}}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=(e,t)=>"top-above-nav"===t.key||t.key.startsWith("fronts-banner")?1===t.sizes.length?[t]:Array.isArray(e)?[c(c({},t),{},{sizes:[[e[0],e[1]]]})]:[]:[t],d=function(){var e=a((function*(e){var t=e.filter((e=>!e.headerBiddingBidRequest)),n=Promise.all([o.T.requestBids(t),r.a9.requestBids(t)]);t.forEach((e=>{e.headerBiddingBidRequest=n})),yield n}));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=a((function*(e){e.headerBiddingBidRequest=d([e]),yield e.headerBiddingBidRequest}));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=a((function*(e){var t=o.T.requestBids([e],(t=>u(e.size,t))),n=r.a9.requestBids([e],(t=>u(e.size,t)));yield Promise.all([t,n])}));return function(t){return e.apply(this,arguments)}}()},4645:(e,t,n)=>{n.d(t,{C:()=>l,T:()=>c});var r=n(5872),o=n(2946),i=n.n(o),a=n(4540),s=e=>{var t,n,r=e.parentElement;return r instanceof HTMLElement&&r.classList.contains("ad-slot-container")?null!==(t=r.parentElement)&&void 0!==t&&t.classList.contains("top-fronts-banner-ad-container")||null!==(n=r.parentElement)&&void 0!==n&&n.classList.contains("top-banner-ad-container")?r.parentElement:r:e},c=e=>{s(e).remove()},l=e=>{(0,r.Rm)("commercial","Removing empty advert: ".concat(e.id)),i().mutate((()=>{window.googletag.destroySlots([e.slot]),c(e.node),(e=>{a.W.adverts.delete(e.id),a.W.advertsToLoad=a.W.advertsToLoad.filter((t=>t!==e))})(e)}))}},1298:(e,t,n)=>{n.d(t,{mB:()=>Je,AB:()=>Ke});var r=n(9148),o={url:window.location.href},i=(n(7544),n(5148)),a="GU_mvt_id",s=1,c=1e6,l=()=>{var e,t=parseInt(null!==(e=(0,i.R)({name:a,shouldMemoize:!0}))&&void 0!==e?e:"NaN",10);return Number.isNaN(t)?null:Math.max(Math.min(t,c),s)},u=()=>c,d="notintest",f={id:d,test:()=>{}},p=n(4965);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=(e,t)=>{var n=t[e.id];return n?n.variant===d?f:e.variants.find((e=>e.id===n.variant)):null},b=e=>{return h(e,null!==(t=p.I.local.get("gu.ab.participations"))&&void 0!==t?t:{});var t};function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=e=>h(e,window.location.hash.startsWith("#ab")?window.location.hash.replace("#ab-","").split(",").reduce(((e,t)=>{var[n,r]=t.split("=");return n&&r?y(y({},e),{},{[n]:{variant:r}}):e}),{}):{});function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k,A,j,C,x,T,D,R,B,L,M,I,F,N=e=>{var t,n,r,i=(t=e.expiry,(new Date).setHours(0,0,0,0)>new Date(t).getTime()),a=window.guardian.config.page.isSensitive,s=!!e.showForSensitive,c=(n=e.id,!!window.guardian.config.switches["ab".concat(n)]),l=e.canRun();return r={key:e.id,value:{test:e,expired:i,isSensitive:a,shouldShowForSensitive:s,isTestOn:c,canTestBeRun:l}},o[r.key]=r.value,(!a||s)&&c&&!i&&l},z=e=>{var t,n,r=S(e),o=b(e),i=(e=>{var t=u()*e.audienceOffset,n=t+u()*e.audience,r=l();if(r&&r>t&&r<=n)return e.variants[r%e.variants.length]})(e),a=null!==(t=null!=r?r:o)&&void 0!==t?t:i,s=r&&window.location.hash.includes("ignoreCanRun=true");return a&&s||N(e)&&a&&((!(n=a).canRun||n.canRun())&&n.id!==d)?P(P({},e),{},{variantToRun:a}):null},U={}.hasOwnProperty;x=("undefined"!=typeof window&&null!==window?window.opanRemoteHost:void 0)||"https://ophan.theguardian.com",j=function(){return(new Date).getTime().toString(36)+"xxxxxxxxxxxx".replace(/x/g,(function(){return Math.floor(36*Math.random()).toString(36)}))},F=null!=(T="undefined"!=typeof guardian&&null!==guardian&&null!=(D=guardian.config)&&null!=(R=D.ophan)?R.pageViewId:void 0)?T:j(),A=function(){return F=j()},L=function(e){return B(x+"/img/1?".concat(k(e)))},I=function(e){return"string"==typeof e||"number"==typeof e?encodeURIComponent(e):encodeURIComponent(JSON.stringify(e))},M=function(e,t){var n,r,o;if(JSON&&(o=function(){var t;for(n in t=[],e)U.call(e,n)&&(r=e[n],C(r)&&t.push("".concat(encodeURIComponent(n),"=").concat(I(r))));return t}()).length)return B(x+"/img/2?viewId=".concat(F,"&").concat(o.join("&")),t)},C=function(e){return Array.isArray(e)?e.length:null!=e},k=function(e){var t,n;return e.viewId=F,function(){var r;for(t in r=[],e)U.call(e,t)&&null!=(n=e[t])&&r.push("".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(n)));return r}().join("&")},B=function(e,t){var n,r;return r=new Image,n=setInterval((function(){if(r.complete)return"function"==typeof t&&t(),clearInterval(n)}),10),r.src=e};const q={sendInitial:L,sendMore:M,viewId:F,bumpViewId:A},H={state:function(){return document.visibilityState||document.webkitVisibilityState||document.mozVisibilityState||document.msVisibilityState},changeEvent:document.visibilityState?"visibilitychange":document.webkitVisibilityState?"webkitvisibilitychange":document.mozVisibilityState?"mozvisibilitychange":document.msVisibilityState?"msvisibilitychange":void 0};const W={init:function(){var e="offset",t="client",n=function(){},r=void 0===window.addEventListener,o={loopDelay:50,maxLoop:5,debug:!1,found:n,notfound:n,complete:n},i=[],a=null,s={cssClass:"ad-slot pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links"},c={nullProps:[e+"Parent"],zeroProps:[]};c.zeroProps=[e+"Height",e+"Left",e+"Top",e+"Width",e+"Height",t+"Height",t+"Width"];var l={quick:null,remote:null},u=null,d={test:0,download:0};function f(e){return"function"==typeof e}function p(e,t){(o.debug||t)&&window.console&&window.console.log&&(t?console.error("[ABD] "+e):console.log("[ABD] "+e))}function m(e){p("start beginTest"),1!=u&&(!0,v(e),l.quick="testing",d.test=setTimeout((function(){g(e,1)}),5))}function v(e){var t,n=document.body,r="width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;";if(null!=e&&"string"!=typeof e){for(null!=e.style&&(r+=e.style),a=function(e,t){var n,r,o=t;if(r=document.createElement(e),o)for(n in o)o.hasOwnProperty(n)&&r.setAttribute(n,o[n]);return r}("div",{class:e.cssClass,style:r}),p("adding bait node to DOM"),n.appendChild(a),t=0;t<c.nullProps.length;t++)a[c.nullProps[t]];for(t=0;t<c.zeroProps.length;t++)a[c.zeroProps[t]]}else p("invalid bait being cast")}function g(e,t){var n,r=document.body,l=!1;if(null==a&&(p("recast bait"),v(e||s)),"string"==typeof e)return p("invalid bait used",!0),void(h()&&setTimeout((function(){!1}),5));for(d.test>0&&(clearTimeout(d.test),d.test=0),null!==r.getAttribute("abp")&&(p("found adblock body attribute"),l=!0),n=0;n<c.nullProps.length;n++){if(null==a[c.nullProps[n]]){t>4&&(l=!0),p("found adblock null attr: "+c.nullProps[n]);break}if(1==l)break}for(n=0;n<c.zeroProps.length&&1!=l;n++)0==a[c.zeroProps[n]]&&(t>4&&(l=!0),p("found adblock zero attr: "+c.zeroProps[n]));if(void 0!==window.getComputedStyle){var m=window.getComputedStyle(a,null);"none"!=m.getPropertyValue("display")&&"hidden"!=m.getPropertyValue("visibility")||(t>4&&(l=!0),p("found adblock computedStyle indicator"))}!0,l||t++>=o.maxLoop?(p("exiting test loop - value: "+(u=l)),function(){var e,t;if(null===u)return;for(e=0;e<i.length;e++){t=i[e];try{null!=t&&(f(t.complete)&&t.complete(u),u&&f(t.found)?t.found():!1===u&&f(t.notfound)&&t.notfound())}catch(e){p("Failure in notify listeners "+e.Message,!0)}}}(),h()&&setTimeout((function(){!1}),5)):d.test=setTimeout((function(){g(e,t)}),o.loopDelay)}function h(){if(null===a)return!0;try{f(a.remove)&&a.remove(),document.body.removeChild(a)}catch(e){}return a=null,!0}function b(){var e,t,n,o,i=!1;document.readyState&&"complete"==document.readyState&&(i=!0),e=function(){m(s)},i?e():(t=window,n="load",o=e,r?t.attachEvent("on"+n,o):t.addEventListener(n,o,!1))}return function(e){var t,r;if(e){for(t in r={complete:n,found:n,notfound:n},e)e.hasOwnProperty(t)&&("complete"==t||"found"==t||"notFound"==t?r[t.toLowerCase()]=e[t]:o[t]=e[t]);i.push(r),b()}}}()},G=function(){return new Promise((function(e,t){if(!W.init)return t(new Error("Failed to initialise adblock detection"));try{return W.init({complete:function(t){return e(t)}})}catch(e){return t(e)}}))};var $,V,J,K,X,Y,Z,Q,ee,te,ne,re,oe,ie,ae={}.hasOwnProperty;X=window.document,K=null!=window.localStorage&&"undefined"!=typeof JSON&&null!==JSON,re=null,ee=function(e,t){return re=e,"prerender"!==H.state()?oe(t):H.changeEvent?X.addEventListener(H.changeEvent,(function(){if("visible"===H.state())return oe(t)}),!1):void 0},Z=function(e){var t,n,r,o;for(t=0,r=(o=window.location.search.substring(1).split("&")).length;t<r;t++)if((n=o[t].split("="))[0]===e)return decodeURIComponent(n[1])},Q=function(e){var t;return e||(null!=(t=Z("pre-auth-ref"))?t:"")},Y=function(){var e,t;return null!=(null!=(t=window.performance)?t.getEntriesByType:void 0)&&(e=window.performance.getEntriesByType("navigation")).length>0?e[0].type:null},oe=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:location.href,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.document.referrer;return n=Y(),t={v:17,platform:re,url:r,ref:Q(o),visibilityState:H.state(),isModernBrowser:"undefined"!=typeof guardian&&null!==guardian?guardian.isModernBrowser:void 0,httpStatus:e,tz:(new Date).getTimezoneOffset()},null!=n&&(t.navigationType=n),V(t),J(t),q.sendInitial(t),G().then((function(e){return q.sendMore({adUnitWasHidden:e})}))},ne=[],te=function(e){var t,n,r,o;if("complete"===document.readyState){for(n in r={},t=e())o=t[n],r[n]=o;return q.sendMore(r)}return ne.push(e)},"function"==typeof window.addEventListener&&window.addEventListener("load",(function(){var e,t,n,r,o,i;for(o={},t=0,r=ne.length;t<r;t++)for(n in e=(0,ne[t])())i=e[n],o[n]=i;return"next-gen"===re&&$(o),q.sendMore(o)}),!1),J=function(e){var t,n,r;if(K){if(null!=(n=JSON.parse(window.localStorage.getItem("ophan_follow"))))for(t in n)ae.call(n,t)&&(r=n[t],e[t]=r);return window.localStorage.removeItem("ophan_follow")}},ie=function(e){return e.map((function(e){return e.length>50?e.substring(0,50).concat("…"):e}))},$=function(e){var t,n,r,o,i,a,s;if(t=function(){var e,t,r,o;for(o=[],e=0,t=(r=document.querySelectorAll("[data-component]")).length;e<t;e++)n=r[e],o.push(n.getAttribute("data-component"));return o}(),t.length>0){for(s=ie(t),a={},r=0,i=s.length;r<i;r++)n=s[r],a[n]=1;return e.renderedComponents=function(){var e;for(o in e=[],a)a[o],e.push(o);return e}()}},V=function(e){var t,n,r;if(null!=(t="undefined"!=typeof guardian&&null!==guardian&&null!=(n=guardian.config)&&null!=(r=n.page)?r.contentType:void 0)&&""!==t)return e.contentType=t.toLowerCase()};const se={init:ee,storeDataToSendOnNextEvent:function(e){var t,n,r;if(K){for(n in t=JSON.parse(window.localStorage.getItem("ophan_follow"))||{},e)ae.call(e,n)&&(r=e[n],t[n]=r);return window.localStorage.setItem("ophan_follow",JSON.stringify(t))}},onLoadCapture:te,servingPlatform:function(){return re},viewId:q.viewId,sendInitialEvent:oe};var ce,le,ue;le=[],ue=null,ce=class{constructor(e,t,n,r){this.name=e,this.element=t,this.visibilityThreshold=n,this.reportingInterval=r,this.visible=!1,this.totalAttentionMs=0,this.unrecordedAttentionStarted=null,this.reportedTotalAttentionMs=0,this.usingEmitter=!1,this.visCheck=this.checkVisibility.bind(this),null!=ue?(this.usingEmitter=!0,ue.on("window:throttledScroll",this.visCheck)):window.addEventListener("scroll",this.visCheck),window.addEventListener("resize",this.visCheck)}isVisible(){var e,t,n,r,o,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return!!this.element.offsetParent&&(n=(e=this.element.getBoundingClientRect()).right-e.left,t=e.bottom-e.top,r=window.innerHeight||document.documentElement.clientHeight,o=window.innerWidth||document.documentElement.clientWidth,e.left>=-n*(1-i)&&e.top>=-t*(1-i)&&e.right<=o+n*(1-i)&&e.bottom<=r+t*(1-i))}visibilityHasChanged(){var e;return e=this.visible,this.visible=this.isVisible(this.visibilityThreshold),e!==this.visible}rebindToEventEmitter(){if(!this.usingEmitter&&null!=ue)return window.removeEventListener("scroll",this.visCheck),this.usingEmitter=!0,ue.on("window:throttledScroll",this.visCheck)}checkVisibility(){if(this.rebindToEventEmitter(),this.visibilityHasChanged())return this.visible?this.makeActive():this.makeInactive()}makeActive(){return null!=this.unrecordedAttentionStarted?this.unrecordedAttentionStarted:this.unrecordedAttentionStarted=performance.now()}makeInactive(){return this.incrementTotalAttentionTimeByUnrecordedAmount(),this.unrecordedAttentionStarted=null}hadAttentionSinceLastGet(){return this.incrementTotalAttentionTimeByUnrecordedAmount(),this.totalAttentionMs!==this.reportedTotalAttentionMs}getAttentionTime(){return this.incrementTotalAttentionTimeByUnrecordedAmount(),this.reportedTotalAttentionMs=this.totalAttentionMs,this.totalAttentionMs}incrementTotalAttentionTimeByUnrecordedAmount(){var e,t;if(null!=this.unrecordedAttentionStarted)return e=performance.now(),t=Math.min(e-this.unrecordedAttentionStarted,this.reportingInterval),this.totalAttentionMs+=t,this.unrecordedAttentionStarted=e}};const de=function(e){return ue=e},fe=function(){var e,t,n,r;for(r=[],t=0,n=le.length;t<n;t++)(e=le[t]).isVisible()&&r.push(e.makeActive());return r},pe=function(){var e,t,n,r;for(r=[],t=0,n=le.length;t<n;t++)e=le[t],r.push(e.makeInactive());return r},me=function(){var e,t,n,r;for(r={},t=0,n=le.length;t<n;t++)(e=le[t]).hadAttentionSinceLastGet()&&(r[e.name]=Math.round(e.getAttentionTime()));return r},ve=function(e,t,n,r){return le.push(new ce(e,t,n,r))};var ge,he,be,we,ye,Ee,Se,_e,Pe,Oe,ke,Ae,je;ge=["focus","click","scroll","mousemove","touchstart","touchend","touchcancel","touchleave","touchmove","keyup","keydown"],he=1e4,ke=0,Ae=null,Pe=null,we=null,je=!1,be=function(){return null!=we&&window.clearTimeout(we),we=null},Se=function(){return null==Ae&&(Ae=performance.now()),fe(),be(),we=window.setTimeout((function(){if(!je)return _e()}),5e3)},ye=function(){var e,t;if(null!=Ae)return e=performance.now(),t=Math.min(e-Ae,he),ke+=t,Ae=e},_e=function(){return be(),pe(),ye(),Ae=null},Oe=function(){var e,t;if(ye(),ke!==Pe)return t={attentionMs:Math.round(ke)},e=me(),Object.keys(e).length&&(t.componentAttentionMs=e),q.sendMore(t),Pe=ke},Ee=function(e){var t,n,r;for(n=0,r=ge.length;n<r;n++)t=ge[n],window.addEventListener(t,Se);return document.addEventListener(e.changeEvent,(function(){return"visible"===e.state()?Se():_e()}),!1),document.addEventListener("videoPlaying",(function(){return je=!0,Se()})),document.addEventListener("videoEnded",(function(){return je=!1,_e()})),document.addEventListener("videoPause",(function(){return je=!1,_e()})),window.setTimeout(Oe,100),window.setInterval(Oe,he)};const Ce={init:Ee,initComponent:function(e,t){return ve(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,he)},setEventEmitter:function(e){return de(e)}};var xe;const Te=function(){return xe((function(e){return q.sendMore({inPrivateBrowsingMode:e})}))};xe=function(e){var t,n,r,o;return t=function(){return e(!1)},n=function(){return e(!0)},o=function(){try{return localStorage.length||(localStorage.x=1,localStorage.removeItem("x")),t()}catch(e){return e,n()}},r=function(){var e;try{return(e=indexedDB.open("test")).onsuccess=t,e.onerror=n}catch(e){return e,n()}},window.webkitRequestFileSystem?window.webkitRequestFileSystem(window.TEMPORARY,1,t,n):"MozAppearance"in document.documentElement.style?r():/constructor/i.test(window.HTMLElement)?o():window.indexedDB||!window.PointerEvent&&!window.MSPointerEvent?t():n()};var De;De=!1;const Re=function(){var e;return e=function(){var e;if("undefined"!=typeof localStorage&&null!==localStorage&&!De&&(De=!0,"true"!==(e=window.location.search.replace(/^(?:.*[&\?]heatmap(?:\=([^&]*))?)?.*$/,"$1"))&&"false"!==e||(localStorage.ophan_heatmap=e),"true"===localStorage.ophan_heatmap||"show"===e))return document.body.appendChild(document.createElement("script")).src="//dashboard.ophan.co.uk/assets/js/heatmap-bookmarklet.js"},"complete"===document.readyState?e():"function"==typeof window.addEventListener?window.addEventListener("load",(function(){return e()}),!1):void 0};var Be,Le,Me;Me=function(e){var t,n;return"a"===(t=null!=e&&null!=(n=e.nodeName)?n.toLowerCase():void 0)?e:null==t||"body"===t?null:Me(e.parentNode)},Be=function(e){var t,n;return null==(t=null!=e&&null!=(n=e.nodeName)?n.toLowerCase():void 0)||"body"===t?null:("function"==typeof e.getAttribute?e.getAttribute("data-component"):void 0)||Be(e.parentNode)},Le=function(e){var t,n,r;return t=function(e){var t;return(null!=e&&null!=(t=e.nodeName)?t.toLowerCase():void 0)===document.body.nodeName.toLowerCase()},n=function(e){return e===document},r=function(e,o){var i;return null==e||t(e)||n(e)?o:(null!=(i=e.getAttribute("data-link-name"))&&o.push(i),r(e.parentNode,o))},r(e,(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).slice())},"function"==typeof document.addEventListener&&document.addEventListener("click",(function(e){var t,n;if(t=Me(e.target),null!=(n={from:[location.protocol,"//",location.host,location.pathname].join(""),to:t?t.href:void 0,referringComponent:Be(e.target),referringDataLinkNames:Le(e.target),refPlatform:se.servingPlatform(),refViewId:se.viewId}).referringDataLinkNames&&q.sendMore({clickComponent:n.referringComponent,clickLinkNames:n.referringDataLinkNames}),null!=t)return se.storeDataToSendOnNextEvent(n)}),!1);const Ie=Le;var Fe;Fe=window.performance||window.msPerformance||window.webkitPerformance||window.mozPerformance,se.onLoadCapture((function(){var e;return null!=(e=null!=Fe?Fe.timing:void 0)?{performance:{dns:e.domainLookupEnd-e.domainLookupStart,connection:e.connectEnd-e.connectStart,firstByte:e.responseStart-e.connectEnd,lastByte:e.responseEnd-e.responseStart,domContentLoadedEvent:e.domContentLoadedEventStart-e.responseEnd,loadEvent:e.loadEventStart-e.domContentLoadedEventStart,navType:Fe.navigation.type,redirectCount:Fe.navigation.redirectCount}}:{}}));var Ne,ze,Ue,qe,He,We,Ge;We=[".theguardian.com",".dev-theguardian.com",".thegulocal.com"],ze=function(e){var t,n,r;(r=He(e.origin))&&We.some((e=>r.endsWith(e)))&&("ophan-iframe-click-event"===e.data.type?(t=e.data.value,n=document.getElementById(e.data.iframeId),Ue(n,t)):"ophan-iframe-component-event"===e.data.type&&(t=e.data.value,qe(t)))},He=function(e){var t;try{return new URL(e).host}catch(e){if((t=e)instanceof TypeError)return null;throw t}},Ue=function(e,t){e&&(t.clickLinkNames=Ie(e,t.clickLinkNames)||t.clickLinkNames),window.guardian.ophan.record(t)},Ne=function(e){return!(!e||"object"!=typeof e)&&!(!e.componentEvent||"object"!=typeof e.componentEvent)},qe=function(e){Ne(e)&&window.guardian.ophan.record(e)},window.addEventListener("message",ze,!1),null!=(null!=(Ge=window.guardian)?Ge.ophan:void 0)?window.guardian.ophan:(se.init("next-gen"),Te(),Re(),null!=window.addEventListener&&Ce.init(H),null!=window.guardian?window.guardian:window.guardian={},window.guardian.ophan={setEventEmitter:Ce.setEventEmitter,trackComponentAttention:Ce.initComponent,record:q.sendMore,viewId:q.viewId,pageViewId:q.viewId});n(8630);var $e=[n(1895).z];var Ve=(0,r.A)((()=>$e.reduce(((e,t)=>{var n=z(t);return n?[...e,n]:e}),[]))),Je=()=>Ve().reduce(((e,t)=>{var{id:n,variantToRun:r}=t;return v(v({},e),{[n]:{variant:r.id}})}),{}),Ke=(e,t)=>Ve().some((n=>{var{id:r,variantToRun:o}=n;return r===e.id&&o.id===t}))},1895:(e,t,n)=>{n.d(t,{z:()=>r});var r={id:"MpuWhenNoEpic",author:"@commercial-dev",start:"2023-11-22",expiry:"2024-04-30",audience:0,audienceOffset:.05,audienceCriteria:"",successMeasure:"",description:"Test MPU when there is no epic at the end of Article on the page.",variants:[{id:"control",test:()=>{}},{id:"variant",test:()=>{}}],canRun:()=>!0}},4814:(e,t,n)=>{n.d(t,{_:()=>d,e:()=>f});var r=n(5872),o=n(262),i=n(4540),a=n(6873),s=[i.W.adSlotSelector,".top-banner-ad-container"],c=()=>s.reduce(((e,t)=>[...e,...Array.from(document.querySelectorAll(t))]),[]),l=e=>"none"===window.getComputedStyle(e).display,u=e=>a.A.mutate((()=>e.forEach((e=>{(0,r.Rm)("commercial","Removing ad slot: ".concat(e.id)),e.remove()})))),d=()=>u(c()),f=(0,o.A)((()=>u(c().filter(l))))},3539:(e,t,n)=>{n.d(t,{M:()=>i});var r,o=n(9396),i=()=>((0,o.Ym)((e=>{void 0===r&&(r=e),r.canTarget!==e.canTarget&&window.location.reload()}),!0),Promise.resolve())},6239:(e,t,n)=>{n.d(t,{T:()=>a});var r=n(5818),o=n(7544),i=n(8562),a=()=>{var e=(0,i.S)();return"clear"===e.adtest?(0,r.z)({name:"adtest"}):e.adtest&&(0,o.T)({name:"adtest",value:encodeURIComponent(e.adtest),daysToLive:10}),Promise.resolve()}},9295:(e,t,n)=>{n.d(t,{T:()=>a});var r=n(5818),o=n(7544),i=n(8562),a=()=>{var e=(0,i.S)();return"clear"===e.adtestInLabels?(0,r.z)({name:"adtestInLabels"}):e.adtestInLabels&&(0,o.T)({name:"adtestInLabels",value:"true"}),Promise.resolve()}},7230:(e,t,n)=>{n.d(t,{M:()=>u});var r=n(5872),o=n(8630),i=n(568),a=n(2629),s=n(5953),c=n(4540),l=n(5450),u=(e,t,n,u)=>new Promise((d=>{window.googletag.cmd.push((()=>{if(c.W.adverts.has(e.id)){var f="Attempting to add slot with exisiting id ".concat(e.id);return(0,r.Rm)("commercial",f),void(0,o.N)(Error(f),{feature:"commercial",slotId:e.id},!1)}var p=(0,i.p)(e,n,u);null!==p&&(c.W.adverts.set(p.id,p),((e,t)=>{c.W.shouldLazyLoad()&&!t?((0,l.S)(e),(0,a.E)(e)):(0,s.b)(e)})(p,t),d(p))}))}))},8799:(e,t,n)=>{n.d(t,{x:()=>V,T:()=>K});var r=n(1307),o=n(6984),i=n(7360),a=n(48),s=n(8764),c=n(9148),l=n(4519),u=(0,c.A)((e=>new Promise((t=>{var n=()=>{var r=(0,l.$)(e);r?t(r):window.setTimeout(n,200)};n()})))),d=n(6873),f=n(205),p=n(1684);function m(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}var v=function(){var e,t=(e=function*(e,t){var n=[...document.querySelectorAll('[data-spacefinder-role="immersive"]')],{figures:r,winningParas:o,articleBodyElementHeightBottom:i}=yield d.A.measure((()=>{var r,o;return{figures:n.map((e=>({kind:"figure",top:e.getBoundingClientRect().top,element:e}))),winningParas:e.map((e=>({kind:"winningPara",top:e.getBoundingClientRect().top,element:e}))),articleBodyElementHeightBottom:null!==(r=null===(o=document.querySelector(t))||void 0===o?void 0:o.getBoundingClientRect().bottom)&&void 0!==r?r:0}}));return[...r,...o].sort(((e,t)=>e.top-t.top)).map(((e,t,n)=>{if("figure"!==e.kind){var r=n[t+1];if(void 0===r)return i-e.top-100;var o="winningPara"===r.kind?600:100;return Math.floor(r.top-e.top-o)}})).filter((e=>!(0,f.b)(e)))},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){m(i,r,o,a,s,"next",e)}function s(e){m(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),g=n(7230);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y,E,S={bodySelector:".article-body-commercial-selector",candidateSelector:" > p",minAbove:500,minBelow:400,clearContentMeta:0,opponentSelectorRules:{" .element-rich-link":{minAboveSlot:100,minBelowSlot:400}," .element-image":{minAboveSlot:440,minBelowSlot:440}," .player":{minAboveSlot:50,minBelowSlot:50}," > h1":{minAboveSlot:50,minBelowSlot:50}," > h2":{minAboveSlot:50,minBelowSlot:50}," > *:not(p):not(h2):not(blockquote):not(#sign-in-gate)":{minAboveSlot:50,minBelowSlot:50}," .ad-slot":{minAboveSlot:100,minBelowSlot:100}," .element-pullquote":{minAboveSlot:400,minBelowSlot:400},' > figure[data-spacefinder-role="inline"]':{minAboveSlot:400,minBelowSlot:400}},fromBottom:!0},_=b(b({},S),{},{opponentSelectorRules:b(b({},S.opponentSelectorRules),{},{" .element-rich-link":{minAboveSlot:400,minBelowSlot:400}," .ad-slot":{minAboveSlot:400,minBelowSlot:400}," .ad-slot--im":{minAboveSlot:400,minBelowSlot:400}})}),P=e=>{var t=(0,o.k3)("carrot"),n=e.slice(1);return d.A.mutate((()=>{var e;null!==(e=n[0])&&void 0!==e&&e.parentNode&&n[0].parentNode.insertBefore(t,n[0])})).then((()=>{(0,g.M)(t,!0)}))},O=()=>a.o.carrotTrafficDriver?i.f.fillSpace((()=>{switch((0,s.K7)()){case"leftCol":case"wide":return S;default:return _}})(),P,{waitForImages:!0,waitForInteractives:!0,pass:"carrot"}):Promise.resolve(!1),k=["business","environment","music","money","artanddesign","science","stage","travel","wellness","games"].includes(window.guardian.config.page.section);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function T(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){x(i,r,o,a,s,"next",e)}function s(e){x(i,r,o,a,s,"throw",e)}a(void 0)}))}}var D=".article-body-commercial-selector",R=window.guardian.config.page.isPaidContent,B=!(null===(y=window.guardian.config.page.lightboxImages)||void 0===y||!y.images.length),L=window.guardian.config.page.hasShowcaseMainElement,M="control"===(null===(E=window.guardian.config.tests)||void 0===E?void 0:E.commercialMegaTestControl),I=k&&!M,F=I?500:750,N={[" .".concat(o.pm)]:{minAboveSlot:500,minBelowSlot:500}},z={[" .".concat(o.pm)]:{minAboveSlot:F,minBelowSlot:F}},U=e=>"".concat(o.pm,"-").concat(e+2),q=function(){var e=T((function*(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=(0,o.k3)(n,{name:t,classes:r}),s=(0,o.Rm)(a,i);return yield d.A.mutate((()=>{e.parentNode&&e.parentNode.insertBefore(s,e)})),a}));return function(t,n,r,o){return e.apply(this,arguments)}}(),H=function(){var e=T((function*(e,t,n){if(!n)return t;var r=yield d.A.measure((()=>{var t,n=e.getBoundingClientRect().top,r=null===(t=document.querySelector(D))||void 0===t?void 0:t.getBoundingClientRect().bottom;return r?Math.abs(n-r):void 0}));return t.filter((e=>!!r&&r>=e.height))}));return function(t,n,r){return e.apply(this,arguments)}}(),W=e=>{var t=(0,s.K7)(),n=["leftCol","wide"].includes(t),a=" > :not(p):not(h2):not(ul):not(.".concat(o.pm,"):not(#sign-in-gate):not(.sfdebug)");n&&(a+=':not([data-spacefinder-role="richLink"]):not([data-spacefinder-role="thumbnail"])');var c=window.guardian.config.page.isImmersive,l={bodySelector:D,candidateSelector:" > p",minAbove:c?700:300,minBelow:300,opponentSelectorRules:{" > h2":{minAboveSlot:I?150:5,minBelowSlot:I?0:190},[" .".concat(o.pm)]:{minAboveSlot:500,minBelowSlot:500},[a]:{minAboveSlot:35,minBelowSlot:400},' [data-spacefinder-role="immersive"]':{minAboveSlot:0,minBelowSlot:600}," figure.element--supporting":{minAboveSlot:500,minBelowSlot:0}}},u={phablet:[r.EA.outstreamDesktop,r.EA.outstreamGoogleDesktop],desktop:[r.EA.outstreamDesktop,r.EA.outstreamGoogleDesktop]},d=function(){var t=T((function*(t){var n=t.slice(0,1).map(function(){var t=T((function*(t){var n="inline1",r=yield q(t,n,"inline","inline");yield e(n,r,u)}));return function(e){return t.apply(this,arguments)}}());yield Promise.all(n)}));return function(e){return t.apply(this,arguments)}}();return i.f.fillSpace(l,d,{waitForImages:!0,waitForInteractives:!0,pass:"inline1"})},G=e=>{var t=1e3;R&&(t+=600),B?L&&(t+=100):t+=600;var n=r.EA.halfPage.height,o={bodySelector:D,candidateSelector:" > p",minAbove:t,minBelow:300,opponentSelectorRules:j(j({},N),{},{' [data-spacefinder-role="immersive"]':{minAboveSlot:0,minBelowSlot:600}}),filter:(e,t)=>!t||e.top-t.top-n>=500},a=function(){var t=T((function*(t){var n,o,i,a,s,c=yield v(t,D);n=c.map(((e,t)=>[U(t),e])),o=window.guardian.config.page.isPaidContent?"".concat(61,"px"):0,i=n.reduce(((e,t)=>{var[n,r]=t;return"".concat(e," .").concat(n," { min-height: ").concat(r,"px; } .").concat(n," > * { position: sticky; top: ").concat(o,"; }")}),""),a="\n        @media (min-width: ".concat(p.f.desktop,"px) {\n            ").concat(i,"\n        }\n    "),(s=document.createElement("style")).appendChild(document.createTextNode(a)),d.A.mutate((()=>{document.head.appendChild(s)}));var l=t.slice(0,t.length).map(function(){var n=T((function*(n,o){var i=o===t.length-1,a={sticky:!0,className:U(o)+" offset-right ad-slot--offset-right ad-slot-container--offset-right"},s={desktop:yield H(n,[r.EA.halfPage,r.EA.skyscraper],i)},c=yield q(n,"inline".concat(o+2),"inline","inline",a);return e("inline".concat(o+2),c,s)}));return function(e,t){return n.apply(this,arguments)}}());yield Promise.all(l)}));return function(e){return t.apply(this,arguments)}}();return i.f.fillSpace(o,a,{waitForImages:!0,waitForInteractives:!0,pass:"subsequent-inlines"})},$=e=>{var t=M?200:100,n={bodySelector:D,candidateSelector:" > p",minAbove:200,minBelow:200,opponentSelectorRules:j(j({" > h2":{minAboveSlot:100,minBelowSlot:250}},z),{},{[" > :not(p):not(h2):not(.".concat(o.pm,"):not(#sign-in-gate)")]:{minAboveSlot:35,minBelowSlot:200}}),filter:(e,t)=>!t||e.top-t.top>=F},a={bodySelector:D,candidateSelector:[" > p"," > h2",' > [data-spacefinder-type$="NumberedTitleBlockElement"]'],minAbove:t,minBelow:200,opponentSelectorRules:j(j({" > h2":{minAboveSlot:100,minBelowSlot:0},' > [data-spacefinder-type$="NumberedTitleBlockElement"]':{minAboveSlot:100,minBelowSlot:0}},z),{},{[" > :not(p):not(h2):not(hr):not(.".concat(o.pm,'):not(#sign-in-gate):not([data-spacefinder-type$="NumberedTitleBlockElement"])')]:{minAboveSlot:35,minBelowSlot:200,bypassMinBelow:'h2,[data-spacefinder-type$="NumberedTitleBlockElement"]'}}),filter:(e,t)=>!t||e.top-t.top>=F},s=M?n:a,c=function(){var t=T((function*(t){var n=t.map(function(){var t=T((function*(t,n){var o=0===n?"top-above-nav":"inline".concat(n),i=0===n?"top-above-nav":"inline",a=yield q(t,o,i,"inline");return e(o,a,1==n||2==n?{mobile:[r.EA.portraitInterstitial]}:void 0)}));return function(e,n){return t.apply(this,arguments)}}());yield Promise.all(n)}));return function(e){return t.apply(this,arguments)}}();return i.f.fillSpace(s,c,{waitForImages:!0,waitForInteractives:!0,pass:"mobile-inlines"})},V=e=>"mobile"===(0,s.D)()?$(e):R?G(e):W(e).then((()=>G(e))),J=e=>{var t=(0,s.D)(),n={bodySelector:D,candidateSelector:" > p",minAbove:300,minBelow:300,opponentSelectorRules:j(j({" > .merch":{minAboveSlot:0,minBelowSlot:0}," > header":{minAboveSlot:"mobile"===t||"tablet"===t?300:700,minBelowSlot:0}," > h2":{minAboveSlot:100,minBelowSlot:250}," > #sign-in-gate":{minAboveSlot:0,minBelowSlot:400}},z),{},{[" > :not(p):not(h2):not(.".concat(o.pm,"):not(#sign-in-gate):not(.sfdebug)")]:{minAboveSlot:200,minBelowSlot:400}})},r=function(){var t=T((function*(t){if(void 0===t[0])throw new Error("Trying to insert inline merch before a node that does not exist");var n=yield q(t[0],"im","im","",{className:"ad-slot-container--im"});yield e("im",n)}));return function(e){return t.apply(this,arguments)}}();return i.f.fillSpace(n,r,{waitForImages:!0,waitForInteractives:!0,pass:"im"})},K=function(){var e=T((function*(e){if(!a.o.articleBodyAdverts)return Promise.resolve(!1);var t=window.guardian.config.page.hasInlineMerchandise?J(e):Promise.resolve(!1);return(yield t)&&(yield u("dfp-ad--im")),yield V(e),yield O(),t}));return function(t){return e.apply(this,arguments)}}()},7360:(e,t,n)=>{n.d(t,{f:()=>q});var r=n(5872),o=n(9148),i=n(6873),a=n(8562);var s,c=!!(0,a.S)().sfdebug,l="rgb(255 178 178)",u="rgb(200 0 0)",d="rgb(255 213 178)",f="rgb(255 128 0)",p={absoluteMinAbove:{colour:l,reason:"Too close to the top of page"},aboveAndBelow:{colour:d,reason:"Too close to top or bottom of article"},isStartAt:{colour:"rgb(178 178 255)",reason:"Spacefinder is starting from this position"},startAt:{colour:d,reason:"Before the starting element"},custom:{colour:"rgb(254 255 178)",reason:"Too close to other winner"},winner:{colour:"rgb(178 255 184)",reason:"Winner"},tooClose:{colour:"rgb(178 248 255)",reason:"Too close to other element"}},m=e=>e in p,v=(e,t)=>{var n=document.createElement("div");n.className="overlay",n.appendChild(document.createTextNode(t)),e.before(n)},g=(e,t,n)=>{t.forEach((t=>{e.addEventListener("mouseenter",(()=>!!(e=>{var t;return(null===(t=document.querySelector('input[name="sfdebug-pass"]:checked'))||void 0===t?void 0:t.value)===e})(n)&&(document.body.contains(t.element)?(t.element.classList.add("blocking-element"),void v(t.element,"".concat(t.actual,"px/").concat(t.required,"px"))):(v(e,"Blocking element(s) removed from DOM: see console for details"),void(0,r.Rm)("commercial","Spacefinder: blocking element removed from DOM.\nCandidate:",e,"\nBlocking element:",t.element))))),e.addEventListener("mouseleave",(()=>{t.element.classList.remove("blocking-element"),document.querySelectorAll(".overlay").forEach((e=>e.remove()))}))}))},h=(e,t,n,r)=>{try{((e,t,n)=>{var r=function(e){i.forEach((r=>{var o=r instanceof Element?r:r.element,i=r instanceof Element?null:r.meta,a=m(e)&&p[e];o==t.startAt?o.setAttribute("data-sfdebug-".concat(n),"isStartAt"):a?o.setAttribute("data-sfdebug-".concat(n),e):i&&i.tooClose.length>0&&(o.setAttribute("data-sfdebug-".concat(n),"tooClose"),g(o,i.tooClose,n)),o.classList.add("candidate")}))};for(var[o,i]of Object.entries(e))r(o)})(e,n,r),((e,t)=>{e.forEach((e=>{e.element.setAttribute("data-sfdebug-".concat(t),"winner"),e.element.classList.add("candidate")}))})(t,r),((e,t)=>{var n=document.querySelector(e.bodySelector);n.id="sfdebug-body",n.setAttribute("data-sfdebug-min-above-".concat(t),"".concat(e.minAbove,"px"))})(n,r)}catch(e){console.error("SFDebug Error",e)}},b=e=>{(e=>{var t=document.getElementById("sfdebug-body");if(t){var n=t.getAttribute("data-sfdebug-min-above-".concat(e));if(n){var r=document.querySelector(".line");r||((r=document.createElement("div")).className="line sfdebug",t.appendChild(r)),r.innerHTML="<div class='label'>Ads below here (".concat(n,")</div>"),r.style.top=n}}})(e),(e=>{document.querySelectorAll(".candidate").forEach((t=>{var n;if(t instanceof HTMLElement){var r=null!==(n=t.getAttribute("data-sfdebug-".concat(e)))&&void 0!==n?n:"";if(m(r)){var o=p[r];t.dataset.reason=o.reason,t.style.backgroundColor=o.colour}}}))})(e)},w=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;c&&((()=>{if(!document.querySelector("#sfdebug-panel")){var e=document.createElement("div");e.id="sfdebug-panel",e.innerHTML='\n\t\t<div class="logo">\n\t\t\t'.concat('<svg xmlns="http://www.w3.org/2000/svg" width="3042.7" height="954.7" version="1.0" viewBox="0 0 2282 716"><path d="M400 44a374 374 0 0 0-208 64c-20 15-43 38-59 57-21 25-53 89-62 124-8 33-9 96-2 132 4 21 12 42 28 70a2161 2161 0 0 1 25 45c8 10 50 53 65 66 21 18 45 31 90 48 26 9 47 14 81 16l149 4h46v-3c2-8 3-81 3-176l-3-420V45h-4c-6-1-120-2-149-1zm90 94c16 3 27 10 40 23 12 13 17 23 19 39 0 9-1 23-5 33-6 19-25 53-41 72-18 21-51 54-67 67a964 964 0 0 1-98 61c-20 10-27 14-35 15l-17 6a249 249 0 0 1-137 9c-21-7-32-17-37-32-4-14-3-25 3-36 3-7 23-27 36-37 16-13 23-21 27-29 6-12 8-10 8 6 0 10-2 22-6 32-6 14-14 24-28 33-10 6-11 8-8 12 3 3 15 11 21 13 5 2 7 3 38 3 30 0 33-1 44-3 29-6 75-25 114-48 20-12 53-35 64-44 20-17 51-51 65-72 6-9 15-26 17-34 3-11 3-26 0-33s-10-14-16-17c-5-2-7-2-63-3-42-1-57-2-58-3s-1-2 2-4c11-10 37-23 55-28 17-4 45-5 63-1zm-96 321c24 6 36 18 42 39a58 58 0 0 1-52 70c-15 1-28-4-42-15a48 48 0 0 1-20-43c0-19 3-27 14-38 14-13 36-18 58-13zM1835 62l-55 2c-19 4-37 15-47 29-6 8-11 19-13 27-3 15-6 79-4 111 2 46 6 58 23 75 8 8 12 11 26 18l10 6h76l77 1v-56h-13l-69-1-57-1-4-4c-7-8-8-11-9-23v-11h38l59-1h21v-57h-20l-59-1h-39v-21c0-23 1-26 7-29l9-3 104-4h30v-16l-1-28V61h-20l-70 1zM668 63c-16 1-24 3-33 9-25 14-36 48-36 111 0 27 0 32 6 41l7 8c5 2 25 3 76 3 48 0 73 1 77 3 8 5 10 21 3 29-6 6-27 8-115 8h-64v56h65l95-1c36-1 35-1 49-13 13-12 20-22 24-39 2-7 3-11 2-26a79 79 0 0 0-21-60c-16-15-16-15-91-15h-58v-41l7-10 5-6h171V62h-78l-92 1zM907 84c-12 26-14 33-13 34s35 2 105 2h75v59H872v152h53v-86h84l91-2c17-4 23-12 27-31l2-77V63h-27l-106-1h-79l-10 22zM1176 197v134h53v-98c1-101 1-105 5-105 2 0 15 13 26 27a6210 6210 0 0 1 129 172l3 4h53V83h-58l1 75-1 75a640 640 0 0 1-79-106 113 113 0 0 0-13-18c0-2-7-12-21-29l-16-18h-82v135zM1557 63c-12 1-18 3-29 8-27 14-44 46-49 94-2 15-1 63 1 79 5 32 13 48 32 67 19 18 23 18 111 20h51v-56h-26l-45-1c-27 0-44-1-49-4-6-3-13-11-17-18-2-6-5-20-7-36s-1-47 2-57c4-22 13-34 28-37l60-2h55l-1-11-1-28V63h-116zM1973 197v134h53v-86l24 1 37 1h13l6 12c7 15 19 34 35 56l11 16h27l34-1h8l-2-3c-2-6-11-18-25-37l-24-32-10-14 13-1 18-2c12-3 20-9 29-21l5-7V63h-32l-126-1h-94v135zm199-76v29l1 29h-144v-59l71 1h72zM970 384c-30 2-44 7-57 20-11 11-23 33-27 49-5 17-5 23-5 113v83l26 1 26 1v-99h25a2704 2704 0 0 1 122-2h21l-1-29v-29l-82-1h-82v-7l2-12c3-11 14-24 22-27 5-3 26-4 60-4l54-1h30v-56h-24a7849 7849 0 0 1-110 0zM2002 384h-42v266h55V549h16l19 1c7 2 12 8 45 63l22 37h31l33-1c3-1 2-2-3-10l-15-23a653 653 0 0 0-40-63l25-1c28-1 36-2 45-8 9-5 17-17 20-29 1-6 2-82 1-111v-21h-85l-127 1zm160 83v27h-147v-23l2-26c0-3 0-3 7-3l111-2h27v27zM638 385c-2 6-3 45-4 148v115h56v-7l2-89 69-2h68v-59H693v-11l-1-22v-11l4-1c5-1 42-3 99-4h46v-8l1-29v-21H741l-102 1zM1206 388a2372 2372 0 0 0-34 74c-11 23-22 46-28 63l-30 66-25 55c0 2 2 2 30 4l24 2h5l10-23 10-24h151l11 23 11 23h22l29-1c8 0 8 0 8-3l-19-42-31-68a3604 3604 0 0 0-70-151l-49-2h-24l-1 4zm45 68a2087 2087 0 0 1 43 92c-1 2-99 1-101 0a1108 1108 0 0 0 42-92c6-11 8-13 9-12l7 12zM1420 450l2 200 121 3c66 0 72 0 85-4 8-4 18-11 24-19l11-20 7-13v-65c0-74-1-89-5-101-8-28-23-43-45-45l-104-2h-96v66zm192-4c2 8 3 24 3 74 0 48-1 72-3 74s-18 3-77 4h-61V443h137l1 3zM1734 385l-18 1c-1 2-2 45-2 115 0 92 1 119 7 130 3 6 10 13 19 17 5 3 8 3 18 4l87 1 75 1v-56l-74-1h-73v-47h15a1833 1833 0 0 1 111-2h11v-56h-68l-69 1v-53h144v-56h-83l-100 1z"/></svg>','\n\t\t\t<div class="label">debug mode</div>\n\t\t</div>\n\t\t<div class="controls"></div>\n\t'),document.body.appendChild(e);var t=document.createElement("style");t.innerHTML="\n\t\t#sfdebug-panel {\n\t\t\tfont-family: sans-serif;\n\t\t\tposition: fixed;\n\t\t\tbottom: 0;\n\t\t\tright: 0;\n\t\t\tbackground-color: #ffffff;\n\t\t\tpadding: 10px;\n\t\t\tborder-radius: 10px 0 0 0;\n\t\t\tz-index: 9999999;\n\t\t\tpadding: 5px;\n\t\t\tborder-top: solid gray 2px;\n\t\t\tborder-left: solid gray 2px;\n\t\t\tbackground: #f1f1f1;\n\t\t\topacity: 0.9;\n\t\t}\n\n\t\t#sfdebug-panel .logo {\n\t\t\theight: 90px;\n\t\t\twidth: 245px;\n\t\t}\n\n\t\t#sfdebug-panel .logo svg {\n\t\t\theight: 65px;\n\t\t\twidth: 100%;\n\t\t\tpadding: 5px;\n\t\t\tdisplay: block;\n\t\t}\n\n\t\t#sfdebug-panel .logo .label {\n\t\t\tfont-size: 17px;\n\t\t\tfont-family: cursive;\n\t\t\tcolor: #c80000;\n\t\t\tposition: relative;\n\t\t\ttop: -5px;\n\t\t\tright: -134px;\n\t\t\tfont-style: italic;\n\t\t}\n\n\t\t#sfdebug-panel .controls {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\t\t\tjustify-content: center;\n\t\t\tpadding: 0px 10px 5px 10px;\n\t\t}\n\n\t\t#sfdebug-panel .controls label {\n\t\t\tcursor: pointer;\n\t\t\tbackground-color: #454545;\n\t\t\tcolor: white;\n\t\t\tpadding: 10px;\n\t\t\tborder-radius: 3px;\n\t\t\tuser-select: none;\n\t\t\tmargin: 0 5px;\n\t\t\ttransition: all .2s ease-out;\n\t\t}\n\n\t\t#sfdebug-panel .controls input:checked + label {\n\t\t\tbackground-color: rgb(0 128 0);\n\t\t}\n\n\t\t#sfdebug-panel .controls input {\n\t\t\tdisplay: none;\n\t\t}\n\n\t\t#sfdebug-body {\n\t\t\tposition: relative;\n\t\t}\n\n\t\t#sfdebug-body .overlay {\n\t\t\tposition:absolute;\n\t\t\tright:0;\n\t\t\tbackground-color:".concat(l,";\n\t\t\tpadding:5px 5px 10px 20px;\n\t\t\tfont-family: sans-serif;\n\t\t\tz-index:20;\n\t\t}\n\n\t\t#sfdebug-body .blocking-element {\n\t\t\tbox-shadow: 0px 0px 0px 10px ").concat(l,";\n\t\t\tz-index:10;\n\t\t\tposition:relative;\n\t\t\tdisplay:block;\n\t\t}\n\n\t\t#sfdebug-body .line {\n\t\t\tposition: absolute;\n\t\t\twidth: 100%;\n\t\t\tbackground-color: ").concat(f,";\n\t\t\theight: 3px;\n\t\t\ttransition: all .2s ease-out;\n\t\t}\n\n\t\t#sfdebug-body .line .label {\n\t\t\tposition: absolute;\n\t\t\ttop: -27px;\n\t\t\tleft: 230px;\n\t\t\tfont-family: sans-serif;\n\t\t\tfont-size: 14px;\n\t\t\tbackground-color: white;\n\t\t\tpadding: 5px 10px 5px 10px;\n\t\t\tborder: 3px solid ").concat(f,";\n\t\t\tborder-radius: 5px 5px 0px 0px;\n\t\t}\n\n\t\t#sfdebug-body .candidate {\n\t\t\ttransition: all .2s ease-out;\n\t\t}\n\n\t\t#sfdebug-body .candidate::before {\n\t\t\tcontent: attr(data-reason);\n\t\t\tposition:absolute;\n\t\t\tright:0;\n\t\t\tbackground-color:#fffffff7;\n\t\t\tpadding:10px;\n\t\t\tborder-radius:0 0 0 10px;\n\t\t\tfont-family: sans-serif;\n\t\t\tfont-size: 17px;\n\t\t\tline-height: 1;\n\t\t}\n\n\t\t/* tiny fix for liveblogs */\n\t\t.js-liveblog-body .candidate::before {\n\t\t\tmargin-top: -8px;\n\t\t}\n\n\t\t#sfdebug-body .ad-slot-container {\n\t\t\toutline: 4px solid ").concat(u,"\n\t\t}\n\t\t"),document.body.appendChild(t)}})(),h(n,r,o,i),(e=>{var t=document.querySelector("#sfdebug-panel .controls");if(t){var n=document.createElement("input");n.type="radio",n.id="sfdebug-".concat(e),n.name="sfdebug-pass",n.value=e;var r=document.createElement("label");r.htmlFor="sfdebug-".concat(e),r.innerText=e,n.addEventListener("change",(e=>{var t=e.target.value;b(t)})),t.appendChild(n),t.appendChild(r)}})(i),null!=(t=document.querySelector("#sfdebug-panel .controls"))&&t.hasChildNodes&&"INPUT"===(null===(e=t.firstElementChild)||void 0===e?void 0:e.tagName)&&t.firstElementChild.click())};function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function P(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){_(i,r,o,a,s,"next",e)}function s(e){_(i,r,o,a,s,"throw",e)}a(void 0)}))}}var O="control"===(null===(s=window.guardian.config.tests)||void 0===s?void 0:s.commercialMegaTestControl),k=(e,t)=>[...(null!=t?t:document).querySelectorAll(e)],A={waitForImages:!0,waitForInteractives:!1,pass:"inline1"},j=e=>e instanceof HTMLIFrameElement,C=e=>e.bodySelector||"document",x=e=>e instanceof HTMLImageElement,T=(0,o.A)((e=>{var t=k("img",e.body).filter(x).filter((e=>!e.complete&&"lazy"!==e.loading)).map((e=>new Promise((t=>{e.addEventListener("load",t)}))));return Promise.all(t).then((()=>Promise.resolve()))}),C),D=(0,o.A)(function(){var e=P((function*(e){var t=k(".element-interactive",e.body).filter((e=>{var t=Array.from(e.children).filter(j);return!(t[0]&&(e=>{try{var t;return"complete"===(null===(t=e.contentWindow)||void 0===t?void 0:t.document.readyState)}catch(e){return!0}})(t[0]))}));if(0===t.length||!("MutationObserver"in window))return Promise.resolve();var n=t.map((e=>new Promise((t=>{new MutationObserver(((e,n)=>{var o,i;null!==(o=e[0])&&void 0!==o&&o.addedNodes[0]&&j(null===(i=e[0])||void 0===i?void 0:i.addedNodes[0])&&((e,t)=>{window.addEventListener("message",(n=>{if(n.source===e.contentWindow)try{var o=JSON.parse(n.data);"set-height"===o.type&&Number(o.value)>0&&t()}catch(e){(0,r.Rm)("commercial","Unparsable message sent from iframe",e)}}))})(e[0].addedNodes[0],(()=>{n.disconnect(),t()}))})).observe(e,{childList:!0})}))));yield Promise.all(n)}));return function(t){return e.apply(this,arguments)}}(),C),R=(e,t)=>{var n=[],r=[];return e.forEach((e=>{t(e,n[n.length-1])?n.push(e):r.push(e)})),[n,r]},B=O?(e,t,n)=>{var r=t.top-n.bottom>=e.minAboveSlot,o=n.top-t.top>=e.minBelowSlot,i=r||o;if(!i){var a,s=t.top<n.top,c=s?e.minBelowSlot:e.minAboveSlot,l=s?n.top-t.top:t.top-n.bottom;null===(a=t.meta)||void 0===a||a.tooClose.push({required:c,actual:l,element:n.element})}return i}:(e,t,n)=>{if(t.element===n.element)return!0;var r=n.bottom>t.bottom,o=((e,t,n,r)=>{var o=e.top;return r&&n.minBelowSlot?!(!n.bypassMinBelow||!e.element.matches(n.bypassMinBelow))||t.top-o>=n.minBelowSlot:!(!r&&n.minAboveSlot)||o-t.bottom>=n.minAboveSlot})(t,n,e,r);if(!o){var i,a=r?e.minBelowSlot:e.minAboveSlot,s=r?n.top-t.top:t.top-n.bottom;null===(i=t.meta)||void 0===i||i.tooClose.push({required:a,actual:s,element:n.element})}return o},L=(e,t,n)=>{var r=e.candidates,[o,i]=R(r,(n=>!t.absoluteMinAbove||n.top+e.bodyTop>=t.absoluteMinAbove));n.absoluteMinAbove=i,r=o,[o,i]=R(r,(n=>{var r=n.top>=t.minAbove,o=n.top+t.minBelow<=e.bodyHeight;return r&&o})),n.aboveAndBelow=i,r=o;var{clearContentMeta:a}=t;if(a&&([o,i]=R(r,(t=>!!e.contentMeta&&t.top>e.contentMeta.bottom+a)),n.contentMeta=i,r=o),t.opponentSelectorRules){var s=[],c=function(t,a){[o,i]=R(r,(n=>{var r,o;return((e,t,n)=>n.map((n=>B(e,t,n))).every(Boolean))(a,n,null!==(r=null===(o=e.opponents)||void 0===o?void 0:o[t])&&void 0!==r?r:[])})),n[t]=i,s.push(...i)};for(var[l,u]of Object.entries(t.opponentSelectorRules))c(l,u);r=r.filter((e=>!s.includes(e)))}return t.filter&&([o,i]=R(r,t.filter),n.custom=i,r=o),r};class M extends Error{constructor(e){super(),this.name="SpaceError",this.message="There is no space left matching rules from ".concat(e.bodySelector)}}var I=(e,t)=>{var n,r,o=k((n=e.bodySelector,r=e.candidateSelector,Array.isArray(r)?r.map((e=>"".concat(n," ").concat(e))).join(", "):"".concat(n," ").concat(r)));if(e.fromBottom&&o.reverse(),e.startAt){var i=!0,[a,s]=R(o,(t=>(t===e.startAt&&(i=!1),!i)));t.startAt=s,o=a}if(e.stopAt){var c=!0,[l,u]=R(o,(t=>(t===e.stopAt&&(c=!1),c)));t.stopAt=u,o=l}return o},F=e=>Object.freeze({top:e.offsetTop,bottom:e.offsetTop+e.offsetHeight,element:e,meta:{tooClose:[]}}),N=function(){var e=P((function*(e,t){var n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t=E(E({},A),t),e.body=e.bodySelector&&document.querySelector(e.bodySelector)||document,window.performance.mark("commercial:spacefinder:findSpace:start"),yield((e,t)=>Promise.race([new Promise((e=>window.setTimeout((()=>e("timeout")),5e3))),Promise.all([t.waitForImages?T(e):Promise.resolve(),t.waitForInteractives?D(e):Promise.resolve()])]).then((e=>{"timeout"===e&&(0,r.Rm)("commercial","Spacefinder timeout hit")})))(e,t);var a=I(e,o),s=yield((e,t)=>{var n,r=e.clearContentMeta&&null!==(n=document.querySelector(".js-content-meta"))&&void 0!==n?n:void 0,o=e.opponentSelectorRules?Object.keys(e.opponentSelectorRules).map((t=>[t,k(e.bodySelector+t)])):[];return i.A.measure((()=>{var n=0,i=0;if(e.body instanceof Element){var a=e.body.getBoundingClientRect();n=a.top+window.scrollY,i=a.height}return{bodyTop:n,bodyHeight:i,candidates:t.map(F),contentMeta:e.clearContentMeta&&r?F(r):void 0,opponents:o.reduce(((e,t)=>{var[n,r]=t;return e[n]=r.map(F),e}),{})}}))})(e,a),c=L(s,e,o);w(o,c,e,t.pass),window.performance.mark("commercial:spacefinder:findSpace:end");var l=window.performance.measure("commercial:spacefinder:findSpace","commercial:spacefinder:findSpace:start","commercial:spacefinder:findSpace:end");if((0,r.Rm)("commercial","Spacefinder took ".concat(Math.round(null!==(n=null==l?void 0:l.duration)&&void 0!==n?n:0),"ms for '").concat(t.pass,"' pass"),{rules:e,options:t}),!c.length)throw new M(e);return c.map((e=>e.element))}));return function(t,n){return e.apply(this,arguments)}}(),z=n(8439);function U(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q=new class{constructor(){U(this,"queue",Promise.resolve(!0))}fillSpace(e,t,n){return this.queue=this.queue.then((()=>N(e,n).then((e=>t(e))).then((()=>!0)).catch((e=>{if(e instanceof M)return!1;throw e})))).catch((e=>(z.A.captureException(e),!1))),this.queue}}},6471:(e,t,n)=>{n.d(t,{FF:()=>l,GI:()=>u,TM:()=>d});var r=n(5872),o=n(262),i=n(1912),a=n(1298),s=n(48),c=n(3804),l=(0,o.A)((e=>(0,c.W9)({sens:e.sens,pt1:e.url,pt2:e.edition,pt3:e.ct,pt4:e.p,pt5:e.k,pt6:e.su,pt7:e.bp,pt9:[e.pv,e.co,e.tn].join("|"),permutive:e.permutive}))),u=(0,o.A)((e=>{return t=l(e),n=Object.entries(t).map((e=>{var[t,n]=e;return Array.isArray(n)?n.map((e=>"".concat(t,"=").concat(e))):"".concat(t,"=").concat(n)})),Array.prototype.concat.apply([],n).join(",");var t,n})),d=(e,t)=>{var{page:n}=window.guardian.config,o=(0,i.x)({adFree:s.o.adFree,clientSideParticipations:(0,a.mB)(),consentState:e,isSignedIn:t});return n.appNexusPageTargeting=u(o),n.pageAdTargeting=o,(0,r.Rm)("commercial","pageTargeting object:",o),o}},48:(e,t,n)=>{n.d(t,{o:()=>E});var r=n(5872),o=n(5148),i=n(8764),a="GU_AF1",s=()=>{var e=(0,o.R)({name:a});return!!e&&!Number.isNaN(parseInt(e,10))},c=n(4965),l="gu.prefs.",u={type:"local"},d=function(e,t){var{type:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u;c.I[n].set(l+e,t)},f=function(e){var{type:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u;c.I[t].remove(l+e)},p=function(e){var{type:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u;c.I[t].set("".concat(l,"switch.").concat(e),!0)},m=function(e){var{type:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u;c.I[t].set("".concat(l,"switch.").concat(e),!1)},v=e=>"true"===e||"false"===e,g=e=>{var t,n,r,o=e.hash.substring(1).split("&");for(t=0,n=o.length;t<n;t+=1){var i=o[t];if(i){var a=/^gu\.prefs\.(.*)=(.*)$/.exec(i);if(a){var s=a[1],c=a[2];s&&(void 0!==c?"switchOn"===s?p(c):"switchOff"===s?m(c):(r=c,Number.isNaN(Number(r))?v(c)?d(s,"true"===String(c).toLowerCase()):d(s,c):d(s,+c)):f(s))}}}};g(window.location);const h=function(e){var{type:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u;return!1===c.I[t].get("".concat(l,"switch.").concat(e))};function b(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){var n=(e,t)=>(0,r.Rm)("commercial","Adverts are not shown because ".concat(e," = ").concat(String(t)));for(var[o,i]of Object.entries(e))i||n(o,i);for(var[a,s]of Object.entries(t))s&&n(a,s)}var y=()=>"true"===(0,o.R)({name:"gu_digital_subscriber"})||s();var E=new class{constructor(){b(this,"shouldLoadGoogletag",void 0),b(this,"isSecureContact",void 0),b(this,"articleBodyAdverts",void 0),b(this,"carrotTrafficDriver",void 0),b(this,"highMerch",void 0),b(this,"thirdPartyTags",void 0),b(this,"commentAdverts",void 0),b(this,"liveblogAdverts",void 0),b(this,"adFree",void 0),b(this,"comscore",void 0),b(this,"launchpad",void 0),b(this,"youtubeAdvertising",void 0);var e,t=/[#&]noads(&.*)?$/.test(window.location.hash),n=/[#&]noadsaf(&.*)?$/.test(window.location.hash),r=/[?&]forceads(&.*)?$/.test(window.location.search),o=!t&&!h("adverts"),a=window.guardian.config.page.shouldHideAdverts||"childrens-books-site"===window.guardian.config.page.section,s=window.guardian.config.page.isMinuteArticle,c="Article"===window.guardian.config.page.contentType,l="Interactive"===window.guardian.config.page.contentType,u=window.guardian.config.page.isLiveBlog,d=window.guardian.config.page.isHosted,f="Identity"===window.guardian.config.page.contentType||"identity"===window.guardian.config.page.section,p=window.guardian.config.switches,m="wide"===(0,i.D)(),v=window.guardian.config.page.showNewRecipeDesign,g=!(null===(e=navigator.userAgent.match(/MSIE|Trident/g))||void 0===e||!e.length);this.isSecureContact=["help/ng-interactive/2017/mar/17/contact-the-guardian-securely","help/2016/sep/19/how-to-contact-the-guardian-securely"].includes(window.guardian.config.page.pageId),this.adFree=!!n||y(),this.youtubeAdvertising=!this.adFree&&!a;var E={"switches.shouldLoadGoogletag":!!p.shouldLoadGoogletag,externalAdvertising:o},S={sensitiveContent:a,isIdentityPage:f,adFree:this.adFree,isUnsupportedBrowser:g};this.shouldLoadGoogletag=r||Object.values(E).every(Boolean)&&!Object.values(S).some(Boolean),this.shouldLoadGoogletag||w(E,S);var _={isArticle:c},P={isMinuteArticle:s,isLiveBlog:!!u,isHosted:d,newRecipeDesign:!!v};this.articleBodyAdverts=this.shouldLoadGoogletag&&!this.adFree&&Object.values(_).every(Boolean)&&!Object.values(P).some(Boolean),c&&!this.articleBodyAdverts&&w(_,P),this.carrotTrafficDriver=!this.adFree&&this.articleBodyAdverts&&!window.guardian.config.page.isPaidContent,this.highMerch=this.shouldLoadGoogletag&&!this.adFree&&!s&&!d&&!l&&!window.guardian.config.page.isFront&&!window.guardian.config.isDotcomRendering&&!v,this.thirdPartyTags=!this.adFree&&o&&!f&&!this.isSecureContact,this.launchpad=!this.adFree&&o&&!f&&!this.isSecureContact&&!!window.guardian.config.switches.redplanetForAus,this.commentAdverts=this.shouldLoadGoogletag&&!this.adFree&&!s&&!!window.guardian.config.switches.enableDiscussionSwitch&&window.guardian.config.page.commentable&&(!u||m),this.liveblogAdverts=!!u&&this.shouldLoadGoogletag&&!this.adFree,this.comscore=!!window.guardian.config.switches.comscore&&!f&&!this.isSecureContact}}},8764:(e,t,n)=>{n.d(t,{D:()=>f,K7:()=>p,_y:()=>d,eT:()=>v,fu:()=>g});var r,o,i=n(1684),a=n(5989),s={mobile:i.f.mobile,tablet:i.f.tablet,desktop:i.f.desktop,wide:i.f.wide},c={mobileMedium:i.f.mobileMedium,mobileLandscape:i.f.mobileLandscape,phablet:i.f.phablet,leftCol:i.f.leftCol},l=["wide","leftCol","desktop","tablet","phablet","mobileLandscape","mobileMedium","mobile"],u=(e,t)=>{var n=l.find((n=>(e=>e in s)(n)?t>=s[n]:!!e&&t>=c[n]));return null!=n?n:"mobile"},d=e=>u(!1,e),f=()=>{var e;return null!==(e=r)&&void 0!==e?e:d((0,a.H)().width)},p=()=>{var e,t;return null!==(e=o)&&void 0!==e?e:(t=(0,a.H)().width,u(!0,t))},m=e=>{var{min:t,max:n}=e,r=t?"number"==typeof t?t:i.f[t]:null,o=n?"number"==typeof n?n:i.f[n]-1:null;return[r?"(min-width: ".concat(r,"px)"):null,o?"(max-width: ".concat(o,"px)"):null].filter(Boolean).join(" and ")},v=e=>{var{min:t,max:n}=e;return window.matchMedia(m({min:t,max:n})).matches},g=e=>{var t=e?p():f();return n=>{var r=e?p():f();r!==t&&(n(r,t),t=r)}};Object.entries(i.f).forEach(((e,t,n)=>{var[a]=e;if(a in i.f){var s=n[t+1],c=window.matchMedia(m({min:a,max:s?s[1]:void 0})),l=e=>e.matches&&(o=a,void(r=u(!1,i.f[o])));void 0!==c.addEventListener?c.addEventListener("change",l):void 0!==c.addListener&&c.addListener(l),l(c)}}))},5989:(e,t,n)=>{n.d(t,{H:()=>r});var r=()=>({width:window.innerWidth||document.body.clientWidth||0,height:window.innerHeight||document.body.clientHeight||0})},4540:(e,t,n)=>{n.d(t,{W:()=>a});var r,o=n(8764),i=n(8562).S,a={renderStartTime:-1,adSlotSelector:".js-ad-slot",lazyLoadEnabled:!1,lazyLoadObserve:"IntersectionObserver"in window,advertsToLoad:[],adverts:new Map,shouldLazyLoad:()=>"1"!==i().dll&&(!!["mobile","tablet"].includes((0,o.D)())||!window.guardian.config.page.hasPageSkin)};window.guardian.commercial=null!==(r=window.guardian.commercial)&&void 0!==r?r:{},window.guardian.commercial.dfpEnv=a},4519:(e,t,n)=>{n.d(t,{$:()=>o});var r=n(4540),o=e=>{var t;return null!==(t=r.W.adverts.get(e))&&void 0!==t?t:null}},5450:(e,t,n)=>{n.d(t,{S:()=>o});var r=n(4540),o=e=>{r.W.advertsToLoad.push(e)}},8083:(e,t,n)=>{n.d(t,{a9:()=>d});var r=n(5340),o=function(){},i=n(5680);function a(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function s(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c{constructor(e,t){s(this,"slotID",void 0),s(this,"slotName",void 0),s(this,"sizes",void 0),this.slotID=e.id,this.slotName=window.guardian.config.page.adUnit,this.sizes=t.sizes.map((e=>Array.from(e)))}}var l=!1,u=Promise.resolve(),d={initialise:()=>{!l&&window.apstag&&(l=!0,window.apstag.init({pubID:window.guardian.config.page.a9PublisherId,adServer:"googletag",bidTimeout:1500}))},requestBids:function(){var e,t=(e=function*(e,t){if(!l)return u;if(!window.guardian.config.switches.a9HeaderBidding)return u;var n=(0,r.A)(e.map((e=>(0,i.h)(e,t).map((t=>new c(e,t))))));return 0===n.length?u:u=u.then((()=>new Promise((e=>{var t;null===(t=window.apstag)||void 0===t||t.fetchBids({slots:n},(()=>{window.googletag.cmd.push((()=>{var t;null===(t=window.apstag)||void 0===t||t.setDisplayBids(),e()}))}))})))).catch(o)},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){a(i,r,o,s,c,"next",e)}function c(e){a(i,r,o,s,c,"throw",e)}s(void 0)}))});return function(e,n){return t.apply(this,arguments)}}()}},4603:(e,t,n)=>{n.d(t,{T:()=>ce});var r=n(5872),o=n(1445),i=n(9396),a=n(5340),s=function(e,t,n,r,o){if(o)e=o(e,t,n);else{var i=[];try{var a=JSON.parse(localStorage._psegs||"[]").map(String),s=JSON.parse(localStorage._ppam||"[]"),c=JSON.parse(localStorage._pcrprs||"[]");i=[...a,...s,...c]}catch(e){}n&&t.ac&&t.ac.length>0&&(i=i.concat(t.ac)),i=i.map((function(e){return{id:e}})),pbjs.setBidderConfig({bidders:["pubmatic"],config:{ortb2:{user:{data:[{name:"permutive.com",segment:i}]}}}})}},c=n(1307),l=n(9041),u=n(6471),d=n(4519),f=n(8240),p=n(5680),m=n(3804),v=n(4540),g=n(7255),h=n(8562);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=e=>{if((0,g.J4)())return"11016434";if((0,g._J)()&&(0,m.BG)(e))return"31512573";var t="9251752";switch((0,m.Xy)()){case"D":return(0,m.fU)(e)?"30017511":(0,m.V_)(e)?"9251752":(0,m.R_)(e)?"9926678":t;case"M":return(0,m.i)(e)?"4298191":t;case"T":return(0,m.i)(e)?"4371641":(0,m.fq)(e)?"4371640":t;default:return t}},S=(e,t,n)=>{if((0,g.J4)()&&window.guardian.config.switches.prebidAppnexusInvcode){var r=(e=>{var t="M"===(0,m.Xy)()?"M":"D",n=window.guardian.config.page.section||window.guardian.config.page.sectionName.replace(/ /g,"-"),r=(0,m.w1)(e);if(r)return"".concat(t).concat(n.toLowerCase()).concat(r.join("x"))})(e);if(r)return{invCode:r,member:"7012",keywords:w(w({invc:[r]},(0,u.FF)(t)),{},{slot:n})}}return{placementId:E(e),keywords:w(w({},(0,u.FF)(t)),{},{slot:n})}},_=e=>{if((0,g.id)())switch((0,m.Xy)()){case"D":return(0,m.fU)(e)?22987847:(0,m.V_)(e)?1116396:(0,m.R_)(e)?1116397:-1;case"M":return(0,m.V_)(e)?1116400:-1;case"T":return(0,m.V_)(e)?1116398:(0,m.R_)(e)?1116399:-1;default:return-1}if((0,g._J)())switch((0,m.Xy)()){case"D":return(0,m.V_)(e)?1116420:(0,m.R_)(e)?1116421:-1;case"M":return(0,m.V_)(e)?1116424:(0,m.BG)(e)?23060750:-1;case"T":return(0,m.V_)(e)?1116422:(0,m.R_)(e)?1116423:-1;default:return-1}return-1},P=(e,t)=>{var n=(0,m.TL)((0,m.yh)(e));return n&&(n.endsWith("mostpop")||n.endsWith("comments")||n.endsWith("inline1")||n.endsWith("inline")&&!t)?{w:300,h:250}:{}};function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j="Article"===window.guardian.config.page.contentType,C="D"===(0,m.Xy)()&&j,x=(e,t)=>{switch((0,m.yh)(e)){case"dfp-ad--inline1":return"2960";case"dfp-ad--inline2":return t?"3826":"3827";case"dfp-ad--inline3":return t?"3828":"3829";case"dfp-ad--inline4":return t?"3830":"3831";case"dfp-ad--inline5":return t?"3832":"3833";case"dfp-ad--inline6":return t?"3834":"3835";case"dfp-ad--inline7":return t?"3836":"3837";case"dfp-ad--inline8":return t?"3838":"3839";case"dfp-ad--inline9":return t?"3840":"3841";case"dfp-ad--mostpop":return"2961";case"dfp-ad--right":return"2962";case"dfp-ad--top-above-nav":return"2963";case"dfp-ad--comments":return"3840";case"dfp-ad--mobile-sticky":return"8519";default:return e.startsWith("dfp-ad--inline")?t?"3840":"3841":((0,r.Rm)("commercial","PREBID: Failed to get TrustX ad unit for slot ".concat(e,".")),"")}},T=()=>{var e=window.guardian.config.page.pbIndexSites.find((e=>e.bp===(0,m.Xy)()));return null!=e&&e.id?e.id.toString():""},D=e=>{switch((0,m.Xy)()){case"D":return(0,m.V_)(e)?20943665:(0,m.R_)(e)?20943666:20943668;case"M":return(0,m.V_)(e)?20943669:20943670;case"T":return(0,m.V_)(e)?20943671:(0,m.R_)(e)?20943672:20943674;default:return-1}},R=(e,t)=>{if((0,m.fq)(t)){if((0,g.N$)())return"theguardian_topbanner_728x90_prebid";if((0,g.J4)())return"theguardian_topbanner_728x90_prebid_AU"}if((0,m.i)(t)){if((0,g.N$)())return j?"theguardian_article_300x250_prebid":"theguardian_sectionfront_300x250_prebid";if((0,g.J4)())return j?"theguardian_article_300x250_prebid_AU":"theguardian_sectionfront_300x250_prebid_AU"}if((0,m.BG)(t)){if((0,g.N$)())return"theguardian_320x50_HDX";if((0,g.J4)())return"theguardian_320x50_HDX_AU"}return""},B=()=>Object.keys((0,h.k)()).length>0,L=e=>({name:"and",switchName:"prebidAppnexus",bidParams:(t,n)=>S(n,e,(0,m.qm)(t))}),M=e=>({name:"oxd",switchName:"prebidOpenx",bidParams:(t,n)=>{var r=(0,u.FF)(e);return(0,g.N$)()?{delDomain:"guardian-us-d.openx.net",unit:"540279544",customParams:r}:(0,g.J4)()?{delDomain:"guardian-aus-d.openx.net",unit:"540279542",customParams:r}:(0,g._J)()&&(0,m.BG)(n)?{delDomain:"guardian-d.openx.net",unit:"560429384",customParams:r}:{delDomain:"guardian-d.openx.net",unit:"540279541",customParams:r}}}),I=e=>{if((0,g.lE)()){if("D"===(0,m.Xy)()){if((0,m.$Y)(e))return"3500010912";if((0,m.i)(e))return"3500010911"}return"M"===(0,m.Xy)()&&(0,m.BG)(e)?"3500014217":"1420436308"}return(0,g._J)()&&(0,m.BG)(e)?"1500000260":"0420420500"},F=e=>({name:"ozone",switchName:"prebidOzone",bidParams:(t,n)=>{var r=v.W.adverts.get(t),o=null!=r&&r.testgroup?{testgroup:r.testgroup}:{};return{publisherId:"OZONEGMG0001",siteId:"4204204209",placementId:I(n),customData:[{settings:{},targeting:k(k({},o),(0,u.FF)(e))}],ozoneData:{}}}}),N=e=>({name:"sonobi",switchName:"prebidSonobi",bidParams:t=>({ad_unit:window.guardian.config.page.adUnit,dom_id:t,appNexusTargeting:(0,u.GI)(e),pageViewId:window.guardian.ophan.pageViewId})}),z=e=>"D"===(0,m.Xy)()?(0,m.R_)(e)?"_yflg9S7c2x":(0,m.i)(e)&&(0,m.WM)(e)?"_zOpeEAyfiz":"_qDBbBXYtzA":(0,m.BG)(e)?"_odszPLn2hK":"_y9LINEsbfh",U=e=>{var t={name:"pubmatic",switchName:"prebidPubmatic",bidParams:e=>({publisherId:(0,g.N$)()?"157206":(0,g.J4)()?"157203":"157207",adSlot:(0,m.qm)(e)})};return(0,m.fU)(e)?k(k({},t),{},{bidParams:e=>k(k({},t.bidParams(e)),{},{placementId:"theguardian_970x250_only"})}):t},q={name:"trustx",switchName:"prebidTrustx",bidParams:e=>({uid:x(e,C)})},H={name:"triplelift",switchName:"prebidTriplelift",bidParams:(e,t)=>({inventoryCode:R(0,t)})},W={name:"improvedigital",switchName:"prebidImproveDigital",bidParams:(e,t)=>({publisherId:995,placementId:_(t),size:P(e,C)})},G={name:"improvedigital",switchName:"prebidImproveDigitalSkins",bidParams:()=>({placementId:(0,g.id)()?"D"===(0,m.Xy)()?22526482:-1:(0,g._J)()&&"D"===(0,m.Xy)()?22526483:-1,size:{}})},$={name:"xhb",switchName:"prebidXaxis",bidParams:(e,t)=>({placementId:D(t)})},V={name:"adyoulike",switchName:"prebidAdYouLike",bidParams:()=>(0,g.id)()?{placement:"2b4d757e0ec349583ce704699f1467dd"}:(0,g.N$)()?{placement:"7fdf0cd05e1d4bf39a2d3df9c61b3495"}:(0,g.J4)()?{placement:"5cf05e1705a2d57ba5d51e03f2af9208"}:{placement:"c1853ee8bfe0d4e935cbf2db9bb76a8b"}},J=e=>{var t={name:"criteo",switchName:"prebidCriteo"};return(0,m.fU)(e)?k(k({},t),{},{bidParams:()=>({zoneId:1759354})}):k(k({},t),{},{bidParams:()=>({networkId:337})})},K={name:"smartadserver",switchName:"prebidSmart",bidParams:()=>({siteId:465656,pageId:1472549,formatId:105870})},X={name:"kargo",switchName:"prebidKargo",bidParams:(e,t)=>({placementId:z(t)})},Y=e=>{var t=(e=>(0,m.fU)(e)?"983842":(0,m.BG)(e)?"1047869":T())(e);return e.map((e=>({name:"ix",switchName:"prebidIndexExchange",bidParams:()=>({siteId:t,size:e})})))},Z=e=>e.filter((e=>(e=>{var t;return null!==(t=window.guardian.config.switches[e.switchName])&&void 0!==t&&t})(e))),Q=(e,t)=>{var n=[[(0,m.IE)(),J(e)],[(0,m.ny)(),K],[(0,m.E_)(),N(t)],[(0,m.O0)(),q],[(0,m.Pw)(),H],[(0,m.GU)(),L(t)],[(0,m.UK)(),W],[(0,m.JB)(),G],[(0,m.no)(),$],[!0,U(e)],[(0,m.lk)(e),V],[(0,m.v$)(),F(t)],[(0,m.cm)(),M(t)],[(0,m.Wv)(),X]].filter((e=>{var t,[n]=e;return t=n,B()||t})).map((e=>{var[,t]=e;return t})),r=Y(e).concat(n);return B()?(e=>e.filter((e=>(0,h.k)()[e.name])))(r):Z(r)},ee={buckets:[{max:10,increment:.01},{max:15,increment:.1},{max:100,increment:1}]},te={buckets:[{max:12,increment:.01},{max:20,increment:.05},{max:500,increment:1}]};function ne(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function re(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ne(i,r,o,a,s,"next",e)}function s(e){ne(i,r,o,a,s,"throw",e)}a(void 0)}))}}function oe(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ie{constructor(e,t,n){oe(this,"code",void 0),oe(this,"bids",void 0),oe(this,"mediaTypes",void 0),this.code=e.id,this.bids=((e,t,n)=>Q(t,n).map((n=>({bidder:n.name,params:n.bidParams(e,t)}))))(e.id,t.sizes,n),this.mediaTypes={banner:{sizes:t.sizes}},e.headerBiddingSizes=t.sizes,(0,r.Rm)("commercial","PrebidAdUnit ".concat(this.code),this.bids)}isEmpty(){return null==this.code}}var ae=Promise.resolve(),se=!1,ce={initialise:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"tcfv2";if(e.pbjs){se=!0;var n,i=e.guardian.config.switches.prebidUserSync?{syncsPerBidder:0,filterSettings:{all:{bidders:"*",filter:"include"}}}:{syncEnabled:!1},a=Object.assign({},{bidderTimeout:1500,timeoutBuffer:400,priceGranularity:ee,userSync:i});if(e.pbjs.bidderSettings={},e.guardian.config.switches.consentManagement&&(a.consentManagement=(()=>{switch(t){case"aus":case"ccpa":return{usp:{cmpApi:"iab",timeout:1500}};default:return{gdpr:{cmpApi:"iab",timeout:200,defaultGdprScope:!0}}}})()),e.guardian.config.switches.permutive&&e.guardian.config.switches.prebidPermutiveAudience&&(a.realTimeData={dataProviders:[{name:"permutive",params:{acBidders:["appnexus","ix","ozone","pubmatic","trustx"],overwrites:{pubmatic:s}}}]}),e.guardian.config.switches.prebidCriteo&&(e.pbjs.bidderSettings.criteo={storageAllowed:!0},a.criteo={fastBidVersion:"latest"},e.pbjs.setBidderConfig({bidders:["criteo"],config:{customPriceBucket:te}})),e.guardian.config.switches.prebidOzone&&e.pbjs.setBidderConfig({bidders:["ozone"],config:{guCustomPriceBucket:e=>{var{width:t,height:n}=e,o=((e,t)=>{var n=[e,t].join(",");return n===c.EA.skyscraper.toString()||n===c.EA.halfPage.toString()?{buckets:[{max:10,increment:.01},{max:15,increment:.1},{max:50,increment:1}]}:n===c.EA.leaderboard.toString()||n===c.EA.billboard.toString()||n===c.EA.mpu.toString()||n===c.EA.outstreamDesktop.toString()||n===c.EA.outstreamMobile.toString()?{buckets:[{max:12,increment:.01},{max:20,increment:.1},{max:50,increment:1}]}:void 0})(t,n);return(0,r.Rm)("commercial","Custom Prebid - Ozone price bucket for size (".concat(t,",").concat(n,"):"),o),o}}}),e.guardian.config.switches.prebidIndexExchange&&e.pbjs.setBidderConfig({bidders:["ix"],config:{guCustomPriceBucket:e=>{var{width:t,height:n}=e,o=((e,t)=>{var n=[e,t].join(",");return n===c.EA.skyscraper.toString()||n===c.EA.halfPage.toString()?{buckets:[{max:10,increment:.01},{max:15,increment:.05},{max:50,increment:1}]}:n===c.EA.leaderboard.toString()||n===c.EA.billboard.toString()||n===c.EA.mpu.toString()?{buckets:[{max:12,increment:.01},{max:20,increment:.05},{max:50,increment:1}]}:void 0})(t,n);return(0,r.Rm)("commercial","Custom Prebid - Index price bucket for size (".concat(t,",").concat(n,"):"),o),o}}}),e.guardian.config.switches.prebidAnalytics)e.pbjs.enableAnalytics([{provider:"gu",options:{ajaxUrl:null!==(n=e.guardian.config.page.ajaxUrl)&&void 0!==n?n:"",pv:e.guardian.ophan.pageViewId}}]);if(e.guardian.config.switches.prebidXaxis&&(e.pbjs.bidderSettings.xhb={adserverTargeting:[{key:"hb_buyer_id",val(e){var t,n;return null!==(t=null===(n=e.appnexus)||void 0===n?void 0:n.buyerMemberId)&&void 0!==t?t:""}}],bidCpmAdjustment:e=>1.05*e}),e.guardian.config.switches.prebidImproveDigital){var l=new RegExp(/placement_id=\\?"(\d+)\\?"/);e.pbjs.bidderSettings.improvedigital={adserverTargeting:[{key:"hb_pid",val(e){if((0,o.K)(e.ad)){var t=l.exec(e.ad);return null==t?void 0:t[1]}}}],suppressEmptyKeys:!0},a.improvedigital={usePrebidSizes:!0}}e.guardian.config.switches.prebidKargo&&(e.pbjs.bidderSettings.kargo={storageAllowed:!0}),e.pbjs.setConfig(a),e.pbjs.onEvent("bidWon",(e=>{var{width:t,height:n,adUnitCode:r}=e;if(t&&n&&r){var o=(0,c.vL)(t,n),i=(0,d.$)(r);i&&(i.size=o,i.hasPrebidSize=!0)}}))}else(0,r.Rm)("commercial","window.pbjs not found on window")},requestBids:function(){var e=re((function*(e,t){if(!se)return ae;if(!window.guardian.config.switches.prebidHeaderBidding)return ae;var n=yield(0,i.GD)().then(function(){var n=re((function*(n){var r=yield(0,f.Ql)(),o=(0,u.TM)(n,r);return(0,a.A)(e.map((e=>(0,p.h)(e,t).map((t=>new ie(e,t,o))).filter((e=>!e.isEmpty())))))}));return function(e){return n.apply(this,arguments)}}()).catch((e=>((0,r.Rm)("commercial","Failed to execute prebid onConsent",e),[]))),s=l.W.get();return ae=ae.then((()=>new Promise((e=>{var t;n.forEach((e=>{(0,o.K)(e.code)&&s.mark("prebidStart",(0,m.qm)(e.code))})),null===(t=window.pbjs)||void 0===t||t.que.push((()=>{var t;null===(t=window.pbjs)||void 0===t||t.requestBids({adUnits:n,bidsBackHandler:()=>{((e,t)=>new Promise((n=>{var r;null===(r=window.pbjs)||void 0===r||r.setTargetingForGPTAsync(e.map((e=>e.code)).filter(o.K)),n(),e.forEach((e=>{(0,o.K)(e.code)&&t.mark("prebidEnd",(0,m.qm)(e.code))}))})))(n,s).then(e)}})}))}))))}));return function(t,n){return e.apply(this,arguments)}}()}},5680:(e,t,n)=>{n.d(t,{h:()=>s});var r=n(1307),o=n(7255),i=n(3804),a=(e,t,n)=>{var r,o,i,a=(e=>Object.keys(e).filter((e=>"inline"!==e)))(n),s=(o=a,i=e.node.dataset.name,o.some((e=>e===i))?i:null!=i&&i.includes("inline")?"inline":null!=i&&i.includes("fronts-banner")?"fronts-banner":void 0);if(!s)return[];var c=null===(r=n[s])||void 0===r?void 0:r[t];return!c||c.length<1?[]:[{key:s,sizes:c}]},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>[e],n=(()=>{switch((0,i.Xy)()){case"M":return"mobile";case"T":return"tablet";default:return"desktop"}})();return a(e,n,(()=>{var{contentType:e,hasShowcaseMainElement:t}=window.guardian.config.page,n="Article"===e,a="Crossword"===e,s=n&&window.guardian.config.switches.extendedMostPopular;return{right:{desktop:t?[r.EA.mpu]:[r.EA.halfPage,r.EA.mpu],tablet:t?[r.EA.mpu]:[r.EA.halfPage,r.EA.mpu],mobile:t?[r.EA.mpu]:[r.EA.halfPage,r.EA.mpu]},"top-above-nav":{desktop:[r.EA.billboard,r.EA.leaderboard],tablet:[r.EA.leaderboard],mobile:[r.EA.mpu]},"fronts-banner":{desktop:[r.EA.billboard]},inline:{desktop:n?[r.EA.skyscraper,r.EA.halfPage,r.EA.mpu]:[r.EA.mpu],tablet:[r.EA.mpu],mobile:[r.EA.mpu]},inline1:{desktop:n?[r.EA.mpu,r.EA.outstreamDesktop]:[r.EA.mpu],tablet:n?[r.EA.mpu,r.EA.outstreamDesktop]:[r.EA.mpu],mobile:n?[r.EA.outstreamMobile,r.EA.mpu,r.EA.portraitInterstitial]:[r.EA.mpu]},inline2:{desktop:n?[r.EA.skyscraper,r.EA.halfPage,r.EA.mpu]:[r.EA.mpu],tablet:[r.EA.mpu],mobile:n?[r.EA.mpu,r.EA.portraitInterstitial]:[r.EA.mpu]},mostpop:{desktop:s?[r.EA.halfPage,r.EA.mpu]:[r.EA.mpu],tablet:s?[r.EA.halfPage,r.EA.mpu,r.EA.leaderboard]:[r.EA.mpu],mobile:[r.EA.mpu]},comments:{desktop:[r.EA.skyscraper,r.EA.mpu,r.EA.halfPage]},"comments-expanded":{desktop:[r.EA.skyscraper,r.EA.mpu,r.EA.halfPage]},banner:{desktop:[(0,r.vL)(88,70),r.EA.leaderboard,r.EA.cascade,(0,r.vL)(900,250),r.EA.billboard]},"mobile-sticky":{mobile:(0,i.Lu)()?[r.EA.mobilesticky]:[]},"crossword-banner":{desktop:a?[r.EA.leaderboard]:[],tablet:a?[r.EA.leaderboard]:[]},"crossword-banner-mobile":{mobile:[r.EA.mobilesticky]},merchandising:{mobile:[r.EA.mpu],desktop:[r.EA.billboard]},"merchandising-high":{mobile:[r.EA.mpu],desktop:[r.EA.billboard]},"article-end":{mobile:(0,o.id)()?[r.EA.mpu]:[],tablet:(0,o.id)()?[r.EA.mpu]:[],desktop:(0,o.id)()?[r.EA.mpu]:[]}}})()).map(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t=>{var{key:n,sizes:r}=t;return"inline"!==n?{key:n,sizes:r}:{key:n,sizes:r.filter((t=>{var[n,r]=t;return e.some((e=>n===e.width&&r===e.height))}))}}}(e.sizes[n])).map(t).reduce(((e,t)=>e.concat(t)),[])}},3804:(e,t,n)=>{n.d(t,{$Y:()=>b,BG:()=>E,C7:()=>U,E_:()=>O,GU:()=>T,IE:()=>L,JB:()=>B,Lu:()=>F,O0:()=>A,Pw:()=>j,R_:()=>S,TL:()=>z,UK:()=>R,V_:()=>y,W9:()=>p,WM:()=>g,Wv:()=>I,Xy:()=>P,cm:()=>k,fU:()=>w,fq:()=>h,i:()=>v,lk:()=>C,no:()=>D,ny:()=>M,qm:()=>m,v$:()=>x,w1:()=>_,yh:()=>N});var r=n(1445),o=n(262),i=n(1307),a=n(8764),s=n(7255),c=n(8562),l={},u=(e,t)=>{var n,r=null!==(n=l[t])&&void 0!==n?n:l[t]=new RegExp("".concat(t,"$"));return e.replace(r,"")},d={},f=(e,t)=>Boolean(e.find((e=>e[0]===t[0]&&e[1]===t[1]))),p=e=>Object.entries(e).reduce(((e,t)=>{var[n,o]=t;return o?((0,r.K)(o)&&(e[n]=o),Array.isArray(o)&&o.length>0&&o.some(Boolean)&&o.every(r.K)&&(e[n]=o.filter(Boolean)),e):e}),{}),m=e=>((e,t)=>{var n,r=null!==(n=d[t])&&void 0!==n?n:d[t]=new RegExp("^".concat(t));return e.replace(r,"")})(e,"dfp-ad--"),v=e=>f(e,(0,i.vL)(300,250)),g=e=>f(e,(0,i.vL)(300,600)),h=e=>f(e,(0,i.vL)(728,90)),b=e=>f(e,(0,i.vL)(970,250)),w=e=>b(e)&&!h(e),y=e=>v(e)||g(e),E=e=>f(e,(0,i.vL)(320,50)),S=e=>h(e)||b(e),_=e=>e.length>0?e.reduce(((e,t)=>e[0]>=t[0]&&e[1]>=t[1]?e:t)):null,P=()=>{switch((0,a.K7)()){case"mobile":case"mobileMedium":case"mobileLandscape":default:return"M";case"phablet":case"tablet":return"T";case"desktop":case"leftCol":case"wide":return"D"}},O=()=>(0,s.N$)(),k=()=>!(0,s.N$)(),A=()=>(0,s.N$)(),j=()=>(0,s.N$)()||(0,s.J4)(),C=e=>v(e),x=()=>{var e;return!(0,s.oZ)()&&!(0,s.J4)()&&null!==(e=window.guardian.config.switches.prebidOzone)&&void 0!==e&&e},T=()=>(0,s.J4)()||window.guardian.config.switches.prebidAppnexusUkRow&&!(0,s.N$)()||!!(0,c.k)().and,D=()=>(0,s.id)(),R=()=>(0,s.id)()||(0,s._J)(),B=()=>!!window.guardian.config.switches.prebidImproveDigitalSkins&&window.guardian.config.page.isFront&&((0,s.id)()||(0,s._J)())&&"D"===P(),L=()=>!(0,s.J4)(),M=()=>(0,s.id)()||(0,s._J)(),I=()=>(0,s.lE)(),F=(0,o.A)((()=>window.location.hash.includes("#mobile-sticky")||(0,a.eT)({min:"mobile",max:"mobileLandscape"})&&!(0,s.id)()&&"Article"===window.guardian.config.page.contentType&&!window.guardian.config.page.isHosted)),N=e=>u(u(e,"--mobile"),"Mobile"),z=e=>u(e,"([2-9]|\\d{2,})"),U=window.location.hash.includes("#only-a9")},8240:(e,t,n)=>{n.d(t,{Ql:()=>f,fN:()=>p});var r,o=n(5148),i=n(6150);function a(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}var s=null,c=!!window.guardian.config.switches.okta,l=null!==(r=window.guardian.config.page.idApiUrl)&&void 0!==r?r:"/ID_API_ROOT_URL_NOT_FOUND";i.C.emit("module:identity:api:loaded");var u=()=>{if(null===s){var e=(0,o.R)({name:"GU_U"});if(e){var t,n,r,i=JSON.parse((d=null!==(t=e.split(".")[0])&&void 0!==t?t:"",decodeURIComponent(escape(window.atob(d.replace(/-/g,"+").replace(/_/g,"/").replace(/,/g,"=")))))),a=parseInt(null!==(n=i[0])&&void 0!==n?n:"",10),c=decodeURIComponent(null!==(r=i[2])&&void 0!==r?r:""),l=i[6],u=Boolean(i[7]);a&&l&&(s={id:a,publicFields:{displayName:c},dates:{accountCreatedDate:l},statusFields:{userEmailValidated:u},rawResponse:e})}}var d;return s},d=function(){var e,t=(e=function*(){if(c){try{var{isSignedInWithOktaAuthState:e}=yield Promise.all([n.e(337),n.e(871)]).then(n.bind(n,5871)),t=yield e();if(t.isAuthenticated)return{kind:"SignedInWithOkta",accessToken:t.accessToken,idToken:t.idToken}}catch(e){console.error(e)}return{kind:"SignedOutWithOkta"}}return null!==u()?{kind:"SignedInWithCookies"}:{kind:"SignedOutWithCookies"}},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){a(i,r,o,s,c,"next",e)}function c(e){a(i,r,o,s,c,"throw",e)}s(void 0)}))});return function(){return t.apply(this,arguments)}}(),f=()=>d().then((e=>"SignedInWithCookies"===e.kind||"SignedInWithOkta"===e.kind)),p=()=>d().then((e=>{switch(e.kind){case"SignedInWithCookies":return fetch("".concat(l,"/user/me/identifiers"),{mode:"cors",credentials:"include"}).then((e=>{if(200===e.status)return e.json();throw e.status})).then((e=>e.googleTagId)).catch((e=>(console.log("failed to get Identity user identifiers",e),null)));case"SignedInWithOkta":return e.idToken.claims.google_tag_id;default:return null}}))},8439:(e,t,n)=>{n.d(t,{A:()=>h});var r=n(1772),o=n.n(r);function i(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}var a=function(){var e,t=(e=function*(){return!window.guardian.config.isDotcomRendering&&new Promise((e=>{window.guardian.adBlockers.active?e(window.guardian.adBlockers.active):window.guardian.adBlockers.onDetect.push(e)}))},function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function s(e){i(a,r,o,s,c,"next",e)}function c(e){i(a,r,o,s,c,"throw",e)}s(void 0)}))});return function(){return t.apply(this,arguments)}}()(),{sentryPublicApiKey:s,sentryHost:c,edition:l,contentType:u,revisionNumber:d,isDev:f}=window.guardian.config.page,{enableSentryReporting:p}=window.guardian.config.switches,m="https://".concat(s,"@").concat(c),v=!1,g={whitelistUrls:[/localhost/,/assets\.guim\.co\.uk/,/ophan\.co\.uk/],tags:{edition:l,contentType:u,revisionNumber:d},ignoreErrors:["Can't execute code from a freed script",/There is no space left matching rules from/gi,"Top comments failed to load:","Comments failed to load:",/InvalidStateError/gi,/Fetch error:/gi,"Network request failed","This video is no longer available.","UnknownError","TypeError: Failed to fetch","TypeError: NetworkError when attempting to fetch resource","Fetch error while requesting https://api.nextgen.guardianapps.co.uk/weatherapi/city.json:"],dataCallback(e){var{culprit:t}=e,n=e,r=!!t&&/j.ophan.co.uk/.test(t);return t&&(n.culprit=t.replace(/\/[a-z\d]{32}(\/[^/]+)$/,"$1")),n.tags.origin=r?"ophan":"app",n},shouldSendCallback(e){var t=!!e.tags.ignored,n=Math.random()<.008;return f&&!t&&console.warn("Raven captured event.",e),!!p&&n&&!t&&!v}};a.then((e=>{v=e}));const h=o().config(m,g).install()},6873:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(2946),o=n.n(r),i=n(9333),a=n.n(i);const s=o().extend(a())},7255:(e,t,n)=>{n.d(t,{J4:()=>v,oZ:()=>p,_J:()=>g,id:()=>d,N$:()=>m,lE:()=>f});var r,o=n(4965),i=n(1445),a=n(5148),s={UK:"GB",US:"US",AU:"AU"},c="GU_geo_country",l=()=>{var e,t,n=window.guardian.config.page.edition,r=o.I.local.get("gu.geo.override");return null!==(e=null!==(t=(0,i.K)(r)?r:null)&&void 0!==t?t:(0,a.R)({name:c,shouldMemoize:!0}))&&void 0!==e?e:function(){return s[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"UK"]}(n)},u=()=>{var e;return r=null!==(e=r)&&void 0!==e?e:l()},d=()=>"GB"===u(),f=()=>"US"===u(),p=()=>"CA"===u(),m=()=>f()||p(),v=()=>"AU"===u()||"NZ"===u(),g=()=>!d()&&!m()&&!v()},6150:(e,t,n)=>{n.d(t,{C:()=>o});var r=n(5664),o=new(n.n(r)())},8630:(e,t,n)=>{n.d(t,{N:()=>i,q:()=>o});var r=n(8439),o=e=>e instanceof Error?e:"string"==typeof e?new Error(e):new Error(String(e)),i=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=o(e);if(i>=Math.random()&&r.A.captureException(a,{tags:t}),n)throw a.reported=!0,a}},8562:(e,t,n)=>{n.d(t,{S:()=>a,k:()=>o});var r=n(9148),o=(0,r.A)((()=>new URLSearchParams(window.location.search).getAll("pbtest").reduce(((e,t)=>(e[t]=!0,e)),{})),(()=>window.location.search)),i=(0,r.A)((e=>Array.from(new URLSearchParams(e).entries()).reduce(((e,t)=>{var[n,r]=t;return e[n]=""===r||r,e}),{}))),a=e=>i(null!=e?e:window.location.search)},2661:(e,t,n)=>{n.d(t,{A:()=>r});const r=n(2546).A.Symbol},4468:(e,t,n)=>{n.d(t,{A:()=>f});var r=n(2661),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r.A?r.A.toStringTag:void 0;const c=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o};var l=Object.prototype.toString;const u=function(e){return l.call(e)};var d=r.A?r.A.toStringTag:void 0;const f=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":d&&d in Object(e)?c(e):u(e)}},2546:(e,t,n)=>{n.d(t,{A:()=>i});const r="object"==typeof global&&global&&global.Object===Object&&global;var o="object"==typeof self&&self&&self.Object===Object&&self;const i=r||o||Function("return this")()},5340:(e,t,n)=>{n.d(t,{A:()=>g});const r=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e};var o=n(2661),i=n(4468),a=n(7134);const s=function(e){return(0,a.A)(e)&&"[object Arguments]"==(0,i.A)(e)};var c=Object.prototype,l=c.hasOwnProperty,u=c.propertyIsEnumerable;const d=s(function(){return arguments}())?s:function(e){return(0,a.A)(e)&&l.call(e,"callee")&&!u.call(e,"callee")};const f=Array.isArray;var p=o.A?o.A.isConcatSpreadable:void 0;const m=function(e){return f(e)||d(e)||!!(p&&e&&e[p])};const v=function e(t,n,o,i,a){var s=-1,c=t.length;for(o||(o=m),a||(a=[]);++s<c;){var l=t[s];n>0&&o(l)?n>1?e(l,n-1,o,i,a):r(a,l):i||(a[a.length]=l)}return a};const g=function(e){return(null==e?0:e.length)?v(e,1):[]}},8897:(e,t,n)=>{n.d(t,{A:()=>r});const r=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7134:(e,t,n)=>{n.d(t,{A:()=>r});const r=function(e){return null!=e&&"object"==typeof e}},9148:(e,t,n)=>{n.d(t,{A:()=>Q});var r=n(4468),o=n(8897);const i=function(e){if(!(0,o.A)(e))return!1;var t=(0,r.A)(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};var a=n(2546);const s=a.A["__core-js_shared__"];var c,l=(c=/[^.]+$/.exec(s&&s.keys&&s.keys.IE_PROTO||""))?"Symbol(src)_1."+c:"";const u=function(e){return!!l&&l in e};var d=Function.prototype.toString;const f=function(e){if(null!=e){try{return d.call(e)}catch(e){}try{return e+""}catch(e){}}return""};var p=/^\[object .+?Constructor\]$/,m=Function.prototype,v=Object.prototype,g=m.toString,h=v.hasOwnProperty,b=RegExp("^"+g.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const w=function(e){return!(!(0,o.A)(e)||u(e))&&(i(e)?b:p).test(f(e))};const y=function(e,t){return null==e?void 0:e[t]};const E=function(e,t){var n=y(e,t);return w(n)?n:void 0};const S=E(Object,"create");const _=function(){this.__data__=S?S(null):{},this.size=0};const P=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var O=Object.prototype.hasOwnProperty;const k=function(e){var t=this.__data__;if(S){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return O.call(t,e)?t[e]:void 0};var A=Object.prototype.hasOwnProperty;const j=function(e){var t=this.__data__;return S?void 0!==t[e]:A.call(t,e)};const C=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=S&&void 0===t?"__lodash_hash_undefined__":t,this};function x(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}x.prototype.clear=_,x.prototype.delete=P,x.prototype.get=k,x.prototype.has=j,x.prototype.set=C;const T=x;const D=function(){this.__data__=[],this.size=0};const R=function(e,t){return e===t||e!=e&&t!=t};const B=function(e,t){for(var n=e.length;n--;)if(R(e[n][0],t))return n;return-1};var L=Array.prototype.splice;const M=function(e){var t=this.__data__,n=B(t,e);return!(n<0)&&(n==t.length-1?t.pop():L.call(t,n,1),--this.size,!0)};const I=function(e){var t=this.__data__,n=B(t,e);return n<0?void 0:t[n][1]};const F=function(e){return B(this.__data__,e)>-1};const N=function(e,t){var n=this.__data__,r=B(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function z(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}z.prototype.clear=D,z.prototype.delete=M,z.prototype.get=I,z.prototype.has=F,z.prototype.set=N;const U=z;const q=E(a.A,"Map");const H=function(){this.size=0,this.__data__={hash:new T,map:new(q||U),string:new T}};const W=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};const G=function(e,t){var n=e.__data__;return W(t)?n["string"==typeof t?"string":"hash"]:n.map};const $=function(e){var t=G(this,e).delete(e);return this.size-=t?1:0,t};const V=function(e){return G(this,e).get(e)};const J=function(e){return G(this,e).has(e)};const K=function(e,t){var n=G(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function X(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}X.prototype.clear=H,X.prototype.delete=$,X.prototype.get=V,X.prototype.has=J,X.prototype.set=K;const Y=X;function Z(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Z.Cache||Y),n}Z.Cache=Y;const Q=Z},262:(e,t,n)=>{n.d(t,{A:()=>y});var r=/\s/;const o=function(e){for(var t=e.length;t--&&r.test(e.charAt(t)););return t};var i=/^\s+/;const a=function(e){return e?e.slice(0,o(e)+1).replace(i,""):e};var s=n(8897),c=n(4468),l=n(7134);const u=function(e){return"symbol"==typeof e||(0,l.A)(e)&&"[object Symbol]"==(0,c.A)(e)};var d=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,p=/^0o[0-7]+$/i,m=parseInt;const v=function(e){if("number"==typeof e)return e;if(u(e))return NaN;if((0,s.A)(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=(0,s.A)(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=a(e);var n=f.test(e);return n||p.test(e)?m(e.slice(2),n?2:8):d.test(e)?NaN:+e};var g=1/0;const h=function(e){return e?(e=v(e))===g||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0};const b=function(e){var t=h(e),n=t%1;return t==t?n?t-n:t:0};const w=function(e,t){var n;if("function"!=typeof t)throw new TypeError("Expected a function");return e=b(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}};const y=function(e){return w(2,e)}}},i={};function a(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={exports:{}};return o[e].call(n.exports,n,n.exports,a),n.exports}a.m=o,a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var o=Object.create(null);a.r(o);var i={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>i[e]=()=>n[e]));return i.default=()=>n,a.d(o,i),o},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,n)=>(a.f[n](e,t),t)),[])),a.u=e=>({337:"34450d8db4a728f23995",766:"ab5b5ed72da4b26f9649",871:"dea15907ad938d903eb3",952:"baf4309e0bf4dc57e956"}[e]+"/graun."+({766:"Prebid.js",952:"consentless"}[e]||e)+".commercial.js"),a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},r="@guardian/commercial:",a.l=(e,t,o,i)=>{if(n[e])n[e].push(t);else{var s,c;if(void 0!==o)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==r+o){s=d;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",r+o),s.src=e),n[e]=[t];var f=(t,r)=>{s.onerror=s.onload=null,clearTimeout(p);var o=n[e];if(delete n[e],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((e=>e(r))),t)return t(r)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),c&&document.head.appendChild(s)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;a.g.importScripts&&(e=a.g.location+"");var t=a.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=n[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e+"../"})(),(()=>{var e={979:0};a.f.j=(t,n)=>{var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(((n,o)=>r=e[t]=[n,o]));n.push(r[2]=o);var i=a.p+a.u(t),s=new Error;a.l(i,(n=>{if(a.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",s.name="ChunkLoadError",s.type=o,s.request=i,r[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,o,[i,s,c]=n,l=0;if(i.some((t=>0!==e[t]))){for(r in s)a.o(s,r)&&(a.m[r]=s[r]);if(c)c(a)}for(t&&t(n);l<i.length;l++)o=i[l],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.webpackChunk_guardian_commercial=self.webpackChunk_guardian_commercial||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{var e=a(9396),t=a(5872),n=a(9041),r=a(262),o=a(48),i=a(4814),s=(0,r.A)((()=>o.o.adFree?(0,i._)():Promise.resolve())),c=a(8001);function l(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}var u="//sb.scorecardresearch.com/cs/6035250/beacon.js",d="6035250",f=e=>{var t={c1:"2",c2:d,cs_ucfr:"1",options:{enableFirstPartyCookie:!0}};return"Network Front"!==e&&(t.comscorekw=e),t},p=function(){var n,r=(n=function*(){if(!o.o.comscore)return Promise.resolve();try{var n=yield(0,e.GD)(),r=n.tcfv2&&(0,e.gS)("comscore",n),i=!!n.aus,a=!!n.ccpa&&!n.ccpa.doNotSell;if(!(r||i||a))throw Error("No consent for comscore");return void(yield(window._comscore=null!==(s=window._comscore)&&void 0!==s?s:[],window._comscore.push(f(window.guardian.config.page.keywords)),(0,c.k)(u,{id:"comscore",async:!0})))}catch(e){(0,t.Rm)("commercial","⚠️ Failed to execute comscore",e)}var s},function(){var e=this,t=arguments;return new Promise((function(r,o){var i=n.apply(e,t);function a(e){l(i,r,o,a,s,"next",e)}function s(e){l(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(){return r.apply(this,arguments)}}(),m=(0,r.A)(p),v=a(7230),g=a(4540),h=a(5148),b=a(7802),w=a(5478),y=a(4760),E=a(9750),S=a(829),_=a(1445),P=a(4965);function O(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}var k,A=/^[A-Z]{2}$/,j=e=>(0,_.K)(e)&&A.test(e),C=function(){var e,t=(e=function*(){if(k)return k;var e=P.I.local.get("gu.geo.override");if(j(e))return k=e;var t=(0,h.R)({name:"GU_geo_country"});if(t&&j(t))return k=t;try{var{country:n}=yield fetch("https://api.nextgen.guardianapps.co.uk/geolocation").then((e=>e.json()));if(j(n))return(e=>{var{name:t,value:n}=e;if(!(0,E.t)(t,n))throw new Error("".concat(b.d," ").concat(t,"=").concat(n));if(document.cookie="".concat(t,"=").concat(n,"; path=/;").concat((0,y.z)()),S.G.has(t)){var[r]=(0,w.x)(t);r&&S.G.set(t,r)}})({name:"GU_geo_country",value:n}),k=n}catch(e){}return null},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){O(i,r,o,a,s,"next",e)}function s(e){O(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();function x(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}var T=e=>{window.dm=window.dm||{AjaxData:[]},window.dm.AjaxEvent=(e,t,n,r)=>{dm.AjaxData.push({et:e,d:t,ssid:n,ad:r}),window.DotMetricsObj&&DotMetricsObj.onAjaxDataUpdate()};var t=window.guardian.config.page.ipsosTag;if(void 0===t)throw Error("Ipsos tag undefined");var n="https://".concat(e,"-script.dotmetrics.net/door.js?d=").concat(document.location.host,"&t=").concat(t);return(0,c.k)(n,{id:"ipsos",async:!0,type:"text/javascript"})},D=function(){var n,r=(n=function*(){var n=yield C(),r=yield(0,e.GD)(),o="AU"===n&&!!r.aus,i="GB"===n&&!!r.tcfv2;o||i||(0,t.Rm)("commercial","Skipping ipsos process outside GB or AU"),o?T("au"):i&&((0,e.gS)("ipsos",r)?T("uk"):(0,t.Rm)("commercial","No consent for ipsos in GB"))},function(){var e=this,t=arguments;return new Promise((function(r,o){var i=n.apply(e,t);function a(e){x(i,r,o,a,s,"next",e)}function s(e){x(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(){return r.apply(this,arguments)}}(),R=()=>Boolean(navigator.userAgent.includes("Google Web Preview")||navigator.userAgent.includes("googleweblight")),B=a(7255),L=a(8083),M=a(3804),I=()=>((o.o.isSecureContact||R()||!window.guardian.config.switches.a9HeaderBidding||!o.o.shouldLoadGoogletag||o.o.adFree||window.guardian.config.page.hasPageSkin||(0,B.oZ)())&&!M.C7||(!function(e,t,n,r,o,i,a){function s(n,r){t[e]._Q.push([n,r])}t[e]||(t[e]={init(){s("i",arguments)},fetchBids(){s("f",arguments)},setDisplayBids(){},targetingKeys:()=>[],_Q:[]},(i=n.createElement(r)).async=!0,i.src="//c.amazon-adsystem.com/aax2/apstag.js",(a=n.getElementsByTagName(r)[0]).parentNode.insertBefore(i,a))}("apstag",window,document,"script"),L.a9.initialise()),Promise.resolve()),F=(0,r.A)(I),N=a(6471),z=a(8240),U=a(2285),q=a(1307),H=a(1298),W=a(1895),G=a(4603);function $(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}var V=function(){var e,t=(e=function*(e){R()||!window.guardian.config.switches.prebidHeaderBidding||!o.o.shouldLoadGoogletag||o.o.adFree||window.guardian.config.page.hasPageSkin||M.C7||(0,B.oZ)()||(yield a.e(766).then(a.t.bind(a,6398,23)),G.T.initialise(window,e))},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){$(i,r,o,a,s,"next",e)}function s(e){$(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),J=()=>(0,e.GD)().then((n=>{if(!n.framework)return Promise.reject("Unknown framework");var r=(0,e.gS)("prebid",n),o=(0,e.gS)("prebidCustom",n);return(0,t.Rm)("commercial","Prebid consent:",{hasConsentForGlobalPrebidVendor:r,hasConsentForCustomPrebidVendor:o}),r||o?V(n.framework):Promise.reject("No consent for prebid")})).catch((e=>{(0,t.Rm)("commercial","⚠️ Failed to execute prebid",e)})),K=(0,r.A)(J),X=a(8764),Y=a(568),Z=a(2946),Q=a.n(Z),ee=a(6150),te=()=>{var e=document.body,t=window.guardian.config.page.hasPageSkin,n="au"===window.guardian.config.page.edition.toLowerCase(),r=0,i=!1,a=!1,s=()=>{t&&(0,X.fu)(!0)&&!o.o.adFree&&Q().mutate((()=>{e.classList.toggle("has-active-pageskin",(0,X.eT)({min:"wide"}))}))},c=t=>{e.style.backgroundPosition="50% ".concat(t,"px")},l=()=>{if(0===r){var e=document.querySelector(".new-header");e&&(r=i?e.offsetTop+24:e.offsetTop+e.offsetHeight)}},u=e=>{var t=document.querySelector(".fc-container__inner");t&&(e.style.cssText="max-width: ".concat(t.clientWidth,"px; margin-right: auto; margin-left: auto;"))},d=()=>{i&&t&&(()=>{var e=document.querySelector(".new-header"),t=document.querySelector(".l-footer"),n=document.querySelector(".ad-slot--top-banner-ad");if(e&&t&&n){var o=document.querySelector(".top-banner-ad-container");o&&(o.style.borderBottom="none",o.style.minHeight="0"),l(),u(e),u(t),0===window.pageYOffset&&c(r);var i=e.getBoundingClientRect(),a=n.getBoundingClientRect(),s=i.top,d=a.bottom;s<=a.height+24-i.height&&d>0?c(d):d<=0&&c(0)}})(),a&&t&&n&&(l(),0===window.pageYOffset?c(r):window.pageXOffset<=r&&c(r-window.pageYOffset),window.pageYOffset>r&&c(0))};s(),window.addEventListener("message",(e=>{"pageskinRendered"===e.data&&(a=!0,d()),"truskinRendered"===e.data&&(i=!0,d())}),!1),ee.C.on("window:throttledResize",s),t&&ee.C.on("window:throttledScroll",d)},ne=a(5953),re=a(2629),oe=["dfp-ad--im"],ie=a(5450);function ae(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}var se=function(){var e,n=(e=function*(){var e=[(0,i.e)()];if(yield Promise.all(e),yield K().catch((e=>(0,t.Rm)("commercial","could not load Prebid.js",e))),o.o.adFree)return Promise.resolve();var n=window.guardian.config.isDotcomRendering&&"mobile"===(0,X.D)(),r=[...document.querySelectorAll(g.W.adSlotSelector)].filter((e=>!g.W.adverts.has(e.id))).filter((e=>!(n&&"dfp-ad--top-above-nav"===e.id))).map((e=>{var t=(e=>{var{contentType:t}=window.guardian.config.page,{name:n}=e.dataset;return"Gallery"===t&&null!=n&&n.includes("inline")?{desktop:[q.EA.billboard,(0,q.vL)(900,250)]}:"LiveBlog"===t&&null!=n&&n.includes("inline")?{phablet:[q.EA.outstreamDesktop,q.EA.outstreamGoogleDesktop],desktop:[q.EA.outstreamDesktop,q.EA.outstreamGoogleDesktop]}:"article-end"===n&&(0,B.lE)()?{mobile:[q.EA.fluid]}:"article-end"===n&&(0,H.AB)(W.z,"variant")&&(0,B.id)()?{desktop:[q.EA.outstreamDesktop,q.EA.outstreamGoogleDesktop]}:{}})(e);return(0,Y.p)(e,t)})).filter(U.R);for(var a of r)g.W.adverts.set(a.id,a);r.forEach(ie.S),g.W.shouldLazyLoad()?(()=>{window.googletag.pubads().collapseEmptyDivs(),window.googletag.enableServices();var e,t,[n,r]=(e=g.W.advertsToLoad,t=e=>oe.includes(e.id),e.reduce(((n,r,o)=>(t(r,o,e)?n[0].push(r):n[1].push(r),n)),[[],[]]));g.W.advertsToLoad=r,n.forEach(ne.b),r.forEach(re.E)})():(()=>{window.googletag.pubads().enableSingleRequest(),window.googletag.pubads().collapseEmptyDivs(),window.googletag.enableServices();var e=g.W.advertsToLoad.length?g.W.advertsToLoad[0]:void 0;e&&((0,ne.b)(e),g.W.advertsToLoad=[]),te()})()},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ae(i,r,o,a,s,"next",e)}function s(e){ae(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(){return n.apply(this,arguments)}}();function ce(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}var le=()=>{(0,z.fN)().then((e=>{null!==e&&window.googletag.pubads().setPublisherProvidedId(e)}))},ue=()=>{var e;"cookieDeprecationLabel"in navigator&&(null===(e=navigator.cookieDeprecationLabel)||void 0===e||e.getValue().then((e=>{var t=e||"empty";window.googletag.pubads().setTargeting("cookieDeprecationLabel",t)})))},de=()=>o.o.shouldLoadGoogletag?(0,e.GD)().then(function(){var r,o=(r=function*(r){n.W.get().mark("googletagInitStart");var o=!0;if(r.canTarget&&(window.googletag.cmd.push(le),window.googletag.cmd.push(ue)),r.ccpa)window.googletag.cmd.push((()=>{window.googletag.pubads().setPrivacySettings({restrictDataProcessing:!r.canTarget})}));else if(r.tcfv2)o=(0,e.gS)("googletag",r);else if(r.aus){var i=!(0,e.gS)("googletag",r);window.googletag.cmd.push((()=>{window.googletag.pubads().setPrivacySettings({nonPersonalizedAds:i})}))}if(o){var a,s,l=yield(0,z.Ql)();window.googletag.cmd.push((()=>n.W.get().mark("googletagInitEnd")),(()=>{((e,t)=>{Object.entries((0,N.TM)(e,t)).forEach((e=>{var[t,n]=e;n&&window.googletag.pubads().setTargeting(t,n)}))})(r,l)}),(()=>{se()})),(0,c.k)(null!==(a=null===(s=window.guardian.config.page.libs)||void 0===s?void 0:s.googletag)&&void 0!==a?a:"//securepubads.g.doubleclick.net/tag/js/gpt.js",{async:!1}).catch((e=>{if(!navigator.userAgent.includes("DuckDuckGo"))throw e;(0,t.Rm)("commercial","🦆 Caught loadScript error on DuckDuckGo",e)}))}return Promise.resolve()},function(){var e=this,t=arguments;return new Promise((function(n,o){var i=r.apply(e,t);function a(e){ce(i,n,o,a,s,"next",e)}function s(e){ce(i,n,o,a,s,"throw",e)}a(void 0)}))});return function(e){return o.apply(this,arguments)}}()).catch(i._):(0,i._)(),fe=a(8630),pe=e=>""===e||null==e||Array.isArray(e)&&0===e.length||"object"==typeof e&&0===Object.keys(e).length,me=e=>{var t;for(t in e)"object"==typeof e[t]&&me(e[t]),pe(e[t])&&delete e[t];return e},ve=e=>{var{page:t,user:n}=e,{isPaidContent:r,pageId:o,headline:i,contentType:a,section:s,author:c,keywords:l,webPublicationDate:u,series:d,edition:f,toneIds:p}=t,m=(c&&"string"==typeof c?c.split(","):[]).map((e=>e.trim())),v=(l&&"string"==typeof l?l.split(","):[]).map((e=>e.trim())),g=u&&"number"==typeof u?new Date(u).toISOString():"",h=(p&&"string"==typeof p?p.split(","):[]).map((e=>e.trim()));return me({content:{premium:r,id:o,title:i,type:a,section:s,authors:m,keywords:v,publishedAt:g,series:d,tone:h},user:{edition:f,identity:!pe(n)&&!pe(null==n?void 0:n.id)}})},ge=e=>"object"==typeof e.ophan&&"string"==typeof e.ophan.browserId&&e.ophan.browserId.length>0?[{tag:"ophan",id:e.ophan.browserId}]:[],he=(e,t,n)=>{try{if(null==t||!t.addon)throw new Error("Global Permutive setup error");var r=ge(e);t.identify&&r.length>0&&t.identify(r);var o=ve(e);t.addon("web",{page:o})}catch(e){n(e,{feature:"commercial"},!1)}},be=!1,we=()=>(0,e.GD)().then((t=>t.aus?(0,e.gS)("redplanet",t)?void 0:Promise.reject("No consent for redplanet"):Promise.reject("Redplanet should only run in Australia on AUS mode"))).then((()=>{if(be)return Promise.reject("replanet already initialised");be=!0,function(e,t,n,r,o,i,a){e[o]||(e.GlobalSnowplowNamespace=e.GlobalSnowplowNamespace||[],e.GlobalSnowplowNamespace.push(o),e[o]=function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].q=e[o].q||[],i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src="https://lps.qantas.com/sp.js",a.parentNode.insertBefore(i,a))}(window,document,"script",0,"launchpad")})).then((()=>{(()=>{var e;window.launchpad&&(window.launchpad("newTracker","launchpad","lpx.qantas.com",{discoverRootDomain:!0,appId:"the-guardian"}),window.launchpad("trackUnstructEvent",{schema:"iglu:com.qantas.launchpad/hierarchy/jsonschema/1-0-0",data:{u1:"theguardian.com",u2:window.guardian.config.page.section,u3:window.guardian.config.page.sectionName,u4:window.guardian.config.page.contentType,uid:null!==(e=window.guardian.config.ophan.browserId)&&void 0!==e?e:""}}))})()})).catch((e=>{(0,t.Rm)("commercial","⚠️ Failed to execute redplanet",e)}));function ye(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}var Ee=function(){var t,n=(t=function*(){var t,n,r=yield(0,e.GD)();(0,e.gS)("teads",r)&&["Article","LiveBlog"].includes(window.guardian.config.page.contentType)&&(window.teads_analytics=null!==(t=window.teads_analytics)&&void 0!==t?t:{},window.teads_analytics.analytics_tag_id="PUB_2167",window.teads_analytics.share=null!==(n=window.teads_analytics.share)&&void 0!==n?n:function(){var e;window.teads_analytics&&(window.teads_analytics.shared_data=null!==(e=window.teads_analytics.shared_data)&&void 0!==e?e:[]).push(...arguments)},yield(0,c.k)("https://a.teads.tv/analytics/tag.js",{async:!1}))},function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(e){ye(i,r,o,a,s,"next",e)}function s(e){ye(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(){return n.apply(this,arguments)}}();(0,e.Ym)((t=>{var n=(0,e.gS)("teads",t),r=(0,h.R)({name:"_tfpvi"});!n&&r&&(document.cookie="_tfpvi=;path=/")}));var Se=a(2803),_e=a(2506),Pe=e=>{var{shouldRun:t}=e;return{shouldRun:t,url:"//cdn.permutive.com/d6691a17-6fdb-4d26-85d6-b3dd27f55f08-web.js",name:"permutive"}},Oe=()=>{var e,t;null===(e=(t=window).google_trackConversion)||void 0===e||e.call(t,{google_conversion_id:971225648,google_custom_params:window.google_tag_params,google_remarketing_only:!0})},ke=e=>{var{shouldRun:t}=e;return{shouldRun:t,url:"//www.googleadservices.com/pagead/conversion_async.js",name:"remarketing",onLoad:Oe}},Ae=()=>{!function(e,t,n,r,o,i){e.twq||(r=e.twq=function(){r.exe?r.exe(...arguments):r.queue.push(arguments)},r.version="1.1",r.queue=[],(o=t.createElement(n)).async=!0,o.src="//static.ads-twitter.com/uwt.js",(i=t.getElementsByTagName(n)[0]).parentNode.insertBefore(o,i))}(window,document,"script"),twq("init","nyl43"),twq("track","PageView"),twq("init","ny4k9"),twq("track","PageView")},je=e=>{var{shouldRun:t}=e;return{shouldRun:t,name:"twitter",insertSnippet:Ae}},Ce={books:"P5033A084-E9BF-453A-91D3-C558751D9A85",business:"P5B109609-6223-45BA-B052-55F34A79D7AD",commentisfree:"PA878EFC7-93C8-4352-905E-9E03883FD6BD",artanddesign:"PE5076E6F-B85D-4B45-9536-F150EF3FC853",culture:"PE5076E6F-B85D-4B45-9536-F150EF3FC853",stage:"PE5076E6F-B85D-4B45-9536-F150EF3FC853",education:"P4A01DB74-5B97-435A-89F0-C07EA2C739EC",environment:"P2F34A388-A280-4C3F-AF43-FAF16EFCB7B1",cities:"P2F34A388-A280-4C3F-AF43-FAF16EFCB7B1","global-development":"P2F34A388-A280-4C3F-AF43-FAF16EFCB7B1","sustainable-business":"P2F34A388-A280-4C3F-AF43-FAF16EFCB7B1",fashion:"PCF345621-F34D-40B2-852C-6223C9C8F1E2",film:"P878ECFA5-14A7-4038-9924-3696C93706FC",law:"P1FA129DD-9B9E-49BB-98A4-AA7ED8523DFD",lifeandstyle:"PCFE04250-E5F6-48C7-91DB-5CED6854818C",media:"P1434DC6D-6585-4932-AE17-2864CD0AAE99",money:"PB71E7F1E-F231-4F73-9CC8-BE8822ADD0C2",music:"P78382DEE-CC9B-4B36-BD27-809007BFF300",international:"P505182AA-1D71-49D8-8287-AA222CD05424",au:"P505182AA-1D71-49D8-8287-AA222CD05424","australia-news":"P505182AA-1D71-49D8-8287-AA222CD05424",uk:"P505182AA-1D71-49D8-8287-AA222CD05424","uk-news":"P505182AA-1D71-49D8-8287-AA222CD05424",us:"P505182AA-1D71-49D8-8287-AA222CD05424","us-news":"P505182AA-1D71-49D8-8287-AA222CD05424",world:"P505182AA-1D71-49D8-8287-AA222CD05424",politics:"P5B7468E3-CE04-40FD-9444-22FB872FE83E",careers:"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","culture-professionals-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","global-development-professionals-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","government-computing-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","guardian-professional":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","healthcare-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","higher-education-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","housing-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","local-government-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","local-leaders-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","public-leaders-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","small-business-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","social-care-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","teacher-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","voluntary-sector-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","women-in-leadership":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA",science:"PDAD6BC22-C97B-4151-956B-7F069B2C56E9",society:"P7AF4A592-96FB-4255-B33F-352406F4C7D2",sport:"PCC1AEBB6-7D1A-4F34-8256-EFC314E5D0C3",football:"PCC1AEBB6-7D1A-4F34-8256-EFC314E5D0C3",technology:"P29EF991A-3FEE-4215-9F03-58EACA8286B9",travel:"PD1CEDC3E-2653-4CB6-A4FD-8A315DE07548","tv-and-radio":"P66E48909-8FC9-49E8-A7E6-0D31C61805AD","brand-only":"P0EE0F4F4-8D7C-4082-A2A4-82C84728DC59"},xe={shouldRun:!!window.guardian.config.switches.imrWorldwide&&(0,B.J4)(),url:"//secure-dcr.imrworldwide.com/novms/js/2/ggcmb510.js",onLoad:()=>{var e,t=window.guardian.config.page.section.toLowerCase(),n=null!==(e=Ce[t])&&void 0!==e?e:Ce["brand-only"],r=t in Ce?t:"The Guardian - brand only",o={sfcode:"dcr",apid:n,apn:"theguardian"},i=window.NOLCMB.getInstance(o.apid);i.ggInitialize(o);var a={type:"static",assetid:window.guardian.config.page.pageId,section:r};i.ggPM("staticstart",a)}},Te={shouldRun:!!window.guardian.config.switches.imrWorldwide&&(0,B.J4)(),url:"//secure-au.imrworldwide.com/v60.js",onLoad:()=>{window.nol_t({cid:"au-guardian",content:"0",server:"secure-gl"}).record().post()}},De=a(6873);function Re(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function Be(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Re(i,r,o,a,s,"next",e)}function s(e){Re(i,r,o,a,s,"throw",e)}a(void 0)}))}}var Le=e=>{var t=document.scripts[0],n=document.createDocumentFragment(),r=!1;return e.forEach((e=>{if(!0!==e.loaded){if(e.beforeLoad&&e.beforeLoad(),!0===e.useImage&&void 0!==e.url)(new Image).src=e.url;else if(e.insertSnippet)e.insertSnippet();else{var t;r=!0;var o=document.createElement("script");void 0!==e.url&&(o.src=e.url),o.onload=null!==(t=e.onLoad)&&void 0!==t?t:null,!0===e.async&&o.setAttribute("async",""),e.attrs&&e.attrs.forEach((e=>{o.setAttribute(e.name,e.value)})),n.appendChild(o)}e.loaded=!0}})),r?De.A.mutate((()=>{null!=t&&t.parentNode&&t.parentNode.insertBefore(n,t)})):Promise.resolve()},Me=function(){var t=Be((function*(t,n){yield Le(n);var r=yield(0,e.GD)(),o=t.filter((t=>void 0!==t.name&&(0,e.gS)(t.name,r)));o.length>0&&(yield Le(o))}));return function(e,n){return t.apply(this,arguments)}}(),Ie=()=>{var e,t,n,r,o=[ke({shouldRun:null!==(e=window.guardian.config.switches.remarketing)&&void 0!==e&&e}),Pe({shouldRun:null!==(t=window.guardian.config.switches.permutive)&&void 0!==t&&t}),Se.c,(0,_e.L)({shouldRun:null!==(n=window.guardian.config.switches.inizio)&&void 0!==n&&n}),je({shouldRun:null!==(r=window.guardian.config.switches.twitterUwt)&&void 0!==r&&r})].filter((e=>e.shouldRun)),i=[xe,Te].filter((e=>e.shouldRun));return Me(o,i)},Fe=function(){var e=Be((function*(){return o.o.thirdPartyTags?(yield Ie(),Promise.resolve(!0)):Promise.resolve(!1)}));return function(){return e.apply(this,arguments)}}(),Ne=a(7304);function ze(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}var Ue=function(){var n,r=(n=function*(){var n=yield(0,e.GD)();n.canTarget?((0,Ne.W)(n),(0,t.Rm)("commercial","tracking gpc signal")):(0,t.Rm)("commercial","No consent to track gpc signal")},function(){var e=this,t=arguments;return new Promise((function(r,o){var i=n.apply(e,t);function a(e){ze(i,r,o,a,s,"next",e)}function s(e){ze(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(){return r.apply(this,arguments)}}(),qe=a(2922);function He(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}var We=function(){var n,r=(n=function*(){var n,r=yield(0,e.GD)();"tcfv2"==r.framework&&null!==(n=r.tcfv2)&&void 0!==n&&n.consents[8]||r.canTarget?((0,qe.m)(),(0,t.Rm)("commercial","tracking scroll depth")):(0,t.Rm)("commercial","No consent to track scroll depth")},function(){var e=this,t=arguments;return new Promise((function(r,o){var i=n.apply(e,t);function a(e){He(i,r,o,a,s,"next",e)}function s(e){He(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(){return r.apply(this,arguments)}}(),Ge=a(3539),$e=a(6239),Ve=a(9295),Je=a(8154),Ke=a(4519);function Xe(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}var Ye=e=>{(0,t.Rm)("commercial","Failed to load Confiant:",e)},Ze=[],Qe=(e,r,o,i,a,s)=>{var c,l,u=null==s||null===(c=s.prebid)||void 0===c?void 0:c.s,d=null==s||null===(l=s.dfp)||void 0===l?void 0:l.s,f=null!=u?u:d;if((0,t.Rm)("commercial","".concat(o?"🚫 Blocked":"🚨 Screened"," bad ad with Confiant"),{blockedSlotPath:f,blockingType:e,blockingId:r,wrapperId:i,tagId:a}),o&&f){var p=(0,Ke.$)(f);if(!p)throw new Error("No slot found for ".concat(f));n.W.get().mark("".concat((0,M.qm)(p.id),"-blockedByConfiant")),(0,Je.X)(),p.slot.setTargeting("confiant",String(e)),Ze.includes(f)||((0,ne.M)(p),Ze.push(f))}},et=function(){var e,t=(e=function*(){var e="//".concat("cdn.confiant-integrations.net","/").concat("7oDgiTsq88US4rrBG0_Nxpafkrg","/gpt_and_prebid/config.js");if(window.guardian.config.switches.confiantAdVerification){var t;if(yield(0,c.k)(e,{async:!0}).catch(Ye),null===(t=window.confiant)||void 0===t||!t.settings)return;"#confiantDevMode"===window.location.hash&&(window.confiant.settings.devMode=!0),window.confiant.settings.callback=Qe}},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Xe(i,r,o,a,s,"next",e)}function s(e){Xe(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}(),tt="dfp-ad--";function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rt(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ot=(e,t,n)=>{window.console.warn("Caught error.",t.stack),(0,fe.N)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach((function(t){rt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({module:e},n),!1)},it=(e,t,n)=>{var r=(e=>{var t;try{e()}catch(e){t=(0,fe.q)(e)}return t})(t);r&&ot(e,r,n)},at=(e,t)=>{e.forEach((e=>{var[n,r]=e;return it(n,r,t)}))},st=a(8439),ct=a(7785),lt="".concat(window.location.protocol,"//").concat(window.location.host),ut=e=>{var t=(0,Ke.$)(e.slot.getSlotElementId());if(t){var n=t.node.getElementsByTagName("iframe").item(0);null!=n&&n.contentWindow?(0,ct.u)({id:n.id,host:lt},n.contentWindow):console.log("No iFrame found for slot",t.id,t.slot)}},dt=a(4645);function ft(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function pt(e,t){return e.get(mt(e,t))}function mt(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}var vt=new WeakMap;class gt{constructor(e,t){ft(this,vt,void 0),function(e,t,n){e.set(mt(e,t),n)}(vt,this,Array.from((null!=t?t:document).querySelectorAll(e)))}get(e){return"number"==typeof e?pt(vt,this)[e]:pt(vt,this)}setAttributes(e){return Object.entries(e).forEach((e=>{var[t,n]=e;return pt(vt,this).forEach((e=>e.setAttribute(t,n)))})),this}css(e){return Object.entries(e).forEach((e=>{var[t,n]=e;pt(vt,this).forEach((e=>e.style.setProperty(t,n)))})),this}remove(){pt(vt,this).forEach((e=>{var t;return null===(t=e.parentNode)||void 0===t?void 0:t.removeChild(e)}))}}var ht=(e,t)=>new gt(e,t),bt=e=>(e=>new Promise(((t,n)=>{var r=e.querySelector('iframe:not([id*="__hidden__"])');if(r)if(r.readyState&&"complete"!==r.readyState){var o=e=>{var n=e.srcElement;n&&"complete"===n.readyState&&(n.removeEventListener("readystatechange",o),t(r))};r.addEventListener("readystatechange",o)}else t(r);else n()})))(e).then((()=>!0)).catch((()=>!1));var wt=e=>De.A.measure((()=>{if((e=>!(e.classList.contains("ad-slot--fluid")&&!e.classList.contains("ad-slot--interscroller")&&!e.classList.contains("ad-slot--article-end")||e.classList.contains("ad-slot--frame")||e.classList.contains("ad-slot--gc")||e.classList.contains("u-h")||e.classList.contains("ad-slot--collapse")||"false"===e.getAttribute("data-label")))(e)){var t,n=(e=>!!(0,h.R)({name:"adtestInLabels",shouldMemoize:!0})&&!e.classList.contains("ad-slot--sky"))(e),r=(null===(t=e.parentNode)||void 0===t||null===(t=t.firstElementChild)||void 0===t?void 0:t.firstElementChild)instanceof HTMLAnchorElement,o=(0,h.R)({name:"adtest",shouldMemoize:!0}),i="Advertisement".concat((a=o,s="",n&&a&&(s+=" [?adtest=".concat(a,"] ")),s));return De.A.mutate((()=>{var t,a;(e.setAttribute("data-label-show","true"),e.setAttribute("ad-label-text",i),null!==(t=e.parentElement)&&void 0!==t&&t.classList.contains("ad-slot-container")&&"dfp-ad--top-above-nav"===e.id&&e.parentElement.setAttribute("top-above-nav-ad-rendered","true"),(e=>e.classList.contains("ad-slot--mobile-sticky"))(e)&&e.insertBefore((()=>{var e=document.createElement("button");e.className="ad-slot__close-button",e.innerHTML='<svg width="18" height="18" viewBox="0 0 18 18"><path d="M7.5 9l-6.5-7 1-1 7 6.5 7-6.5 1 1-6.5 7 6.5 7-1 1-7-6.5-7 6.5-1-1 6.5-7z"/></svg>\n',e.onclick=()=>{var t=e.closest(".mobilesticky-container");t&&t.remove()};var t=document.createElement("div");return t.style.cssText="position: relative;padding: 0;height: 0",t.appendChild(e),t})(),e.firstChild),n&&o&&!r)&&(null===(a=e.parentNode)||void 0===a||a.insertBefore((()=>{var e=document.createElement("div");e.style.cssText="position: relative;padding: 0;text-align: left;box-sizing: border-box;display: block;width: 0;height: 0";var t=new URL(window.location.href);t.searchParams.set("adtest","clear");var n=document.createElement("a");return n.className="ad-slot__adtest-cookie-clear-link",n.href=t.href,n.innerHTML="clear",e.appendChild(n),e})(),e))}))}var a,s;return Promise.resolve()})),yt=e=>function(t){return function(n){return t.some((e=>n.node.classList.contains(e)))?De.A.mutate((()=>{e.forEach((e=>{n.node.classList.add(e)}))})):Promise.resolve()}},Et=yt(["ad-slot--fluid250"]),St=yt(["ad-slot--fluid"]),_t={};_t[q.EA.fluid.toString()]=e=>St(["ad-slot"])(e).then((()=>((e,t)=>{var n=e.node.querySelector("iframe");De.A.mutate((()=>{n&&n.style.removeProperty(t)}))})(e,"vertical-align"))),_t[q.EA.mpu.toString()]=e=>e.updateExtraSlotClasses(),_t[q.EA.halfPage.toString()]=e=>e.updateExtraSlotClasses(),_t[q.EA.skyscraper.toString()]=e=>e.updateExtraSlotClasses("ad-slot--sky"),_t[q.EA.outstreamDesktop.toString()]=e=>e.updateExtraSlotClasses("ad-slot--outstream"),_t[q.EA.outstreamGoogleDesktop.toString()]=e=>e.updateExtraSlotClasses("ad-slot--outstream"),_t[q.EA.outstreamMobile.toString()]=e=>e.updateExtraSlotClasses("ad-slot--outstream"),_t[q.EA.googleCard.toString()]=e=>e.updateExtraSlotClasses("ad-slot--gc");var Pt=e=>{var t=e.node.parentNode;return De.A.mutate((()=>{if(e.node.classList.add("ad-slot--collapse"),e.id.includes("top-above-nav")){var n=e.node.closest(".top-banner-ad-container");n&&(n.style.display="none")}if(e.id.includes("fronts-banner")){var r=e.node.closest(".top-fronts-banner-ad-container");r&&(r.style.display="none")}t.classList.contains("fc-slice__item--mpu-candidate")&&t.classList.add("fc-slice__item--no-mpu")}))};_t[q.EA.outOfPage.toString()]=Pt,_t[q.EA.empty.toString()]=Pt,_t[q.EA.merchandising.toString()]=Et(["ad-slot--commercial-component"]);var Ot=(e,t)=>{var n,r;return n=e.node,(r=ht("#".concat(n.id," > div:not(.ad-slot__label)"),n).get()).length&&De.A.mutate((()=>{var e;null===(e=r[0])||void 0===e||e.classList.add("ad-slot__content")})),bt(e.node).then((n=>(()=>{if(e.size){e.hasPrebidSize=!1;var n=_t[e.size.toString()];return Promise.resolve(void 0!==n?n(e,t):e.updateExtraSlotClasses())}return Promise.resolve()})().then((()=>wt(e.node))).then((()=>((e,t)=>{var n=["dfp-ad--top-above-nav","dfp-ad--merchandising-high","dfp-ad--merchandising"];return De.A.measure((()=>{var r;return t&&!e.classList.contains("ad-slot--fluid")&&(null===(r=e.parentElement)||void 0===r?void 0:r.classList.contains("ad-slot-container"))&&n.includes(e.id)})).then((t=>{if(t)return De.A.mutate((()=>{var t;null===(t=e.parentElement)||void 0===t||t.classList.add("ad-slot-container--centre-slot")}))}))})(e.node,n))).then((()=>n?De.A.mutate((()=>{e.node.classList.add("ad-slot--rendered")})):Promise.resolve())).then((()=>n)))).catch((e=>((0,fe.N)(e,{feature:"commercial"},!1),Promise.resolve(!1))))},kt=e=>{var t,n=(0,Ke.$)(e.slot.getSlotElementId());n&&(n.isEmpty=e.isEmpty,e.isEmpty?((0,dt.C)(n),((e,t)=>{if(Math.random()<1e-4){var n=t.slot.getAdUnitPath(),r=(t.slot.getTargetingKeys().includes("k")?t.slot.getTargeting("k"):[]).join(", ");(0,fe.N)(new Error("dfp returned an empty ad response"),{feature:"commercial",adUnit:n,adSlot:e,adKeywords:r},!1)}})(n.id,e),n.finishedRendering(!1)):(!n.hasPrebidSize&&e.size&&(n.size=(t=e.size,(0,_.K)(t)?"fluid":(0,q.vL)(Number(t[0]),Number(t[1])))),n.lineItemId=e.lineItemId,Ot(n,e).then((e=>{n.finishedRendering(e)}))))},At=a(8995),jt=a(8562),Ct=a(6304),xt=a(9148);function Tt(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}var Dt=function(){var e,t=(e=function*(){var{host:e,isProd:t}=window.guardian.config.page,n=new URL("/commercial/non-refreshable-line-items.json",t?e:"https://m.code.dev-theguardian.com"),r=yield fetch(n.toString());if(r.ok){var o=yield r.json();if(!Array.isArray(o))throw Error("Failed to parse non-refreshable line items as an array");var i=o.reduce(((e,t)=>e instanceof Error||"number"!=typeof t?Error("Failed to parse element in non-refreshable line item array as number"):{lineItems:[...e.lineItems,t]}),{lineItems:[]});if(i instanceof Error)throw i;return i.lineItems}var a=Error("Failed to fetch non-refreshable line items");throw(0,fe.N)(a,{feature:"commercial",status:String(r.status)},!1),a},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Tt(i,r,o,a,s,"next",e)}function s(e){Tt(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}(),Rt=(0,xt.A)(Dt),Bt=e=>{var n=(0,Ke.$)(e.slot.getSlotElementId());if(n){(e=>{if((0,Ct.Fs)(e.size)){var{size:t,node:n}=e;Object.values(q.HA).some((e=>{var{width:n,height:r}=e;return n===t.width&&r===t.height}))||(t.isProxy()?De.A.mutate((()=>{n.style.minHeight=""})):De.A.measure((()=>"true"===n.getAttribute("data-label"))).then((e=>{var r=e?24:0;De.A.mutate((()=>{var e=t.height+r;n.style.minHeight="".concat(e,"px")}))})))}})(n),Rt().then((e=>{n.shouldRefresh=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=null===(t=e.size)||void 0===t?void 0:t.toString();return!("false"===e.node.dataset.refresh||"fluid"===r||Object.values(q.HA).map((e=>e.toString())).includes(r)||e.lineItemId&&n.includes(e.lineItemId)||window.guardian.config.page.hasPageSkin)}(n,e)})).catch((e=>{(0,t.Rm)("commercial","⚠️ Error fetching non-refreshable line items",e)}));var r=()=>{document.hidden||(document.removeEventListener("visibilitychange",r),(0,re.E)(n))};setTimeout((()=>{n.shouldRefresh&&(document.hidden?document.addEventListener("visibilitychange",r):(0,re.E)(n))}),3e4)}},Lt=e=>{e.forEach((e=>{e.classList.remove("right-sticky"),e.classList.remove("js-sticky-mpu"),e.classList.remove("is-sticky")}))},Mt=e=>{if(!e)return 0;var t=e.ownerDocument.documentElement;return e.getBoundingClientRect().top+(window.scrollY||document.documentElement.scrollTop)-Math.max(0,t.clientTop,window.document.body.clientTop)},It=a(6984),Ft=a(5989);function Nt(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function zt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Nt(i,r,o,a,s,"next",e)}function s(e){Nt(i,r,o,a,s,"throw",e)}a(void 0)}))}}var Ut=q.EA.mpu.height+24,qt=q.EA.halfPage.height+24,Ht=(e,n)=>{var r=(0,It.k3)("comments-expanded",{name:"comments-expanded-".concat(n),classes:"comments-expanded"});r.style.minHeight="".concat(q.EA.mpu.height+24,"px");var o=document.createElement("div");o.className="ad-slot-container",o.style.width="300px",o.style.margin="20px auto",o.appendChild(r);var i=document.createElement("li");return i.appendChild(o),(0,t.Rm)("commercial","Inserting mobile comments-expanded-".concat(n," advert")),De.A.mutate((()=>{e.after(i)})).then((()=>(0,v.M)(r,!1)))},Wt=function(){var e=zt((function*(){return De.A.measure((()=>{var e=document.querySelector('[data-commercial-id="comments-column"]');if(!e)throw new Error("Comments are not expanded.");return e}))}));return function(){return e.apply(this,arguments)}}(),Gt=()=>{var e=(()=>{var e=window.guardian.config.isDotcomRendering?".commentsRightColumn":".js-discussion__ad-slot",t=document.querySelector(e);if(!t)throw new Error("Could not find right column.");return t})();(e=>{var t=Ut+qt+window.innerHeight;return e.offsetHeight>=t})(e)&&(e=>{var n=(0,It.k3)("comments-expanded",{classes:"comments-expanded"}),r=document.createElement("div");r.className="ad-slot-container",r.style.position="sticky",r.style.top="0",r.appendChild(n);var o=document.createElement("div");o.style.flexGrow="1",o.appendChild(r),(0,t.Rm)("commercial","Inserting comments-expanded advert"),De.A.mutate((()=>{e.appendChild(r)})).then((()=>(0,v.M)(n,!1)))})(e)},$t=function(){var e=zt((function*(){var e=yield Wt(),t=window.guardian.config.isDotcomRendering?1:3;if((e=>e.childElementCount>=5)(e)&&!(document.querySelectorAll(".ad-slot--comments-expanded").length>0))for(var n=0,r=0;r<e.childElementCount;r++)if(e.children[r]&&(r-3)%5==0&&r+t<e.childElementCount){n++;var o=e.children[r];Ht(o,n)}}));return function(){return e.apply(this,arguments)}}(),Vt=e=>{var t=(0,It.k3)("crossword-banner-mobile"),n=(0,It.Rm)(t,{className:"fc-container fc-container--commercial dfp-ad--mobile-sticky ad-slot-container--centre-slot crossword-mobile-banner-ad"});De.A.mutate((()=>{e.parentNode&&e.parentNode.insertBefore(n,e)})).then((()=>(0,v.M)(t,!1)))},Jt=()=>window.guardian.config.isDotcomRendering?(()=>{var e=document.querySelector(".mobilesticky-container");if(e){var t=(0,It.k3)("mobile-sticky",{});e.appendChild(t)}return e})():(()=>{var e=document.createElement("div");e.className="mobilesticky-container";var t=(0,It.k3)("mobile-sticky",{});return e.appendChild(t),e})(),Kt=a(7360);function Xt(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function Yt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Xt(i,r,o,a,s,"next",e)}function s(e){Xt(i,r,o,a,s,"throw",e)}a(void 0)}))}}var Zt=0,Qt=(e,t)=>e?0===t?"top-above-nav":"inline".concat(t):"inline".concat(t+1),en=e=>{var t="mobile"===(0,X.D)(),n=document.createElement("div");n.className="ad-slot-container ad-slot-".concat(t?"mobile":"desktop");var r=(0,It.k3)("inline",{name:Qt(t,Zt),classes:"liveblog-inline".concat(t?"--mobile":"")});return n.appendChild(r),De.A.mutate((()=>{e.parentNode&&e.parentNode.insertBefore(n,e.nextSibling)})).then(Yt((function*(){return(0,v.M)(r,!1,{phablet:[q.EA.outstreamDesktop,q.EA.outstreamGoogleDesktop],desktop:[q.EA.outstreamDesktop,q.EA.outstreamGoogleDesktop]})})))},tn=function(){var e=Yt((function*(e){for(var t=[],n=0;n<e.length&&Zt<8;n+=1){var r=e[n];if(null!=r&&r.parentNode){var o=en(r);t.push(o),Zt+=1}}yield Promise.all(t)}));return function(t){return e.apply(this,arguments)}}(),nn=e=>Kt.f.fillSpace(e,tn,{pass:"inline1"}),rn=(e,t)=>{var n;return{bodySelector:".js-liveblog-body",candidateSelector:" > .block",fromBottom:!0,startAt:e,absoluteMinAbove:0,minAbove:0,minBelow:0,clearContentMeta:0,opponentSelectorRules:{},filter:e=>n?!!((e,t,n)=>Math.abs(e.bottom-t.bottom)>1.5*n)(n,e,t)&&(n=e,!0):(n=e,!1)}},on=function(){var e=Yt((function*(e){var t=e.previousElementSibling;return null===t?null:t.classList.contains("block")?t:on(t)}));return function(t){return e.apply(this,arguments)}}(),an=function(){var e=Yt((function*(){return De.A.measure((()=>{var e,t=document.querySelectorAll(".js-liveblog-body > .block");return null!==(e=t[t.length-1])&&void 0!==e?e:null}))}));return function(){return e.apply(this,arguments)}}(),sn=function(){var e=Yt((function*(e){var t=document.querySelector(".js-liveblog-body > ".concat(e));return null===t?yield an():on(t)}));return function(t){return e.apply(this,arguments)}}(),cn=function(){var e=Yt((function*(){var e="mobile"===(0,X.D)(),n=".ad-slot-container.ad-slot-".concat(e?"mobile":"desktop");return De.A.measure((()=>{var e=document.querySelectorAll(n).length;if(e>=8)throw new Error("Cannot insert any more inline ads. At ad slot limit.");Zt=e})).then(Yt((function*(){var e=yield sn(n);if(!e)throw new Error("Cannot insert new inline ads. Cannot find a content block to start searching");return e}))).then((e=>De.A.measure((()=>document.documentElement.clientHeight)).then((t=>rn(e,t))).then(nn))).catch((e=>{(0,t.Rm)("commercial",e)}))}));return function(){return e.apply(this,arguments)}}(),ln=()=>{document.removeEventListener("liveblog:blocks-updated",ln),cn()},un=a(8799);function dn(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}var fn=function(){var e,t=(e=function*(e,t,n){var r=["im","carrot"].includes(e);yield(0,v.M)(t,r,n)},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){dn(i,r,o,a,s,"next",e)}function s(e){dn(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(e,n,r){return t.apply(this,arguments)}}();function pn(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function mn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){pn(i,r,o,a,s,"next",e)}function s(e){pn(i,r,o,a,s,"throw",e)}a(void 0)}))}}var vn=[["cm-mobileSticky",()=>{if((0,M.Lu)()){var e=Jt();return De.A.mutate((()=>{document.body&&e&&document.body.appendChild(e)})).then((()=>{if(e){var t=e.querySelector("#dfp-ad--mobile-sticky");t&&(0,v.M)(t,!0)}}))}return Promise.resolve()}],["cm-highMerch",()=>{if(o.o.highMerch){var e=window.guardian.config.page.commentable?"#comments + *":".content-footer > :first-child",t=document.querySelector(e),n=(0,It.k3)("merchandising-high"),r=(0,It.Rm)(n,{className:"fc-container fc-container--commercial"});return r.style.display="flex",r.style.justifyContent="center",De.A.mutate((()=>{null!=t&&t.parentNode&&t.parentNode.insertBefore(r,t)}))}return Promise.resolve()}],["cm-articleAsideAdverts",()=>{var e=ht(".js-secondary-column");if(!e.get().length||"none"===e.get(0).style.display)return Promise.resolve(!1);var t=ht(".js-content-main-column"),n=ht(".js-ad-slot",e.get(0)),r=ht(".element--immersive",t.get(0)),o=n.get(),i=r.get();return o.length&&t.get().length?De.A.measure((()=>{var e=Mt(i[0]),n=Mt(t.get(0));return[t.get(0).offsetHeight,e-n]})).then((e=>{var[t,n]=e;return window.guardian.config.page.hasShowcaseMainElement?o[0]:window.guardian.config.page.isImmersive&&i.length>0?De.A.mutate((()=>{var e,t;return Lt(o),null===(e=o[0])||void 0===e||e.setAttribute("data-mobile",(t=n)>600?"1,1|2,2|300,250|300,274|300,600|fluid":t>274?"1,1|2,2|300,250|300,274":t>250?"1,1|2,2|300,250":"1,1|2,2"),o[0]})):t<1300?De.A.mutate((()=>{var e;return Lt(o),null===(e=o[0])||void 0===e||e.setAttribute("data-mobile","1,1|2,2|300,250|300,274|fluid"),o[0]})):o[0]})).then((e=>(ee.C.emit("page:defaultcommercial:right",e),!0))):Promise.resolve(!1)}],["cm-articleBodyAdverts",()=>(document.addEventListener("article:sign-in-gate-dismissed",(()=>{(0,un.T)(fn)})),(0,un.T)(fn))],["cm-liveblogAdverts",()=>(o.o.liveblogAdverts&&document.addEventListener("liveblog:blocks-updated",ln),Promise.resolve())],["cm-commentsExpandedAdverts",()=>o.o.commentAdverts?(document.addEventListener("comments-loaded",(()=>{if("mobile"===(0,X._y)((0,Ft.H)().width)){var e;if("control"===(null===(e=window.guardian.config.tests)||void 0===e?void 0:e.commercialMegaTestControl))return;$t()}else{var t;if(!window.guardian.config.isDotcomRendering&&"control"===(null===(t=window.guardian.config.tests)||void 0===t?void 0:t.commercialMegaTestControl))return;Gt()}})),document.addEventListener("comments-state-change",(()=>{var e;"control"!==(null===(e=window.guardian.config.tests)||void 0===e?void 0:e.commercialMegaTestControl)&&(()=>{if("mobile"!==(0,X._y)((0,Ft.H)().width))return Promise.resolve();var e=document.querySelectorAll(".ad-slot--comments-expanded");De.A.mutate((()=>e.forEach((e=>{(0,t.Rm)("commercial","Removing ad slot: ".concat(e.id));var n=(0,Ke.$)(e.id);n&&window.googletag.destroySlots([n.slot]),e.remove(),g.W.adverts.delete(e.id),g.W.advertsToLoad=g.W.advertsToLoad.filter((e=>e!==n))}))))})()})),Promise.resolve()):((0,t.Rm)("commercial","Adverts in comments are disabled in commercialFeatures"),Promise.resolve())],["cm-crosswordBannerMobile",()=>{var e;if(window.guardian.config.isDotcomRendering)return Promise.resolve();if("control"===(null===(e=window.guardian.config.tests)||void 0===e?void 0:e.commercialMegaTestControl))return Promise.resolve();var t=".crossword__container__above-controls + *",n=document.querySelector(t);return n?Vt(n):window.addEventListener("crossword-loaded",(()=>{var e=document.querySelector(t);e&&Vt(e)}),{once:!0}),Promise.resolve()}]],gn=function(){var e=mn((function*(){yield Promise.all(vn.map(function(){var e=mn((function*(e){var[t,n]=e;try{yield n()}catch(e){(0,fe.N)(e,{feature:"commercial",tag:t})}}));return function(t){return e.apply(this,arguments)}}()))}));return function(){return e.apply(this,arguments)}}(),hn=a(5781);function bn(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function wn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){bn(i,r,o,a,s,"next",e)}function s(e){bn(i,r,o,a,s,"throw",e)}a(void 0)}))}}function yn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function En(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Sn,_n,Pn,On,kn,An,jn=window.guardian.config.isDotcomRendering,Cn=e=>{var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yn(Object(n),!0).forEach((function(t){En(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return delete t.scrollType,delete t.ctaUrl,delete t.videoSource,t.backgroundColour&&(t.backgroundColor=t.backgroundColour,delete t.backgroundColour),t},xn=function(){var e=wn((function*(e,t){var{backgroundParent:n,background:r}=((e,t)=>{var n=e.querySelector(".creative__background-parent"),r=e.querySelector(".creative__background");return n&&r||(n=document.createElement("div"),r=document.createElement("div"),n.classList.add("creative__background-parent"),r.classList.add("creative__background"),t&&(n.classList.add("creative__background-parent--".concat(t)),r.classList.add("creative__background--".concat(t))),n.appendChild(r),jn&&(n.style.zIndex="-1",n.style.position="absolute",n.style.inset="0",n.style.clipPath="polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)",n.style.overflow="hidden",r.style.inset="0",r.style.transition="background 100ms ease","interscroller"===t&&(r.style.height="100vh"))),{backgroundParent:n,background:r}})(t,e.scrollType);return De.A.mutate((()=>{if(((e,t)=>{var n=Cn(e);Object.assign(t.style,n)})(e,r),"parallax"===e.scrollType&&((e,t,n)=>{t.style.position="absolute",e.style.position="relative";var r=e=>De.A.measure((()=>e.getBoundingClientRect())).then((t=>De.A.mutate((()=>{var n=t.height,r=window.innerHeight,o=Math.floor(t.bottom/(r+n)*130);e.style.backgroundPositionY="".concat(o,"%")}))));new IntersectionObserver((e=>e.filter((e=>e.isIntersecting)).forEach((()=>{window.addEventListener("scroll",(()=>{r(t)}),{passive:!0}),r(t)}))),{rootMargin:"10px"}).observe(n)})(t,r,n),"fixed"===e.scrollType&&(t.style.position="relative",jn&&(r.style.position="fixed"),e.backgroundColor&&(n.style.backgroundColor=e.backgroundColor)),"interscroller"===e.scrollType){if(jn&&(t.style.height="85vh",t.style.marginBottom="12px",t.style.position="relative"),wt(t),a=n,De.A.mutate((()=>{var e=document.createElement("div");e.classList.add("ad-slot__scroll"),e.innerHTML="Scroll for More",e.setAttribute("role","button"),e.onclick=e=>{a.scrollIntoView({behavior:"smooth",block:"start"}),e.preventDefault()},a.appendChild(e)})),jn&&((e,t)=>{e.style.position="fixed";var n=document.createElement("div");n.classList.add("ad-slot__line"),n.style.position="absolute",n.style.width="100%",n.style.bottom="0",n.style.borderBottom="1px solid #dcdcdc",t.appendChild(n)})(r,n),e.ctaUrl){var o=((e,t)=>{var n=document.createElement("a");return n.href=e,n.target="_new",n.appendChild(t),n.style.width="100%",n.style.height="100%",n.style.display="inline-block",n})(e.ctaUrl,n);t.insertBefore(o,t.firstChild)}if(e.videoSource){var i=document.createElement("video");i.autoplay=!0,i.muted=!0,i.playsInline=!0,i.src=e.videoSource,i.style.inset="50% 0 0 50%",i.style.position="fixed",i.style.height="100%",i.style.transform="translate(-50%, -50%)",r.appendChild(i)}}else t.insertBefore(n,t.firstChild);var a}))}));return function(t,n){return e.apply(this,arguments)}}(),Tn=-1,Dn=function(e){addEventListener("pageshow",(function(t){t.persisted&&(Tn=t.timeStamp,e(t))}),!0)},Rn=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},Bn=function(){var e=Rn();return e&&e.activationStart||0},Ln=function(e,t){var n=Rn(),r="navigate";return Tn>=0?r="back-forward-cache":n&&(document.prerendering||Bn()>0?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},Mn=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},In=function(e,t,n,r){var o,i;return function(a){t.value>=0&&(a||r)&&((i=t.value-(o||0))||void 0===o)&&(o=t.value,t.delta=i,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,n),e(t))}},Fn=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},Nn=function(e){var t=function(t){"pagehide"!==t.type&&"hidden"!==document.visibilityState||e(t)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},zn=function(e){var t=!1;return function(n){t||(e(n),t=!0)}},Un=-1,qn=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},Hn=function(e){"hidden"===document.visibilityState&&Un>-1&&(Un="visibilitychange"===e.type?e.timeStamp:0,Gn())},Wn=function(){addEventListener("visibilitychange",Hn,!0),addEventListener("prerenderingchange",Hn,!0)},Gn=function(){removeEventListener("visibilitychange",Hn,!0),removeEventListener("prerenderingchange",Hn,!0)},$n=function(){return Un<0&&(Un=qn(),Wn(),Dn((function(){setTimeout((function(){Un=qn(),Wn()}),0)}))),{get firstHiddenTime(){return Un}}},Vn=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},Jn=[1800,3e3],Kn=[.1,.25],Xn={passive:!0,capture:!0},Yn=new Date,Zn=function(e,t){Sn||(Sn=t,_n=e,Pn=new Date,tr(removeEventListener),Qn())},Qn=function(){if(_n>=0&&_n<Pn-Yn){var e={entryType:"first-input",name:Sn.type,target:Sn.target,cancelable:Sn.cancelable,startTime:Sn.timeStamp,processingStart:Sn.timeStamp+_n};On.forEach((function(t){t(e)})),On=[]}},er=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){Zn(e,t),o()},r=function(){o()},o=function(){removeEventListener("pointerup",n,Xn),removeEventListener("pointercancel",r,Xn)};addEventListener("pointerup",n,Xn),addEventListener("pointercancel",r,Xn)}(t,e):Zn(t,e)}},tr=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,er,Xn)}))},nr=[100,300],rr=[2500,4e3],or={},ir=null!==(kn=null===(An=window.guardian.config.googleAnalytics)||void 0===An||null===(An=An.trackers)||void 0===An?void 0:An.editorial)&&void 0!==kn?kn:"no-ga-tracker-found",ar="".concat(ir,".send"),sr=e=>{var{name:t,delta:n,id:r}=e,{ga:o}=window;o&&o(ar,"event",{eventCategory:"Web Vitals",eventAction:t,eventValue:Math.round("CLS"===t?1e3*n:n),eventLabel:r,nonInteraction:!0})};100*Math.random()<=5&&(function(e,t){t=t||{},function(e,t){t=t||{},Vn((function(){var n,r=$n(),o=Ln("FCP"),i=Mn("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(i.disconnect(),e.startTime<r.firstHiddenTime&&(o.value=Math.max(e.startTime-Bn(),0),o.entries.push(e),n(!0)))}))}));i&&(n=In(e,o,Jn,t.reportAllChanges),Dn((function(r){o=Ln("FCP"),n=In(e,o,Jn,t.reportAllChanges),Fn((function(){o.value=performance.now()-r.timeStamp,n(!0)}))})))}))}(zn((function(){var n,r=Ln("CLS",0),o=0,i=[],a=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=i[0],n=i[i.length-1];o&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(o+=e.value,i.push(e)):(o=e.value,i=[e])}})),o>r.value&&(r.value=o,r.entries=i,n())},s=Mn("layout-shift",a);s&&(n=In(e,r,Kn,t.reportAllChanges),Nn((function(){a(s.takeRecords()),n(!0)})),Dn((function(){o=0,r=Ln("CLS",0),n=In(e,r,Kn,t.reportAllChanges),Fn((function(){return n()}))})),setTimeout(n,0))})))}(sr),function(e,t){t=t||{},Vn((function(){var n,r=$n(),o=Ln("LCP"),i=function(e){var t=e[e.length-1];t&&t.startTime<r.firstHiddenTime&&(o.value=Math.max(t.startTime-Bn(),0),o.entries=[t],n())},a=Mn("largest-contentful-paint",i);if(a){n=In(e,o,rr,t.reportAllChanges);var s=zn((function(){or[o.id]||(i(a.takeRecords()),a.disconnect(),or[o.id]=!0,n(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,(function(){return setTimeout(s,0)}),!0)})),Nn(s),Dn((function(r){o=Ln("LCP"),n=In(e,o,rr,t.reportAllChanges),Fn((function(){o.value=performance.now()-r.timeStamp,or[o.id]=!0,n(!0)}))}))}}))}(sr),function(e,t){t=t||{},Vn((function(){var n,r=$n(),o=Ln("FID"),i=function(e){e.startTime<r.firstHiddenTime&&(o.value=e.processingStart-e.startTime,o.entries.push(e),n(!0))},a=function(e){e.forEach(i)},s=Mn("first-input",a);n=In(e,o,nr,t.reportAllChanges),s&&Nn(zn((function(){a(s.takeRecords()),s.disconnect()}))),s&&Dn((function(){var r;o=Ln("FID"),n=In(e,o,nr,t.reportAllChanges),On=[],_n=-1,Sn=null,tr(addEventListener),r=i,On.push(r),Qn()}))}))}(sr));var cr=(e,t)=>{var n,r;n=e.id,r=t,window.ga(ar,"event","click","native ad",r,{nonInteraction:!0,dimension25:n})},lr=(e,t)=>Q().mutate((()=>{e?t.classList.add("ad-slot--full-width"):t.classList.remove("ad-slot--full-width")})),ur=e=>(0,hn.G)(e)&&"selector"in e,dr=(e,t)=>{for(var n=[],r=0;r<t.length;r+=1){var o,i=null===(o=t[r])||void 0===o?void 0:o.ownerNode;i instanceof HTMLStyleElement&&i.matches(e.selector)&&null!==i.textContent&&n.push(i.textContent)}return n},fr=e=>(0,hn.G)(e)&&(0,_.K)(e.slotId)?e.slotId:void 0,pr=n.W.get(),mr=a(1684),vr=[q.EA.mpu.width,q.EA.mpu.height],gr=[q.EA.outstreamDesktop.width,q.EA.outstreamDesktop.height],hr=[q.EA.outstreamMobile.width,q.EA.outstreamMobile.height],br=(e,t)=>e.map((e=>[e,t(e)])),wr=e=>{var t="mobile"===(0,X.D)();return"".concat(e).concat(t?"mobile":"desktop")},yr=(e,t)=>{var n=(0,Ke.$)(t.id);n&&(n.slot.setTargeting("passback",e),(0,ne.M)(n))},Er=e=>{var t=/^(\d+)(%|px|em|ex|ch|rem|vh|vw|vmin|vmax)?/.exec(String(e));if(!t)return"";var n=t[1],r=void 0===t[2]?"px":t[2];return n?n+r:""},Sr=(e,t,n,r)=>{if(!(e=>(0,hn.G)(e)&&(void 0===e.width||(0,_.K)(e.width)||"number"==typeof e.width)&&(void 0===e.height||(0,_.K)(e.height)||"number"==typeof e.height))(e)||!r)return Promise.resolve();var o={};return e.width&&(o.width=Er(e.width)),e.height&&(o.height=Er(e.height)),De.A.mutate((()=>{Object.assign(t.style,o),n&&Object.assign(n.style,o)}))},_r=!1;try{var Pr={get passive(){return _r=!0,!1}};window.addEventListener("test",null,Pr),window.removeEventListener("test",null,Pr)}catch(Sn){}var Or,kr=window,Ar="IntersectionObserver"in kr,jr=!1,Cr={},xr=0,Tr=[],Dr=(e,t)=>{var n,r;null===(n=Cr[e])||void 0===n||n.respond(null,{width:(r=t).width,height:r.height,top:r.top,bottom:r.bottom,left:r.left,right:r.right})},Rr=e=>{var t;return[e,(null===(t=Cr[e])||void 0===t?void 0:t.node).getBoundingClientRect()]},Br=function(e){return e[1].bottom>0&&e[1].top<this.height},Lr=e=>{Tr=e.filter((e=>e.intersectionRatio>0)).map((e=>e.target.id))},Mr=()=>{if(!jr){var e=(0,Ft.H)();jr=!0,De.A.measure((()=>{jr=!1;var t=Object.keys(Cr);Ar?Tr.map(Rr).forEach((e=>{Dr(e[0],e[1])})):t.map(Rr).filter(Br,e).forEach((e=>{Dr(e[0],e[1])}))}))}},Ir=(e,t)=>{0===xr&&(!function(e,t,n){var{passive:r=!1,capture:o=!1,once:i=!1}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};_r?e.addEventListener(t,n,{passive:r,capture:o,once:i}):i?e.addEventListener(t,(function r(o){n.call(this,o),e.removeEventListener(t,r)}),o):e.addEventListener(t,n,o)}(kr,"scroll",Mr,{passive:!0}),Ar&&(Or=new kr.IntersectionObserver(Lr))),Cr[e.id]={node:e,visible:!Ar,respond:t},xr+=1,Or&&Or.observe(e),De.A.measure((()=>e.getBoundingClientRect())).then((t=>{Dr(e.id,t)}))},Fr=e=>{e.id in Cr&&(Ar&&Or&&Or.unobserve(e),delete Cr[e.id],xr-=1),0===xr&&(kr.removeEventListener("scroll",Mr),Ar&&Or&&(Or.disconnect(),Or=null))},Nr=window,zr={},Ur=0,qr=!1,Hr=()=>De.A.measure((()=>(0,Ft.H)())),Wr=(e,t)=>{var n;null===(n=zr[e])||void 0===n||n.respond(null,t)},Gr=()=>{qr||(qr=!0,Hr().then((e=>{Object.keys(zr).forEach((t=>{Wr(t,e)})),qr=!1})))},$r=(e,t)=>(0===Ur&&Nr.addEventListener("resize",Gr),zr[e.id]={node:e,respond:t},Ur+=1,Hr().then((t=>{Wr(e.id,t)}))),Vr=e=>{delete zr[e.id],0===(Ur-=1)&&Nr.removeEventListener("resize",Gr)},Jr=(e,t,n)=>{n&&"boolean"==typeof t&&(t?$r(n,e):Vr(n))};(0,At._h)([e=>{e("type",((e,t,n)=>{var r=null==n?void 0:n.closest(".js-ad-slot");r&&(0,_.K)(e)&&((e,t)=>{De.A.mutate((()=>{t.classList.add("ad-slot--".concat(e))}))})(e,r)}))},e=>{e("get-styles",(e=>{if(ur(e))return dr(e,document.styleSheets)}))},e=>{e("get-page-targeting",(()=>window.guardian.config.page.sharedAdTargeting))},e=>{e("get-page-url",(()=>window.location.origin+window.location.pathname))},e=>{e("measure-ad-load",(e=>{pr.mark("adOnPage",fr(e)),pr.mark("fetchAdEnd",fr(e)),pr.mark("adRenderEnd",fr(e))}))},e=>{e("passback-refresh",((e,t,n)=>{if(n&&(0,_.K)(e)){var r,o=null!==(r=n.closest(".js-ad-slot"))&&void 0!==r?r:void 0;if(!o)return;return yr(e,o)}}))},e=>{e("resize",((e,t,n)=>{if(n&&e){var r,o,i=null!==(r=n.closest(".js-ad-slot"))&&void 0!==r?r:void 0;i&&(e=>{De.A.mutate((()=>{e.classList.remove("ad-slot--outstream")}))})(i);var a=null!==(o=n.closest(".ad-slot__content"))&&void 0!==o?o:void 0;return Sr(e,n,a,i)}}))},e=>{e("full-width",((e,t,n)=>{if(n&&e){var r,o;if(!(e=>"boolean"==typeof e)(e))return;var i=null!==(r=n.closest(".js-ad-slot"))&&void 0!==r?r:void 0,a=null==i?void 0:i.dataset.name;if(null==a||!a.startsWith("fronts-banner")||!i)return;var s=null!==(o=n.closest(".ad-slot-container"))&&void 0!==o?o:void 0;if(!s)return;return lr(e,s)}}))},e=>{e("click",((e,t,n)=>{var r;return cr(null!==(r=null==n?void 0:n.closest(".js-ad-slot"))&&void 0!==r?r:{id:"unknown"},(0,_.K)(e)?e:"")}))},e=>{e("background",function(){var e=wn((function*(e,t,n){if(!(e=>(0,hn.G)(e)&&"backgroundImage"in e)(e))return Promise.resolve();var r=null==n?void 0:n.closest(".js-ad-slot");return r?xn(e,r):void 0}));return function(t,n,r){return e.apply(this,arguments)}}())},e=>{e("disable-refresh",((e,t,n)=>{if(n){var r=n.closest(".js-ad-slot");if(r instanceof HTMLElement){var o=g.W.adverts.get(r.id);o&&(o.shouldRefresh=!1)}}}))},e=>{e("passback",((e,n,r)=>{window.googletag.cmd.push((()=>{var{source:n}=e;if(n)if(r){var o=r.closest(".ad-slot"),i=null==o?void 0:o.dataset.name;if(i){var a="".concat(tt).concat(i);(0,t.Rm)("commercial","Passback: from source '".concat(n,"' for slot '").concat(a,"'"));var s=r.closest(".ad-slot__content");if(s)De.A.mutate((()=>{s.style.visibility="hidden",o.style.position="relative",o.classList.remove("ad-slot--outstream")})).then((()=>{var e=document.createElement("div");return e.id="".concat(a,"--passback"),e.classList.add("ad-slot","js-ad-slot"),e.setAttribute("aria-hidden","true"),e.style.position="absolute",e.style.top="".concat(24,"px"),e.style.width="100%",De.A.mutate((()=>{o.insertAdjacentElement("beforeend",e)})).then((()=>e.id))})).then((e=>{var c=window.googletag.pubads().getSlots().find((e=>e.getSlotElementId()===a));if(c){var l=br(window.googletag.pubads().getTargetingKeys(),(e=>window.googletag.pubads().getTargeting(e))),u=br(c.getTargetingKeys(),(e=>c.getTargeting(e)));(0,t.Rm)("commercial","Passback: initial slot targeting",Object.fromEntries([...l,...u]));var d=[...l,...u,["passback",[wr(n)]],["slot",[i]]];googletag.pubads().addEventListener("slotRenderEnded",(function(n){if(n.slot.getSlotElementId()===e){var i=n.size;if(Array.isArray(i)&&i[1]){var a=i[1];(0,t.Rm)("commercial","Passback: ad height is ".concat(a)),De.A.mutate((()=>{var e="".concat(a+24,"px");(0,t.Rm)("commercial","Passback: setting height of passback slot to ".concat(e)),o.style.height=e,r.style.height=e,s.style.height=e}))}}})),window.googletag.cmd.push((()=>{var n=googletag.defineSlot(c.getAdUnitPath(),[vr,hr,gr],e);n&&(n.defineSizeMapping([[[mr.f.phablet,0],[vr,gr]],[[mr.f.mobile,0],[vr,hr]]]),n.addService(window.googletag.pubads()),d.forEach((e=>{var[t,r]=e;n.setTargeting(t,r)})),(0,t.Rm)("commercial","Passback: passback slot targeting map",n.getTargetingMap()),(0,t.Rm)("commercial","Passback: displaying slot '".concat(e,"'")),googletag.display(e))}))}else(0,t.Rm)("commercial","Passback: cannot determine the googletag slot from the slotId")}));else(0,t.Rm)("commercial","Passback: cannot determine the iFrameContainer from the calling iFrame")}else(0,t.Rm)("commercial","Passback: cannot determine the slot from the calling iFrame")}else(0,t.Rm)("commercial","Passback: iframe has not been passed by messenger");else(0,t.Rm)("commercial","Passback: postMessage does not have source set")}))}))}],[e=>{e("scroll",((e,t,n)=>{n&&(t&&(e=>"function"==typeof e)(e)?Ir(n,e):Fr(n))}))},e=>{e("viewport",Jr)}],fe.N);function Kr(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}var Xr,{frontendAssetsFullURL:Yr,page:Zr}=window.guardian.config;a.p=(Xr=null!=Yr?Yr:Zr.assetsPath,"".concat(Xr,"javascripts/commercial/"));var Qr={feature:"commercial",bundle:"standalone"},eo=[],to=[["cm-adFreeSlotRemoveFronts",s],["cm-closeDisabledSlots",i.e],["cm-comscore",()=>m()],["cm-ipsosmori",D],["cm-teadsCookieless",Ee],["cm-trackScrollDepth",We],["cm-trackGpcSignal",Ue]];o.o.adFree||(eo.push(["cm-messenger",()=>Promise.resolve()],["cm-setAdTestCookie",$e.T],["cm-setAdTestInLabelsCookie",Ve.T],["cm-reloadPageOnConsentChange",Ge.M],["cm-prepare-prebid",()=>K()],["cm-dfp-listeners",()=>(window.googletag.cmd.push((()=>{var e,n=window.googletag.pubads();n.addEventListener("slotRenderEnded",st.A.wrap(kt)),n.addEventListener("slotOnload",st.A.wrap(ut)),n.addEventListener("impressionViewable",(e=(0,jt.S)(),n=>{var r=n.slot.getTargeting("slot")[0];At.W6.get().mark("viewable",r),(0,t.Rm)("commercial","Slot viewable",r),"false"!==e.adrefresh&&Bt(n)}))})),Promise.resolve())],["cm-prepare-googletag",()=>(()=>{!function(e,t,n,r,o){if(!t){t=t||{},window.permutive=t,t.q=[],t.config={}||{},t.config.projectId="d6691a17-6fdb-4d26-85d6-b3dd27f55f08",t.config.apiKey="359ba275-5edd-4756-84f8-21a24369ce0b",t.config.environment=t.config.environment||"production";for(var i=["addon","identify","track","trigger","query","segment","segments","ready","on","once","user","consent"],a=0;a<i.length;a++){var s=i[a];t[s]=function(e){return function(){var n=Array.prototype.slice.call(arguments,0);t.q.push({functionName:e,arguments:n})}}(s)}}}(document,window.permutive),window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((()=>{if(0===window.googletag.pubads().getTargeting("permutive").length){var e=window.localStorage.getItem("_pdfps");window.googletag.pubads().setTargeting("permutive",e?JSON.parse(e):[])}}));var e={user:window.guardian.config.user,page:window.guardian.config.page,ophan:window.guardian.config.ophan};return he(e,window.permutive,fe.N),Promise.resolve()})().then(de)],["cm-dynamic-a-slots",gn],["cm-prepare-a9",()=>(0,e.GD)().then((t=>{if((0,e.gS)("a9",t))return F();throw Error("No consent for a9")})).catch((e=>{(0,t.Rm)("commercial","⚠️ Failed to execute a9",e)}))],["cm-prepare-fill-slot-listener",()=>Promise.resolve(void document.addEventListener("gu.commercial.slot.fill",(e=>{window.googletag.cmd.push((()=>{if((e=>"detail"in e)(e)){var{slotId:t,additionalSizes:n}=e.detail;if(g.W.adverts.has(t))return;var r=document.getElementById(t);r&&(0,v.M)(r,!1,n)}}))})))]),to.push(["cm-prepare-adverification",et],["cm-thirdPartyTags",Fe],["cm-redplanet",()=>o.o.launchpad&&(0,B.J4)()?we():Promise.resolve()]));var no=()=>{var e=n.W.get();e.mark("commercialBootEnd"),e.mark("commercialModulesLoaded");var t=document.querySelectorAll('[id^="'.concat(tt,'"]')).length;e.setProperty("adSlotsTotal",t);var r=document.querySelectorAll('[id^="'.concat(tt,'inline"]')).length;e.setProperty("adSlotsInline",r)},ro=function(){var e,r=(e=function*(){(0,t.Rm)("commercial","📦 standalone.commercial.ts",a.p),(0,t.Rm)("commercial","@guardian/commercial commit https://github.com/guardian/commercial/blob/".concat("69bc49fdc4736829286fb45336a33e0b543ed50b")),n.W.init(),at([["ga-user-timing-commercial-start",function(){n.W.get().mark("commercialStart"),n.W.get().mark("commercialBootStart")}]],Qr),window.googletag={cmd:[]};try{var e=[[eo,"commercialBaseModulesLoaded"],[to,"commercialExtraModulesLoaded"]].map((e=>((e,t)=>{var r=[];return e.forEach((e=>{var[t,n]=e;at([[t,function(){var e=n();r.push(e)}]],Qr)})),Promise.allSettled(r).then((()=>{n.W.get().mark(t)}))})(...e)));yield Promise.all(e).then(no)}catch(e){(0,fe.N)(e,Qr,!1)}},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Kr(i,r,o,a,s,"next",e)}function s(e){Kr(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(){return r.apply(this,arguments)}}(),oo=()=>{window.guardian.mustardCut||window.guardian.polyfilled?ro():window.guardian.queue.push(ro)};function io(e,t,n,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}var ao=function(){var t,n=(t=function*(){var t=yield(0,e.GD)();!t.tcfv2||(0,e.gS)("googletag",t)||o.o.adFree?oo():a.e(952).then(a.bind(a,1788)).then((e=>{var{bootConsentless:n}=e;return n(t)}))},function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(e){io(i,r,o,a,s,"next",e)}function s(e){io(i,r,o,a,s,"throw",e)}a(void 0)}))});return function(){return n.apply(this,arguments)}}();window.guardian.config.switches.optOutAdvertising?ao():oo()})()})();
//# sourceMappingURL=graun.standalone.commercial.js.map